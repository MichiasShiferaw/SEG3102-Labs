"use strict";(self.webpackChunkemployeeApp=self.webpackChunkemployeeApp||[]).push([[179],{466:()=>{function Ne(n){return"function"==typeof n}function ua(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Tu=ua(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function ca(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class rn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(Ne(r))try{r()}catch(s){e=s instanceof Tu?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{Du(s)}catch(o){e=e??[],o instanceof Tu?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Tu(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Du(e);else{if(e instanceof rn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&ca(t,e)}remove(e){const{_finalizers:t}=this;t&&ca(t,e),e instanceof rn&&e._removeParent(this)}}rn.EMPTY=(()=>{const n=new rn;return n.closed=!0,n})();const Cf=rn.EMPTY;function ey(n){return n instanceof rn||n&&"closed"in n&&Ne(n.remove)&&Ne(n.add)&&Ne(n.unsubscribe)}function Du(n){Ne(n)?n():n.unsubscribe()}const la={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},yl={setTimeout(n,e,...t){const{delegate:r}=yl;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=yl;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function OE(n){yl.setTimeout(()=>{const{onUnhandledError:e}=la;if(!e)throw n;e(n)})}function Su(){}const PE=Af("C",void 0,void 0);function Af(n,e,t){return{kind:n,value:e,error:t}}let yo=null;function Os(n){if(la.useDeprecatedSynchronousErrorHandling){const e=!yo;if(e&&(yo={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=yo;if(yo=null,t)throw r}}else n()}class vl extends rn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ey(e)&&e.add(this)):this.destination=Rf}static create(e,t,r){return new vo(e,t,r)}next(e){this.isStopped?xf(function FE(n){return Af("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?xf(function kE(n){return Af("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?xf(PE,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ty=Function.prototype.bind;function Il(n,e){return ty.call(n,e)}class ny{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Ii(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Ii(r)}else Ii(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Ii(t)}}}class vo extends vl{constructor(e,t,r){let i;if(super(),Ne(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&la.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Il(e.next,s),error:e.error&&Il(e.error,s),complete:e.complete&&Il(e.complete,s)}):i=e}this.destination=new ny(i)}}function Ii(n){la.useDeprecatedSynchronousErrorHandling?function VE(n){la.useDeprecatedSynchronousErrorHandling&&yo&&(yo.errorThrown=!0,yo.error=n)}(n):OE(n)}function xf(n,e){const{onStoppedNotification:t}=la;t&&yl.setTimeout(()=>t(n,e))}const Rf={closed:!0,next:Su,error:function ry(n){throw n},complete:Su},Nf="function"==typeof Symbol&&Symbol.observable||"@@observable";function ss(n){return n}function sy(n){return 0===n.length?ss:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let Ye=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function BE(n){return n&&n instanceof vl||function LE(n){return n&&Ne(n.next)&&Ne(n.error)&&Ne(n.complete)}(n)&&ey(n)}(t)?t:new vo(t,r,i);return Os(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=oy(r))((i,s)=>{const o=new vo({next:a=>{try{t(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Nf](){return this}pipe(...t){return sy(t)(this)}toPromise(t){return new(t=oy(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function oy(n){var e;return null!==(e=n??la.Promise)&&void 0!==e?e:Promise}const UE=ua(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let rt=(()=>{class n extends Ye{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new ay(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new UE}next(t){Os(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){Os(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Os(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?Cf:(this.currentObservers=null,s.push(t),new rn(()=>{this.currentObservers=null,ca(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new Ye;return t.source=this,t}}return n.create=(e,t)=>new ay(e,t),n})();class ay extends rt{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:Cf}}function Mf(n){return Ne(n?.lift)}function jt(n){return e=>{if(Mf(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function wt(n,e,t,r,i){return new jE(n,e,t,r,i)}class jE extends vl{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Fe(n,e){return jt((t,r)=>{let i=0;t.subscribe(wt(r,s=>{r.next(n.call(e,s,i++))}))})}function ly(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function Xr(n){return this instanceof Xr?(this.v=n,this):new Xr(n)}function Zr(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function sn(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=n[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const WE=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function GV(n){return Ne(n?.then)}function HV(n){return Ne(n[Nf])}function zV(n){return Symbol.asyncIterator&&Ne(n?.[Symbol.asyncIterator])}function qV(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const WV=function vte(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function KV(n){return Ne(n?.[WV])}function QV(n){return function Cu(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof Xr?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield Xr(t.read());if(i)return yield Xr(void 0);yield yield Xr(r)}}finally{t.releaseLock()}})}function YV(n){return Ne(n?.getReader)}function Sn(n){if(n instanceof Ye)return n;if(null!=n){if(HV(n))return function Ite(n){return new Ye(e=>{const t=n[Nf]();if(Ne(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(WE(n))return function wte(n){return new Ye(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(GV(n))return function bte(n){return new Ye(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,OE)})}(n);if(zV(n))return JV(n);if(KV(n))return function Ete(n){return new Ye(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(YV(n))return function Tte(n){return JV(QV(n))}(n)}throw qV(n)}function JV(n){return new Ye(e=>{(function Dte(n,e){var t,r,i,s;return function x(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=Zr(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Io(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function Cn(n,e,t=1/0){return Ne(e)?Cn((r,i)=>Fe((s,o)=>e(r,s,i,o))(Sn(n(r,i))),t):("number"==typeof e&&(t=e),jt((r,i)=>function Ste(n,e,t,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=g=>c<r?p(g):u.push(g),p=g=>{s&&e.next(g),c++;let m=!1;Sn(t(g,l++)).subscribe(wt(e,y=>{i?.(y),s?f(y):e.next(y)},()=>{m=!0},void 0,()=>{if(m)try{for(c--;u.length&&c<r;){const y=u.shift();o?Io(e,o,()=>p(y)):p(y)}h()}catch(y){e.error(y)}}))};return n.subscribe(wt(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,n,t)))}function El(n=1/0){return Cn(ss,n)}const $i=new Ye(n=>n.complete());function XV(n){return n&&Ne(n.schedule)}function KE(n){return n[n.length-1]}function hy(n){return Ne(KE(n))?n.pop():void 0}function Pf(n){return XV(KE(n))?n.pop():void 0}function fy(n,e=0){return jt((t,r)=>{t.subscribe(wt(r,i=>Io(r,n,()=>r.next(i),e),()=>Io(r,n,()=>r.complete(),e),i=>Io(r,n,()=>r.error(i),e)))})}function py(n,e=0){return jt((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function ZV(n,e){if(!n)throw new Error("Iterable cannot be null");return new Ye(t=>{Io(t,e,()=>{const r=n[Symbol.asyncIterator]();Io(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Un(n,e){return e?function Pte(n,e){if(null!=n){if(HV(n))return function xte(n,e){return Sn(n).pipe(py(e),fy(e))}(n,e);if(WE(n))return function Nte(n,e){return new Ye(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(GV(n))return function Rte(n,e){return Sn(n).pipe(py(e),fy(e))}(n,e);if(zV(n))return ZV(n,e);if(KV(n))return function Mte(n,e){return new Ye(t=>{let r;return Io(t,e,()=>{r=n[WV](),Io(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>Ne(r?.return)&&r.return()})}(n,e);if(YV(n))return function Ote(n,e){return ZV(QV(n),e)}(n,e)}throw qV(n)}(n,e):Sn(n)}class Gi extends rt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function pe(...n){return Un(n,Pf(n))}function tL(n={}){const{connector:e=(()=>new rt),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return jt((g,m)=>{c++,!d&&!l&&h();const y=u=u??e();m.add(()=>{c--,0===c&&!d&&!l&&(a=QE(p,i))}),y.subscribe(m),!o&&c>0&&(o=new vo({next:_=>y.next(_),error:_=>{d=!0,h(),a=QE(f,t,_),y.error(_)},complete:()=>{l=!0,h(),a=QE(f,r),y.complete()}}),Sn(g).subscribe(o))})(s)}}function QE(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new vo({next:()=>{r.unsubscribe(),n()}});return Sn(e(...t)).subscribe(r)}function os(n,e){return jt((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(wt(r,u=>{i?.unsubscribe();let c=0;const l=s++;Sn(n(u,l)).subscribe(i=wt(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function kte(n,e){return n===e}function lt(n){for(let e in n)if(n[e]===lt)return e;throw Error("Could not find renamed property on target object.")}function gy(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function An(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(An).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function YE(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const Fte=lt({__forward_ref__:lt});function Se(n){return n.__forward_ref__=Se,n.toString=function(){return An(this())},n}function _e(n){return JE(n)?n():n}function JE(n){return"function"==typeof n&&n.hasOwnProperty(Fte)&&n.__forward_ref__===Se}function XE(n){return n&&!!n.\u0275providers}const rL="https://g.co/ng/security#xss";class V extends Error{constructor(e,t){super(function my(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function we(n){return"string"==typeof n?n:null==n?"":String(n)}function ZE(n,e){throw new V(-201,!1)}function Hi(n,e){null==n&&function ge(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function q(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ke(n){return{providers:n.providers||[],imports:n.imports||[]}}function _y(n){return iL(n,vy)||iL(n,sL)}function iL(n,e){return n.hasOwnProperty(e)?n[e]:null}function yy(n){return n&&(n.hasOwnProperty(eT)||n.hasOwnProperty(Hte))?n[eT]:null}const vy=lt({\u0275prov:lt}),eT=lt({\u0275inj:lt}),sL=lt({ngInjectableDef:lt}),Hte=lt({ngInjectorDef:lt});var Pe=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Pe||{});let tT;function ei(n){const e=tT;return tT=n,e}function aL(n,e,t){const r=_y(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&Pe.Optional?null:void 0!==e?e:void ZE(An(n))}const bt=globalThis,kf={},oT="__NG_DI_FLAG__",Iy="ngTempTokenPath",Wte=/\n/gm,cL="__source";let Tl;function ha(n){const e=Tl;return Tl=n,e}function Yte(n,e=Pe.Default){if(void 0===Tl)throw new V(-203,!1);return null===Tl?aL(n,void 0,e):Tl.get(n,e&Pe.Optional?null:void 0,e)}function Y(n,e=Pe.Default){return(function oL(){return tT}()||Yte)(_e(n),e)}function X(n,e=Pe.Default){return Y(n,wy(e))}function wy(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function aT(n){const e=[];for(let t=0;t<n.length;t++){const r=_e(n[t]);if(Array.isArray(r)){if(0===r.length)throw new V(900,!1);let i,s=Pe.Default;for(let o=0;o<r.length;o++){const a=r[o],u=Jte(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(Y(i,s))}else e.push(Y(r))}return e}function Ff(n,e){return n[oT]=e,n.prototype[oT]=e,n}function Jte(n){return n[oT]}function wo(n){return{toString:n}.toString()}var by=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(by||{}),as=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(as||{});const Ps={},Je=[],Ey=lt({\u0275cmp:lt}),uT=lt({\u0275dir:lt}),cT=lt({\u0275pipe:lt}),dL=lt({\u0275mod:lt}),bo=lt({\u0275fac:lt}),Vf=lt({__NG_ELEMENT_ID__:lt}),hL=lt({__NG_ENV_ID__:lt});function fL(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}function lT(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{const s=i,o=t[++r];gL(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function pL(n){return 3===n||4===n||6===n}function gL(n){return 64===n.charCodeAt(0)}function Lf(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||mL(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function mL(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}const _L="ng-template";function ene(n,e,t){let r=0,i=!0;for(;r<n.length;){let s=n[r++];if("string"==typeof s&&i){const o=n[r++];if(t&&"class"===s&&-1!==fL(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<n.length&&"string"==typeof(s=n[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function yL(n){return 4===n.type&&n.value!==_L}function tne(n,e,t){return e===(4!==n.type||t?n.value:_L)}function nne(n,e,t){let r=4;const i=n.attrs||[],s=function sne(n){for(let e=0;e<n.length;e++)if(pL(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!tne(n,u,t)||""===u&&1===e.length){if(us(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==n.attrs){if(!ene(n.attrs,c,t)){if(us(r))return!1;o=!0}continue}const d=rne(8&r?"class":u,i,yL(n),t);if(-1===d){if(us(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==fL(f,c,0)||2&r&&c!==h){if(us(r))return!1;o=!0}}}}else{if(!o&&!us(r)&&!us(u))return!1;if(o&&us(u))continue;o=!1,r=u|1&r}}return us(r)||o}function us(n){return 0==(1&n)}function rne(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function one(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function vL(n,e,t=!1){for(let r=0;r<e.length;r++)if(nne(n,e[r],t))return!0;return!1}function ane(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function IL(n,e){return n?":not("+e.trim()+")":e}function une(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!us(o)&&(e+=IL(s,i),i=""),r=o,s=s||!us(r);t++}return""!==i&&(e+=IL(s,i)),e}function Vr(n){return wo(()=>{const e=bL(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===by.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||as.Emulated,styles:n.styles||Je,_:null,schemas:n.schemas||null,tView:null,id:""};EL(t);const r=n.dependencies;return t.directiveDefs=Ty(r,!1),t.pipeDefs=Ty(r,!0),t.id=function mne(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(t),t})}function hne(n){return je(n)||nr(n)}function fne(n){return null!==n}function Xe(n){return wo(()=>({type:n.type,bootstrap:n.bootstrap||Je,declarations:n.declarations||Je,imports:n.imports||Je,exports:n.exports||Je,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function wL(n,e){if(null==n)return Ps;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}function B(n){return wo(()=>{const e=bL(n);return EL(e),e})}function je(n){return n[Ey]||null}function nr(n){return n[uT]||null}function Lr(n){return n[cT]||null}function bi(n,e){const t=n[dL]||null;if(!t&&!0===e)throw new Error(`Type ${An(n)} does not have '\u0275mod' property.`);return t}function bL(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Ps,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||Je,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:wL(n.inputs,e),outputs:wL(n.outputs)}}function EL(n){n.features?.forEach(e=>e(n))}function Ty(n,e){if(!n)return null;const t=e?Lr:hne;return()=>("function"==typeof n?n():n).map(r=>t(r)).filter(fne)}const Kt=0,Q=1,Ce=2,Vt=3,cs=4,Bf=5,Tr=6,Sl=7,on=8,fa=9,Cl=10,be=11,Uf=12,TL=13,Al=14,an=15,jf=16,xl=17,ks=18,$f=19,DL=20,pa=21,Eo=22,Gf=23,Hf=24,ke=25,dT=1,SL=2,Fs=7,Rl=9,rr=11;function ni(n){return Array.isArray(n)&&"object"==typeof n[dT]}function Br(n){return Array.isArray(n)&&!0===n[dT]}function hT(n){return 0!=(4&n.flags)}function Ru(n){return n.componentOffset>-1}function Sy(n){return 1==(1&n.flags)}function ls(n){return!!n.template}function fT(n){return 0!=(512&n[Ce])}function Nu(n,e){return n.hasOwnProperty(bo)?n[bo]:null}let ir=null,Cy=!1;function zi(n){const e=ir;return ir=n,e}const xL={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function NL(n){if(!qf(n)||n.dirty){if(!n.producerMustRecompute(n)&&!PL(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function OL(n){n.dirty=!0,function ML(n){if(void 0===n.liveConsumerNode)return;const e=Cy;Cy=!0;try{for(const t of n.liveConsumerNode)t.dirty||OL(t)}finally{Cy=e}}(n),n.consumerMarkedDirty?.(n)}function gT(n){return n&&(n.nextProducerIndex=0),zi(n)}function mT(n,e){if(zi(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(qf(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Ay(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function PL(n){Nl(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(NL(t),r!==t.version))return!0}return!1}function kL(n){if(Nl(n),qf(n))for(let e=0;e<n.producerNode.length;e++)Ay(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Ay(n,e){if(function VL(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),Nl(n),1===n.liveConsumerNode.length)for(let r=0;r<n.producerNode.length;r++)Ay(n.producerNode[r],n.producerIndexOfThis[r]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Nl(i),i.producerIndexOfThis[r]=e}}function qf(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Nl(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let LL=null;const $L=()=>{},xne=(()=>({...xL,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:$L}))();class Rne{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function sr(){return GL}function GL(n){return n.type.prototype.ngOnChanges&&(n.setInput=Mne),Nne}function Nne(){const n=zL(this),e=n?.current;if(e){const t=n.previous;if(t===Ps)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function Mne(n,e,t,r){const i=this.declaredInputs[t],s=zL(n)||function One(n,e){return n[HL]=e}(n,{previous:Ps,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new Rne(u&&u.currentValue,e,a===Ps),n[r]=e}sr.ngInherit=!0;const HL="__ngSimpleChanges__";function zL(n){return n[HL]||null}const Vs=function(n,e,t){};function Et(n){for(;Array.isArray(n);)n=n[Kt];return n}function ri(n,e){return Et(e[n.index])}function KL(n,e){return n.data[e]}function Ei(n,e){const t=e[n];return ni(t)?t:t[Kt]}function ma(n,e){return null==e?null:n[e]}function QL(n){n[xl]=0}function Bne(n){1024&n[Ce]||(n[Ce]|=1024,JL(n,1))}function YL(n){1024&n[Ce]&&(n[Ce]&=-1025,JL(n,-1))}function JL(n,e){let t=n[Vt];if(null===t)return;t[Bf]+=e;let r=t;for(t=t[Vt];null!==t&&(1===e&&1===r[Bf]||-1===e&&0===r[Bf]);)t[Bf]+=e,r=t,t=t[Vt]}const me={lFrame:uB(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function eB(){return me.bindingsEnabled}function Ol(){return null!==me.skipHydrationRootTNode}function N(){return me.lFrame.lView}function $e(){return me.lFrame.tView}function or(){let n=tB();for(;null!==n&&64===n.type;)n=n.parent;return n}function tB(){return me.lFrame.currentTNode}function Ls(n,e){const t=me.lFrame;t.currentTNode=n,t.isParent=e}function wT(){return me.lFrame.isParent}function bT(){me.lFrame.isParent=!1}function Pl(){return me.lFrame.bindingIndex++}function Do(n){const e=me.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function Jne(n,e){const t=me.lFrame;t.bindingIndex=t.bindingRootIndex=n,ET(e)}function ET(n){me.lFrame.currentDirectiveIndex=n}function sB(){return me.lFrame.currentQueryIndex}function DT(n){me.lFrame.currentQueryIndex=n}function Zne(n){const e=n[Q];return 2===e.type?e.declTNode:1===e.type?n[Tr]:null}function oB(n,e,t){if(t&Pe.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&Pe.Host||(i=Zne(s),null===i||(s=s[Al],10&i.type))););if(null===i)return!1;e=i,n=s}const r=me.lFrame=aB();return r.currentTNode=e,r.lView=n,!0}function ST(n){const e=aB(),t=n[Q];me.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function aB(){const n=me.lFrame,e=null===n?null:n.child;return null===e?uB(n):e}function uB(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function cB(){const n=me.lFrame;return me.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const lB=cB;function CT(){const n=cB();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function jr(){return me.lFrame.selectedIndex}function Mu(n){me.lFrame.selectedIndex=n}function $t(){const n=me.lFrame;return KL(n.tView,n.selectedIndex)}let hB=!0;function Ry(){return hB}function _a(n){hB=n}function Ny(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),c&&((n.viewHooks??=[]).push(t,c),(n.viewCheckHooks??=[]).push(t,c)),null!=l&&(n.destroyHooks??=[]).push(t,l)}}function My(n,e,t){fB(n,e,3,t)}function Oy(n,e,t,r){(3&n[Ce])===t&&fB(n,e,t,r)}function AT(n,e){let t=n[Ce];(3&t)===e&&(t&=8191,t+=1,n[Ce]=t)}function fB(n,e,t,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&n[xl]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(n[xl]+=65536),(a<s||-1==s)&&(are(n,t,e,u),n[xl]=(4294901760&n[xl])+u+2),u++}function pB(n,e){Vs(4,n,e);const t=zi(null);try{e.call(n)}finally{zi(t),Vs(5,n,e)}}function are(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];i?n[Ce]>>13<n[xl]>>16&&(3&n[Ce])===e&&(n[Ce]+=8192,pB(a,s)):pB(a,s)}const kl=-1;class Kf{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function RT(n){return n!==kl}function Qf(n){return 32767&n}function Yf(n,e){let t=function dre(n){return n>>16}(n),r=e;for(;t>0;)r=r[Al],t--;return r}let NT=!0;function Py(n){const e=NT;return NT=n,e}const gB=255,mB=5;let hre=0;const Bs={};function ky(n,e){const t=_B(n,e);if(-1!==t)return t;const r=e[Q];r.firstCreatePass&&(n.injectorIndex=e.length,MT(r.data,n),MT(e,null),MT(r.blueprint,null));const i=Fy(n,e),s=n.injectorIndex;if(RT(i)){const o=Qf(i),a=Yf(i,e),u=a[Q].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function MT(n,e){n.push(0,0,0,0,0,0,0,0,e)}function _B(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Fy(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=TB(i),null===r)return kl;if(t++,i=i[Al],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return kl}function OT(n,e,t){!function fre(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Vf)&&(r=t[Vf]),null==r&&(r=t[Vf]=hre++);const i=r&gB;e.data[n+(i>>mB)]|=1<<i}(n,e,t)}function yB(n,e,t){if(t&Pe.Optional||void 0!==n)return n;ZE()}function vB(n,e,t,r){if(t&Pe.Optional&&void 0===r&&(r=null),!(t&(Pe.Self|Pe.Host))){const i=n[fa],s=ei(void 0);try{return i?i.get(e,r,t&Pe.Optional):aL(e,r,t&Pe.Optional)}finally{ei(s)}}return yB(r,0,t)}function IB(n,e,t,r=Pe.Default,i){if(null!==n){if(2048&e[Ce]&&!(r&Pe.Self)){const o=function vre(n,e,t,r,i){let s=n,o=e;for(;null!==s&&null!==o&&2048&o[Ce]&&!(512&o[Ce]);){const a=wB(s,o,t,r|Pe.Self,Bs);if(a!==Bs)return a;let u=s.parent;if(!u){const c=o[DL];if(c){const l=c.get(t,Bs,r);if(l!==Bs)return l}u=TB(o),o=o[Al]}s=u}return i}(n,e,t,r,Bs);if(o!==Bs)return o}const s=wB(n,e,t,r,Bs);if(s!==Bs)return s}return vB(e,t,r,i)}function wB(n,e,t,r,i){const s=function mre(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Vf)?n[Vf]:void 0;return"number"==typeof e?e>=0?e&gB:yre:e}(t);if("function"==typeof s){if(!oB(e,n,r))return r&Pe.Host?yB(i,0,r):vB(e,t,r,i);try{let o;if(o=s(r),null!=o||r&Pe.Optional)return o;ZE()}finally{lB()}}else if("number"==typeof s){let o=null,a=_B(n,e),u=kl,c=r&Pe.Host?e[an][Tr]:null;for((-1===a||r&Pe.SkipSelf)&&(u=-1===a?Fy(n,e):e[a+8],u!==kl&&EB(r,!1)?(o=e[Q],a=Qf(u),e=Yf(u,e)):a=-1);-1!==a;){const l=e[Q];if(bB(s,a,l.data)){const d=gre(a,e,t,o,r,c);if(d!==Bs)return d}u=e[a+8],u!==kl&&EB(r,e[Q].data[a+8]===c)&&bB(s,a,e)?(o=l,a=Qf(u),e=Yf(u,e)):a=-1}}return i}function gre(n,e,t,r,i,s){const o=e[Q],a=o.data[n+8],l=Vy(a,o,t,null==r?Ru(a)&&NT:r!=o&&0!=(3&a.type),i&Pe.Host&&s===a);return null!==l?Ou(e,o,l,a):Bs}function Vy(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,u=n.directiveStart,l=s>>20,h=i?a+l:n.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&t===p||f>=u&&p.type===t)return f}if(i){const f=o[u];if(f&&ls(f)&&f.type===t)return u}return null}function Ou(n,e,t,r){let i=n[t];const s=e.data;if(function ure(n){return n instanceof Kf}(i)){const o=i;o.resolving&&function Vte(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new V(-200,`Circular dependency in DI detected for ${n}${t}`)}(function it(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():we(n)}(s[t]));const a=Py(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?ei(o.injectImpl):null;oB(n,r,Pe.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function ore(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=GL(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}i&&(t.preOrderHooks??=[]).push(0-n,i),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}(t,s[t],e)}finally{null!==c&&ei(c),Py(a),o.resolving=!1,lB()}}return i}function bB(n,e,t){return!!(t[e+(n>>mB)]&1<<n)}function EB(n,e){return!(n&Pe.Self||n&Pe.Host&&e)}class $r{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return IB(this._tNode,this._lView,e,wy(r),t)}}function yre(){return new $r(or(),N())}function un(n){return wo(()=>{const e=n.prototype.constructor,t=e[bo]||PT(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[bo]||PT(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function PT(n){return JE(n)?()=>{const e=PT(_e(n));return e&&e()}:Nu(n)}function TB(n){const e=n[Q],t=e.type;return 2===t?e.declTNode:1===t?n[Tr]:null}const Vl="__parameters__";function Bl(n,e,t){return wo(()=>{const r=function kT(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(Vl)?u[Vl]:Object.defineProperty(u,Vl,{value:[]})[Vl];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}function jl(n,e){n.forEach(t=>Array.isArray(t)?jl(t,e):e(t))}function SB(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Ly(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Zf(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}function Ti(n,e,t){let r=$l(n,e);return r>=0?n[1|r]=t:(r=~r,function Sre(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function FT(n,e){const t=$l(n,e);if(t>=0)return n[1|t]}function $l(n,e){return function CB(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const ii=Ff(Bl("Optional"),8),Uy=Ff(Bl("SkipSelf"),4);function zy(n){return 128==(128&n.flags)}var ya=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(ya||{});const jT=new Map;let Yre=0;const GT="__ngContext__";function Dr(n,e){ni(e)?(n[GT]=e[$f],function Xre(n){jT.set(n[$f],n)}(e)):n[GT]=e}let HT;function zT(n,e){return HT(n,e)}function np(n){const e=n[Vt];return Br(e)?e[Vt]:e}function WB(n){return QB(n[Uf])}function KB(n){return QB(n[cs])}function QB(n){for(;null!==n&&!Br(n);)n=n[cs];return n}function zl(n,e,t,r,i){if(null!=r){let s,o=!1;Br(r)?s=r:ni(r)&&(o=!0,r=r[Kt]);const a=Et(r);0===n&&null!==t?null==i?ZB(e,t,a):ku(e,t,a,i||null,!0):1===n&&null!==t?ku(e,t,a,i||null,!0):2===n?function Xy(n,e,t){const r=Yy(n,e);r&&function _ie(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function Iie(n,e,t,r,i){const s=t[Fs];s!==Et(t)&&zl(e,n,r,s,i);for(let a=rr;a<t.length;a++){const u=t[a];ip(u[Q],u,n,e,r,s)}}(e,n,s,t,i)}}function Ky(n,e,t){return n.createElement(e,t)}function JB(n,e){const t=n[Rl],r=t.indexOf(e);YL(e),t.splice(r,1)}function Qy(n,e){if(n.length<=rr)return;const t=rr+e,r=n[t];if(r){const i=r[jf];null!==i&&i!==n&&JB(i,r),e>0&&(n[t-1][cs]=r[cs]);const s=Ly(n,rr+e);!function cie(n,e){ip(n,e,e[be],2,null,null),e[Kt]=null,e[Tr]=null}(r[Q],r);const o=s[ks];null!==o&&o.detachView(s[Q]),r[Vt]=null,r[cs]=null,r[Ce]&=-129}return r}function WT(n,e){if(!(256&e[Ce])){const t=e[be];e[Gf]&&kL(e[Gf]),e[Hf]&&kL(e[Hf]),t.destroyNode&&ip(n,e,t,3,null,null),function hie(n){let e=n[Uf];if(!e)return KT(n[Q],n);for(;e;){let t=null;if(ni(e))t=e[Uf];else{const r=e[rr];r&&(t=r)}if(!t){for(;e&&!e[cs]&&e!==n;)ni(e)&&KT(e[Q],e),e=e[Vt];null===e&&(e=n),ni(e)&&KT(e[Q],e),t=e&&e[cs]}e=t}}(e)}}function KT(n,e){if(!(256&e[Ce])){e[Ce]&=-129,e[Ce]|=256,function mie(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Kf)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];Vs(4,a,u);try{u.call(a)}finally{Vs(5,a,u)}}else{Vs(4,i,s);try{s.call(i)}finally{Vs(5,i,s)}}}}}(n,e),function gie(n,e){const t=n.cleanup,r=e[Sl];if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else t[s].call(r[t[s+1]]);null!==r&&(e[Sl]=null);const i=e[pa];if(null!==i){e[pa]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(n,e),1===e[Q].type&&e[be].destroy();const t=e[jf];if(null!==t&&Br(e[Vt])){t!==e[Vt]&&JB(t,e);const r=e[ks];null!==r&&r.detachView(n)}!function Zre(n){jT.delete(n[$f])}(e)}}function QT(n,e,t){return function XB(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[Kt];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=n.data[r.directiveStart+i];if(s===as.None||s===as.Emulated)return null}return ri(r,t)}}(n,e.parent,t)}function ku(n,e,t,r,i){n.insertBefore(e,t,r,i)}function ZB(n,e,t){n.appendChild(e,t)}function eU(n,e,t,r,i){null!==r?ku(n,e,t,r,i):ZB(n,e,t)}function Yy(n,e){return n.parentNode(e)}function tU(n,e,t){return rU(n,e,t)}let YT,e1,ev,rU=function nU(n,e,t){return 40&n.type?ri(n,t):null};function Jy(n,e,t,r){const i=QT(n,r,e),s=e[be],a=tU(r.parent||e[Tr],r,e);if(null!=i)if(Array.isArray(t))for(let u=0;u<t.length;u++)eU(s,i,t[u],a,!1);else eU(s,i,t,a,!1);void 0!==YT&&YT(s,r,e,t,i)}function rp(n,e){if(null!==e){const t=e.type;if(3&t)return ri(e,n);if(4&t)return JT(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return rp(n,r);{const i=n[e.index];return Br(i)?JT(-1,i):Et(i)}}if(32&t)return zT(e,n)()||Et(n[e.index]);{const r=sU(n,e);return null!==r?Array.isArray(r)?r[0]:rp(np(n[an]),r):rp(n,e.next)}}return null}function sU(n,e){return null!==e?n[an][Tr].projection[e.projection]:null}function JT(n,e){const t=rr+n+1;if(t<e.length){const r=e[t],i=r[Q].firstChild;if(null!==i)return rp(r,i)}return e[Fs]}function XT(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],u=t.type;if(o&&0===e&&(a&&Dr(Et(a),r),t.flags|=2),32!=(32&t.flags))if(8&u)XT(n,e,t.child,r,i,s,!1),zl(e,n,i,a,s);else if(32&u){const c=zT(t,r);let l;for(;l=c();)zl(e,n,i,l,s);zl(e,n,i,a,s)}else 16&u?aU(n,e,r,t,i,s):zl(e,n,i,a,s);t=o?t.projectionNext:t.next}}function ip(n,e,t,r,i,s){XT(t,r,n.firstChild,e,i,s,!1)}function aU(n,e,t,r,i,s){const o=t[an],u=o[Tr].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)zl(e,n,i,u[c],s);else{let c=u;const l=o[Vt];zy(r)&&(c.flags|=128),XT(n,e,c,l,i,s,!0)}}function uU(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function cU(n,e,t){const{mergedAttrs:r,classes:i,styles:s}=t;null!==r&&lT(n,e,r),null!==i&&uU(n,e,i),null!==s&&function bie(n,e,t){n.setAttribute(e,"style",t)}(n,e,s)}function hU(n){return function t1(){if(void 0===ev&&(ev=null,bt.trustedTypes))try{ev=bt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return ev}()?.createScriptURL(n)||n}class fU{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${rL})`}}function va(n){return n instanceof fU?n.changingThisBreaksApplicationSecurity:n}function sp(n,e){const t=function Mie(n){return n instanceof fU&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${rL})`)}return t===e}const Fie=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Kl=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Kl||{});function IU(n){const e=ap();return e?e.sanitize(Kl.URL,n)||"":sp(n,"URL")?va(n):function n1(n){return(n=String(n)).match(Fie)?n:"unsafe:"+n}(we(n))}function wU(n){const e=ap();if(e)return hU(e.sanitize(Kl.RESOURCE_URL,n)||"");if(sp(n,"ResourceURL"))return hU(va(n));throw new V(904,!1)}function ap(){const n=N();return n&&n[Cl].sanitizer}class re{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=q({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const up=new re("ENVIRONMENT_INITIALIZER"),EU=new re("INJECTOR",-1),TU=new re("INJECTOR_DEF_TYPES");class o1{get(e,t=kf){if(t===kf){const r=new Error(`NullInjectorError: No provider for ${An(e)}!`);throw r.name="NullInjectorError",r}return t}}function Qie(...n){return{\u0275providers:SU(0,n),\u0275fromNgModule:!0}}function SU(n,...e){const t=[],r=new Set;let i;const s=o=>{t.push(o)};return jl(e,o=>{const a=o;nv(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&CU(i,s),t}function CU(n,e){for(let t=0;t<n.length;t++){const{ngModule:r,providers:i}=n[t];a1(i,s=>{e(s,r)})}}function nv(n,e,t,r){if(!(n=_e(n)))return!1;let i=null,s=yy(n);const o=!s&&je(n);if(s||o){if(o&&!o.standalone)return!1;i=n}else{const u=n.ngModule;if(s=yy(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)nv(c,e,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{jl(s.imports,l=>{nv(l,e,t,r)&&(c||=[],c.push(l))})}finally{}void 0!==c&&CU(c,e)}if(!a){const c=Nu(i)||(()=>new i);e({provide:i,useFactory:c,deps:Je},i),e({provide:TU,useValue:i,multi:!0},i),e({provide:up,useValue:()=>Y(i),multi:!0},i)}const u=s.providers;if(null!=u&&!a){const c=n;a1(u,l=>{e(l,c)})}}}return i!==n&&void 0!==n.providers}function a1(n,e){for(let t of n)XE(t)&&(t=t.\u0275providers),Array.isArray(t)?a1(t,e):e(t)}const Yie=lt({provide:String,useValue:lt});function u1(n){return null!==n&&"object"==typeof n&&Yie in n}function Fu(n){return"function"==typeof n}const c1=new re("Set Injector scope."),rv={},Xie={};let l1;function iv(){return void 0===l1&&(l1=new o1),l1}class oi{}class sv extends oi{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,h1(e,o=>this.processProvider(o)),this.records.set(EU,Ql(void 0,this)),i.has("environment")&&this.records.set(oi,Ql(void 0,this));const s=this.records.get(c1);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(TU.multi,Je,Pe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=ha(this),r=ei(void 0);try{return e()}finally{ha(t),ei(r)}}get(e,t=kf,r=Pe.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(hL))return e[hL](this);r=wy(r);const s=ha(this),o=ei(void 0);try{if(!(r&Pe.SkipSelf)){let u=this.records.get(e);if(void 0===u){const c=function rse(n){return"function"==typeof n||"object"==typeof n&&n instanceof re}(e)&&_y(e);u=c&&this.injectableDefInScope(c)?Ql(d1(e),rv):null,this.records.set(e,u)}if(null!=u)return this.hydrate(e,u)}return(r&Pe.Self?iv():this.parent).get(e,t=r&Pe.Optional&&t===kf?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[Iy]=a[Iy]||[]).unshift(An(e)),s)throw a;return function Xte(n,e,t,r){const i=n[Iy];throw e[cL]&&i.unshift(e[cL]),n.message=function Zte(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=An(e);if(Array.isArray(e))i=e.map(An).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):An(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(Wte,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[Iy]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{ei(o),ha(s)}}resolveInjectorInitializers(){const e=ha(this),t=ei(void 0);try{const i=this.get(up.multi,Je,Pe.Self);for(const s of i)s()}finally{ha(e),ei(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(An(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new V(205,!1)}processProvider(e){let t=Fu(e=_e(e))?e:_e(e&&e.provide);const r=function ese(n){return u1(n)?Ql(void 0,n.useValue):Ql(RU(n),rv)}(e);if(Fu(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=Ql(void 0,rv,!0),i.factory=()=>aT(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===rv&&(t.value=Xie,t.value=t.factory()),"object"==typeof t.value&&t.value&&function nse(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=_e(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function d1(n){const e=_y(n),t=null!==e?e.factory:Nu(n);if(null!==t)return t;if(n instanceof re)throw new V(204,!1);if(n instanceof Function)return function Zie(n){const e=n.length;if(e>0)throw Zf(e,"?"),new V(204,!1);const t=function Gte(n){return n&&(n[vy]||n[sL])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new V(204,!1)}function RU(n,e,t){let r;if(Fu(n)){const i=_e(n);return Nu(i)||d1(i)}if(u1(n))r=()=>_e(n.useValue);else if(function xU(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...aT(n.deps||[]));else if(function AU(n){return!(!n||!n.useExisting)}(n))r=()=>Y(_e(n.useExisting));else{const i=_e(n&&(n.useClass||n.provide));if(!function tse(n){return!!n.deps}(n))return Nu(i)||d1(i);r=()=>new i(...aT(n.deps))}return r}function Ql(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function h1(n,e){for(const t of n)Array.isArray(t)?h1(t,e):t&&XE(t)?h1(t.\u0275providers,e):e(t)}const ov=new re("AppId",{providedIn:"root",factory:()=>ise}),ise="ng",NU=new re("Platform Initializer"),Ia=new re("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),MU=new re("CSP nonce",{providedIn:"root",factory:()=>function Wl(){if(void 0!==e1)return e1;if(typeof document<"u")return document;throw new V(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let OU=(n,e,t)=>null;function I1(n,e,t=!1){return OU(n,e,t)}class pse{}class FU{}class mse{resolveComponentFactory(e){throw function gse(n){const e=Error(`No component factory found for ${An(n)}.`);return e.ngComponent=n,e}(e)}}let hv=(()=>{class n{static#e=this.NULL=new mse}return n})();function _se(){return Xl(or(),N())}function Xl(n,e){return new st(ri(n,e))}let st=(()=>{class n{constructor(t){this.nativeElement=t}static#e=this.__NG_ELEMENT_ID__=_se}return n})();function yse(n){return n instanceof st?n.nativeElement:n}class E1{}let Di=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function vse(){const n=N(),t=Ei(or().index,n);return(ni(t)?t:n)[be]}()}return n})(),Ise=(()=>{class n{static#e=this.\u0275prov=q({token:n,providedIn:"root",factory:()=>null})}return n})();class Zl{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const LU=new Zl("16.2.7"),T1={};function $U(n,e=null,t=null,r){const i=GU(n,e,t,r);return i.resolveInjectorInitializers(),i}function GU(n,e=null,t=null,r,i=new Set){const s=[t||Je,Qie(n)];return r=r||("object"==typeof n?void 0:An(n)),new sv(s,e||iv(),r||null,i)}let Rn=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=kf;static#t=this.NULL=new o1;static create(t,r){if(Array.isArray(t))return $U({name:""},r,t,"");{const i=t.name??"";return $U({name:i},t.parent,t.providers,i)}}static#n=this.\u0275prov=q({token:n,providedIn:"any",factory:()=>Y(EU)});static#r=this.__NG_ELEMENT_ID__=-1}return n})();function S1(n){return n.ngOriginalError}class Co{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&S1(e);for(;t&&S1(t);)t=S1(t);return t||null}}function A1(n){return e=>{setTimeout(n,void 0,e)}}const de=class Cse extends rt{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=A1(s),i&&(i=A1(i)),o&&(o=A1(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof rn&&e.add(a),a}};function zU(...n){}class Oe{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new de(!1),this.onMicrotaskEmpty=new de(!1),this.onStable=new de(!1),this.onError=new de(!1),typeof Zone>"u")throw new V(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function Ase(){const n="function"==typeof bt.requestAnimationFrame;let e=bt[n?"requestAnimationFrame":"setTimeout"],t=bt[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function Nse(n){const e=()=>{!function Rse(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(bt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,R1(n),n.isCheckStableRunning=!0,x1(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),R1(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{if(function Ose(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(i,s,o,a);try{return qU(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),WU(n)}},onInvoke:(t,r,i,s,o,a,u)=>{try{return qU(n),t.invoke(i,s,o,a,u)}finally{n.shouldCoalesceRunChangeDetection&&e(),WU(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,R1(n),x1(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Oe.isInAngularZone())throw new V(909,!1)}static assertNotInAngularZone(){if(Oe.isInAngularZone())throw new V(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,xse,zU,zU);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const xse={};function x1(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function R1(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function qU(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function WU(n){n._nesting--,x1(n)}class Mse{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new de,this.onMicrotaskEmpty=new de,this.onStable=new de,this.onError=new de}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const KU=new re("",{providedIn:"root",factory:QU});function QU(){const n=X(Oe);let e=!0;return function eL(...n){const e=Pf(n),t=function Ate(n,e){return"number"==typeof KE(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?Sn(r[0]):El(t)(Un(r,e)):$i}(new Ye(i=>{e=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{i.next(e),i.complete()})}),new Ye(i=>{let s;n.runOutsideAngular(()=>{s=n.onStable.subscribe(()=>{Oe.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=n.onUnstable.subscribe(()=>{Oe.assertInAngularZone(),e&&(e=!1,n.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(tL()))}function Ao(n){return n instanceof Function?n():n}let N1=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=q({token:n,providedIn:"root",factory:()=>new n})}return n})();function dp(n){for(;n;){n[Ce]|=64;const e=np(n);if(fT(n)&&!e)return n;n=e}return null}const ej=new re("",{providedIn:"root",factory:()=>!1});let pv=null;function ij(n,e){return n[e]??aj()}function sj(n,e){const t=aj();t.producerNode?.length&&(n[e]=pv,t.lView=n,pv=oj())}const Gse={...xL,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{dp(n.lView)},lView:null};function oj(){return Object.create(Gse)}function aj(){return pv??=oj(),pv}const De={};function oe(n){uj($e(),N(),jr()+n,!1)}function uj(n,e,t,r){if(!r)if(3==(3&e[Ce])){const s=n.preOrderCheckHooks;null!==s&&My(e,s,t)}else{const s=n.preOrderHooks;null!==s&&Oy(e,s,0,t)}Mu(t)}function I(n,e=Pe.Default){const t=N();return null===t?Y(n,e):IB(or(),t,_e(n),e)}function gv(n,e,t,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[Kt]=i,d[Ce]=140|r,(null!==c||n&&2048&n[Ce])&&(d[Ce]|=2048),QL(d),d[Vt]=d[Al]=n,d[on]=t,d[Cl]=o||n&&n[Cl],d[be]=a||n&&n[be],d[fa]=u||n&&n[fa]||null,d[Tr]=s,d[$f]=function Jre(){return Yre++}(),d[Eo]=l,d[DL]=c,d[an]=2==e.type?n[an]:d,d}function nd(n,e,t,r,i){let s=n.data[e];if(null===s)s=function M1(n,e,t,r,i){const s=tB(),o=wT(),u=n.data[e]=function Jse(n,e,t,r,i,s){let o=e?e.injectorIndex:-1,a=0;return Ol()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(n,e,t,r,i),function Yne(){return me.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function Wf(){const n=me.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Ls(s,!0),s}function hp(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function lj(n,e,t,r,i){const s=ij(e,Gf),o=jr(),a=2&r;try{Mu(-1),a&&e.length>ke&&uj(n,e,ke,!1),Vs(a?2:0,i);const c=a?s:null,l=gT(c);try{null!==c&&(c.dirty=!1),t(r,i)}finally{mT(c,l)}}finally{a&&null===e[Gf]&&sj(e,Gf),Mu(o),Vs(a?3:1,i)}}function O1(n,e,t){if(hT(e)){const r=zi(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=n.data[o];a.contentQueries&&a.contentQueries(1,t[o],o)}}finally{zi(r)}}}function dj(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=F1(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function F1(n,e,t,r,i,s,o,a,u,c,l){const d=ke+r,h=d+i,f=function zse(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:De);return t}(d,h),p="function"==typeof c?c():c;return f[Q]={type:n,blueprint:f,template:t,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:p,incompleteFirstPass:!1,ssrId:l}}let hj=n=>null;function fj(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const s=n[i];null===r?pj(t,e,i,s):r.hasOwnProperty(i)&&pj(t,e,r[i],s)}return t}function pj(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function gj(n,e,t,r,i,s){for(let c=0;c<r.length;c++)OT(ky(t,e),n,r[c].type);!function coe(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,u=hp(n,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];t.mergedAttrs=Lf(t.mergedAttrs,l.hostAttrs),loe(n,t,e,u,l),uoe(u,l,i),null!==l.contentQueries&&(t.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(t.flags|=64);const d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),u++}!function Xse(n,e,t){const i=e.directiveEnd,s=n.data,o=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=s[l],h=t?t.get(d):null,p=h?h.outputs:null;u=fj(d.inputs,l,u,h?h.inputs:null),c=fj(d.outputs,l,c,p);const g=null===u||null===o||yL(e)?null:foe(u,l,o);a.push(g)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(n,t,s)}function mj(n,e,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,o=function Xne(){return me.lFrame.currentDirectiveIndex}();try{Mu(s);for(let a=r;a<i;a++){const u=n.data[a],c=e[a];ET(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&soe(u,c)}}finally{Mu(-1),ET(o)}}function soe(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function L1(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function uoe(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;ls(e)&&(t[""]=n)}}function loe(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=Nu(i.type)),o=new Kf(s,ls(i),I);n.blueprint[r]=o,t[r]=o,function noe(n,e,t,r,i){const s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~e.index;(function roe(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(o)!=a&&o.push(a),o.push(t,r,s)}}(n,e,r,hp(n,t,i.hostVars,De),i)}function Us(n,e,t,r,i,s){const o=ri(n,e);!function B1(n,e,t,r,i,s,o){if(null==s)n.removeAttribute(e,i,t);else{const a=null==o?we(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}(e[be],o,s,n.value,t,r,i)}function hoe(n,e,t,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)_j(r,t,o[a++],o[a++],o[a++])}function _j(n,e,t,r,i){const s=zi(null);try{const o=n.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==n.setInput?n.setInput(e,i,t,r):e[r]=i}finally{zi(s)}}function foe(n,e,t){let r=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===r&&(r=[]);const o=n[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function vj(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const s=t[r+1];if(-1!==s){const o=n.data[s];DT(t[r]),o.contentQueries(2,e[s],s)}}}function mv(n,e){return n[Uf]?n[TL][cs]=e:n[Uf]=e,n[TL]=e,e}function U1(n,e,t){DT(0);const r=zi(null);try{e(n,t)}finally{zi(r)}}function Ij(n){return n[Sl]||(n[Sl]=[])}function wj(n){return n.cleanup||(n.cleanup=[])}function Ej(n,e){const t=n[fa],r=t?t.get(Co,null):null;r&&r.handleError(e)}function j1(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++];_j(n.data[o],e[o],r,a,i)}}function poe(n,e){const t=Ei(e,n),r=t[Q];!function goe(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(r,t);const i=t[Kt];null!==i&&null===t[Eo]&&(t[Eo]=I1(i,t[fa])),$1(r,t,t[on])}function $1(n,e,t){ST(e);try{const r=n.viewQuery;null!==r&&U1(1,r,t);const i=n.template;null!==i&&lj(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&vj(n,e),n.staticViewQueries&&U1(2,n.viewQuery,t);const s=n.components;null!==s&&function moe(n,e){for(let t=0;t<e.length;t++)poe(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[Ce]&=-5,CT()}}let Tj=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(t,r,i){const s=typeof Zone>"u"?null:Zone.current,o=function Ane(n,e,t){const r=Object.create(xne);t&&(r.consumerAllowSignalWrites=!0),r.fn=n,r.schedule=e;const i=o=>{r.cleanupFn=o};return r.ref={notify:()=>OL(r),run:()=>{if(r.dirty=!1,r.hasRun&&!PL(r))return;r.hasRun=!0;const o=gT(r);try{r.cleanupFn(),r.cleanupFn=$L,r.fn(i)}finally{mT(r,o)}},cleanup:()=>r.cleanupFn()},r.ref}(t,c=>{this.all.has(c)&&this.queue.set(c,s)},i);let a;this.all.add(o),o.notify();const u=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=r?.onDestroy(u),{destroy:u}}flush(){if(0!==this.queue.size)for(const[t,r]of this.queue)this.queue.delete(t),r?r.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=q({token:n,providedIn:"root",factory:()=>new n})}return n})();function _v(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=YE(i,a):2==s&&(r=YE(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function fp(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];null!==s&&r.push(Et(s)),Br(s)&&Dj(s,r);const o=t.type;if(8&o)fp(n,e,t.child,r);else if(32&o){const a=zT(t,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=sU(e,t);if(Array.isArray(a))r.push(...a);else{const u=np(e[an]);fp(u[Q],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function Dj(n,e){for(let t=rr;t<n.length;t++){const r=n[t],i=r[Q].firstChild;null!==i&&fp(r[Q],r,i,e)}n[Fs]!==n[Kt]&&e.push(n[Fs])}function yv(n,e,t,r=!0){const i=e[Cl],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{Sj(n,e,n.template,t)}catch(u){throw r&&Ej(e,u),u}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function Sj(n,e,t,r){const i=e[Ce];if(256!=(256&i)){e[Cl].effectManager?.flush(),ST(e);try{QL(e),function rB(n){return me.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&lj(n,e,t,2,r);const o=3==(3&i);if(o){const c=n.preOrderCheckHooks;null!==c&&My(e,c,null)}else{const c=n.preOrderHooks;null!==c&&Oy(e,c,0,null),AT(e,0)}if(function voe(n){for(let e=WB(n);null!==e;e=KB(e)){if(!e[SL])continue;const t=e[Rl];for(let r=0;r<t.length;r++){Bne(t[r])}}}(e),Cj(e,2),null!==n.contentQueries&&vj(n,e),o){const c=n.contentCheckHooks;null!==c&&My(e,c)}else{const c=n.contentHooks;null!==c&&Oy(e,c,1),AT(e,1)}!function Hse(n,e){const t=n.hostBindingOpCodes;if(null===t)return;const r=ij(e,Hf);try{for(let i=0;i<t.length;i++){const s=t[i];if(s<0)Mu(~s);else{const o=s,a=t[++i],u=t[++i];Jne(a,o),r.dirty=!1;const c=gT(r);try{u(2,e[o])}finally{mT(r,c)}}}}finally{null===e[Hf]&&sj(e,Hf),Mu(-1)}}(n,e);const a=n.components;null!==a&&xj(e,a,0);const u=n.viewQuery;if(null!==u&&U1(2,u,r),o){const c=n.viewCheckHooks;null!==c&&My(e,c)}else{const c=n.viewHooks;null!==c&&Oy(e,c,2),AT(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[Ce]&=-73,YL(e)}finally{CT()}}}function Cj(n,e){for(let t=WB(n);null!==t;t=KB(t))for(let r=rr;r<t.length;r++)Aj(t[r],e)}function Ioe(n,e,t){Aj(Ei(e,n),t)}function Aj(n,e){if(!function Vne(n){return 128==(128&n[Ce])}(n))return;const t=n[Q],r=n[Ce];if(80&r&&0===e||1024&r||2===e)Sj(t,n,t.template,n[on]);else if(n[Bf]>0){Cj(n,1);const i=t.components;null!==i&&xj(n,i,1)}}function xj(n,e,t){for(let r=0;r<e.length;r++)Ioe(n,e[r],t)}class pp{get rootNodes(){const e=this._lView,t=e[Q];return fp(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[on]}set context(e){this._lView[on]=e}get destroyed(){return 256==(256&this._lView[Ce])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Vt];if(Br(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(Qy(e,r),Ly(t,r))}this._attachedToViewContainer=!1}WT(this._lView[Q],this._lView)}onDestroy(e){!function XL(n,e){if(256==(256&n[Ce]))throw new V(911,!1);null===n[pa]&&(n[pa]=[]),n[pa].push(e)}(this._lView,e)}markForCheck(){dp(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ce]&=-129}reattach(){this._lView[Ce]|=128}detectChanges(){yv(this._lView[Q],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new V(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function die(n,e){ip(n,e,e[be],2,null,null)}(this._lView[Q],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new V(902,!1);this._appRef=e}}class woe extends pp{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;yv(e[Q],e,e[on],!1)}checkNoChanges(){}get context(){return null}}class Rj extends hv{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=je(e);return new gp(t,this.ngModule)}}function Nj(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class Eoe{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=wy(r);const i=this.injector.get(e,T1,r);return i!==T1||t===T1?i:this.parentInjector.get(e,t,r)}}class gp extends FU{get inputs(){const e=this.componentDef,t=e.inputTransforms,r=Nj(e.inputs);if(null!==t)for(const i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return Nj(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function cne(n){return n.map(une).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let s=(i=i||this.ngModule)instanceof oi?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new Eoe(e,s):e,a=o.get(E1,null);if(null===a)throw new V(407,!1);const d={rendererFactory:a,sanitizer:o.get(Ise,null),effectManager:o.get(Tj,null),afterRenderEventManager:o.get(N1,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=r?function qse(n,e,t,r){const s=r.get(ej,!1)||t===as.ShadowDom,o=n.selectRootElement(e,s);return function Wse(n){hj(n)}(o),o}(h,r,this.componentDef.encapsulation,o):Ky(h,f,function boe(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(f)),y=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let _=null;null!==p&&(_=I1(p,o,!0));const w=F1(0,null,null,1,0,null,null,null,null,null,null),S=gv(null,w,null,y,null,null,d,h,o,null,_);let R,M;ST(S);try{const J=this.componentDef;let fe,nt=null;J.findHostDirectiveDefs?(fe=[],nt=new Map,J.findHostDirectiveDefs(J,fe,nt),fe.push(J)):fe=[J];const Rt=function Doe(n,e){const t=n[Q],r=ke;return n[r]=e,nd(t,r,2,"#host",null)}(S,p),tr=function Soe(n,e,t,r,i,s,o){const a=i[Q];!function Coe(n,e,t,r){for(const i of n)e.mergedAttrs=Lf(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(_v(e,e.mergedAttrs,!0),null!==t&&cU(r,t,e))}(r,n,e,o);let u=null;null!==e&&(u=I1(e,i[fa]));const c=s.rendererFactory.createRenderer(e,t);let l=16;t.signals?l=4096:t.onPush&&(l=64);const d=gv(i,dj(t),null,l,i[n.index],n,s,c,null,null,u);return a.firstCreatePass&&L1(a,n,r.length-1),mv(i,d),i[n.index]=d}(Rt,p,J,fe,S,d,h);M=KL(w,ke),p&&function xoe(n,e,t,r){if(r)lT(n,t,["ng-version",LU.full]);else{const{attrs:i,classes:s}=function lne(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!us(i))break;i=s}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&lT(n,t,i),s&&s.length>0&&uU(n,t,s.join(" "))}}(h,J,p,r),void 0!==t&&function Roe(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const s=t[i];r.push(null!=s?Array.from(s):null)}}(M,this.ngContentSelectors,t),R=function Aoe(n,e,t,r,i,s){const o=or(),a=i[Q],u=ri(o,i);gj(a,i,o,t,null,r);for(let l=0;l<t.length;l++)Dr(Ou(i,a,o.directiveStart+l,o),i);mj(a,i,o),u&&Dr(u,i);const c=Ou(i,a,o.directiveStart+o.componentOffset,o);if(n[on]=i[on]=c,null!==s)for(const l of s)l(c,e);return O1(a,o,n),c}(tr,J,fe,nt,S,[Noe]),$1(w,S,null)}finally{CT()}return new Toe(this.componentType,R,Xl(M,S),S,M)}}class Toe extends pse{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new woe(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const s=this._rootLView;j1(s[Q],s,i,e,t),this.previousInputValues.set(e,t),dp(Ei(this._tNode.index,s))}}get injector(){return new $r(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function Noe(){const n=or();Ny(N()[Q],n)}function ot(n){let e=function Mj(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(ls(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new V(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=vv(n.inputs),o.inputTransforms=vv(n.inputTransforms),o.declaredInputs=vv(n.declaredInputs),o.outputs=vv(n.outputs);const a=i.hostBindings;a&&koe(n,a);const u=i.viewQuery,c=i.contentQueries;if(u&&Ooe(n,u),c&&Poe(n,c),gy(n.inputs,i.inputs),gy(n.declaredInputs,i.declaredInputs),gy(n.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),gy(o.inputTransforms,i.inputTransforms)),ls(i)&&i.data.animation){const l=n.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===ot&&(t=!1)}}e=Object.getPrototypeOf(e)}!function Moe(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Lf(i.hostAttrs,t=Lf(t,i.hostAttrs))}}(r)}function vv(n){return n===Ps?{}:n===Je?[]:n}function Ooe(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function Poe(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function koe(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}function Fj(n){const e=n.inputConfig,t={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(t[r]=i[2])}n.inputTransforms=t}function Sr(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function at(n,e,t,r){const i=N();return Sr(i,Pl(),e)&&($e(),Us($t(),i,n,e,t,r)),at}function Z(n,e,t){const r=N();return Sr(r,Pl(),e)&&function Si(n,e,t,r,i,s,o,a){const u=ri(e,t);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(j1(n,t,l,r,i),Ru(e)&&function eoe(n,e){const t=Ei(e,n);16&t[Ce]||(t[Ce]|=64)}(t,e.index)):3&e.type&&(r=function Zse(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}($e(),$t(),r,n,e,r[be],t,!1),Z}function Q1(n,e,t,r,i){const o=i?"class":"style";j1(n,t,e.inputs[o],o,r)}function ie(n,e,t,r){const i=N(),s=$e(),o=ke+n,a=i[be],u=s.firstCreatePass?function cae(n,e,t,r,i,s){const o=e.consts,u=nd(e,n,2,r,ma(o,i));return function V1(n,e,t,r){if(eB()){const i=null===r?null:{"":-1},s=function ooe(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(vL(e,o.selectors,!1))if(r||(r=[]),ls(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),L1(n,e,a.length)}else r.unshift(o),L1(n,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(n,t);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&gj(n,e,t,o,i,a),i&&function aoe(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new V(-301,!1);r.push(e[i],s)}}}(t,r,i)}t.mergedAttrs=Lf(t.mergedAttrs,t.attrs)}(e,t,u,ma(o,s)),null!==u.attrs&&_v(u,u.attrs,!1),null!==u.mergedAttrs&&_v(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,e,t,r):s.data[o],c=Jj(s,i,u,a,e,n);i[o]=c;const l=Sy(u);return Ls(u,!0),cU(a,c,u),32!=(32&u.flags)&&Ry()&&Jy(s,i,c,u),0===function jne(){return me.lFrame.elementDepthCount}()&&Dr(c,i),function $ne(){me.lFrame.elementDepthCount++}(),l&&(function P1(n,e,t){eB()&&(function ioe(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;Ru(t)&&function doe(n,e,t){const r=ri(e,n),i=dj(t);let o=16;t.signals?o=4096:t.onPush&&(o=64);const a=mv(n,gv(n,i,null,o,r,e,null,n[Cl].rendererFactory.createRenderer(r,t),null,null,null));n[e.index]=a}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||ky(t,e),Dr(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const u=n.data[a],c=Ou(e,n,a,t);Dr(c,e),null!==o&&hoe(0,a-i,c,u,0,o),ls(u)&&(Ei(t.index,e)[on]=Ou(e,n,a,t))}}(n,e,t,ri(t,e)),64==(64&t.flags)&&mj(n,e,t))}(s,i,u),O1(s,u,i)),null!==r&&function k1(n,e,t=ri){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}(i,u),ie}function se(){let n=or();wT()?bT():(n=n.parent,Ls(n,!1));const e=n;(function Hne(n){return me.skipHydrationRootTNode===n})(e)&&function Kne(){me.skipHydrationRootTNode=null}(),function Gne(){me.lFrame.elementDepthCount--}();const t=$e();return t.firstCreatePass&&(Ny(t,n),hT(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function cre(n){return 0!=(8&n.flags)}(e)&&Q1(t,e,N(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function lre(n){return 0!=(16&n.flags)}(e)&&Q1(t,e,N(),e.stylesWithoutHost,!1),se}function ar(n,e,t,r){return ie(n,e,t,r),se(),ar}let Jj=(n,e,t,r,i,s)=>(_a(!0),Ky(r,i,function dB(){return me.lFrame.currentNamespace}()));function wp(n){return!!n&&"function"==typeof n.then}function e$(n){return!!n&&"function"==typeof n.subscribe}function Be(n,e,t,r){const i=N(),s=$e(),o=or();return function n$(n,e,t,r,i,s,o){const a=Sy(r),c=n.firstCreatePass&&wj(n),l=e[on],d=Ij(e);let h=!0;if(3&r.type||o){const g=ri(r,e),m=o?o(g):g,y=d.length,_=o?S=>o(Et(S[r.index])):r.index;let w=null;if(!o&&a&&(w=function gae(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[Sl],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==w)(w.__ngLastListenerFn__||w).__ngNextListenerFn__=s,w.__ngLastListenerFn__=s,h=!1;else{s=i$(r,e,l,s,!1);const S=t.listen(m,i,s);d.push(s,S),c&&c.push(i,_,y,y+1)}}else s=i$(r,e,l,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const g=p.length;if(g)for(let m=0;m<g;m+=2){const R=e[p[m]][p[m+1]].subscribe(s),M=d.length;d.push(s,R),c&&c.push(i,r.index,M,-(M+1))}}}(s,i,i[be],o,n,e,r),Be}function r$(n,e,t,r){try{return Vs(6,e,t),!1!==t(r)}catch(i){return Ej(n,i),!1}finally{Vs(7,e,t)}}function i$(n,e,t,r,i){return function s(o){if(o===Function)return r;dp(n.componentOffset>-1?Ei(n.index,e):e);let u=r$(e,t,r,o),c=s.__ngNextListenerFn__;for(;c;)u=r$(e,t,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&o.preventDefault(),u}}function mae(n,e){let t=null;const r=function ine(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?vL(n,s,!0):ane(r,s))return i}else t=i}return t}function Sv(n,e){return n<<17|e<<2}function wa(n){return n>>17&32767}function Z1(n){return 2|n}function Lu(n){return(131068&n)>>2}function eD(n,e){return-131069&n|e<<2}function tD(n){return 1|n}function g$(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?wa(s):Lu(s),u=!1;for(;0!==a&&(!1===u||o);){const l=n[a+1];bae(n[a],e)&&(u=!0,n[a+1]=r?tD(l):Z1(l)),a=r?wa(l):Lu(l)}u&&(n[t+1]=r?Z1(s):tD(s))}function bae(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&$l(n,e)>=0}const Nn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function m$(n){return n.substring(Nn.key,Nn.keyEnd)}function _$(n,e){const t=Nn.textEnd;return t===e?-1:(e=Nn.keyEnd=function Sae(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,Nn.key=e,t),hd(n,e,t))}function hd(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function Ze(n,e){return function fs(n,e,t,r){const i=N(),s=$e(),o=Do(2);s.firstUpdatePass&&T$(s,n,o,r),e!==De&&Sr(i,o,e)&&S$(s,s.data[jr()],i,i[be],n,i[o+1]=function Vae(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=An(va(n)))),n}(e,t),r,o)}(n,e,null,!0),Ze}function Bu(n){!function ps(n,e,t,r){const i=$e(),s=Do(2);i.firstUpdatePass&&T$(i,null,s,r);const o=N();if(t!==De&&Sr(o,s,t)){const a=i.data[jr()];if(A$(a,r)&&!E$(i,s)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;null!==u&&(t=YE(u,t||"")),Q1(i,a,o,t,r)}else!function Fae(n,e,t,r,i,s,o,a){i===De&&(i=Je);let u=0,c=0,l=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;null!==l||null!==d;){const h=u<i.length?i[u+1]:void 0,f=c<s.length?s[c+1]:void 0;let g,p=null;l===d?(u+=2,c+=2,h!==f&&(p=d,g=f)):null===d||null!==l&&l<d?(u+=2,p=l):(c+=2,p=d,g=f),null!==p&&S$(n,e,t,r,p,g,o,a),l=u<i.length?i[u]:null,d=c<s.length?s[c]:null}}(i,a,o,o[be],o[s+1],o[s+1]=function Pae(n,e,t){if(null==t||""===t)return Je;const r=[],i=va(t);if(Array.isArray(i))for(let s=0;s<i.length;s++)n(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&n(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(n,e,t),r,s)}}(kae,zs,n,!0)}function zs(n,e){for(let t=function Tae(n){return function v$(n){Nn.key=0,Nn.keyEnd=0,Nn.value=0,Nn.valueEnd=0,Nn.textEnd=n.length}(n),_$(n,hd(n,0,Nn.textEnd))}(e);t>=0;t=_$(e,t))Ti(n,m$(e),!0)}function E$(n,e){return e>=n.expandoStartIndex}function T$(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[jr()],o=E$(n,t);A$(s,r)&&null===e&&!o&&(e=!1),e=function Rae(n,e,t,r){const i=function TT(n){const e=me.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=bp(t=nD(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=nD(i,n,e,t,r),null===s){let u=function Nae(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==Lu(r))return n[wa(r)]}(n,e,r);void 0!==u&&Array.isArray(u)&&(u=nD(null,n,e,u[1],r),u=bp(u,e.attrs,r),function Mae(n,e,t,r){n[wa(t?e.classBindings:e.styleBindings)]=r}(n,e,r,u))}else s=function Oae(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=bp(r,n[s].hostAttrs,t);return bp(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function Iae(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=wa(o),u=Lu(o);n[r]=t;let l,c=!1;if(Array.isArray(t)?(l=t[1],(null===l||$l(t,l)>0)&&(c=!0)):l=t,i)if(0!==u){const h=wa(n[a+1]);n[r+1]=Sv(h,a),0!==h&&(n[h+1]=eD(n[h+1],r)),n[a+1]=function yae(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=Sv(a,0),0!==a&&(n[a+1]=eD(n[a+1],r)),a=r;else n[r+1]=Sv(u,0),0===a?a=r:n[u+1]=eD(n[u+1],r),u=r;c&&(n[r+1]=Z1(n[r+1])),g$(n,l,r,!0),g$(n,l,r,!1),function wae(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&$l(s,e)>=0&&(t[r+1]=tD(t[r+1]))}(e,l,n,r,s),o=Sv(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}function nD(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=bp(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function bp(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Ti(n,o,!!t||e[++s]))}return void 0===n?null:n}function kae(n,e,t){const r=String(e);""!==r&&!r.includes(" ")&&Ti(n,r,t)}function S$(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const u=n.data,c=u[a+1],l=function vae(n){return 1==(1&n)}(c)?C$(u,e,t,i,Lu(c),o):void 0;Cv(l)||(Cv(s)||function _ae(n){return 2==(2&n)}(c)&&(s=C$(u,null,t,i,a,o)),function wie(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=-1===r.indexOf("-")?void 0:ya.DashCase;null==i?n.removeStyle(t,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=ya.Important),n.setStyle(t,r,i,s))}}(r,o,function xy(n,e){return Et(e[n])}(jr(),t),i,s))}function C$(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const u=n[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=t[i+1];h===De&&(h=d?Je:void 0);let f=d?FT(h,r):l===r?h:void 0;if(c&&!Cv(f)&&(f=FT(u,r)),Cv(f)&&(a=f,o))return a;const p=n[i+1];i=o?wa(p):Lu(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=FT(u,r))}return a}function Cv(n){return void 0!==n}function A$(n,e){return 0!=(n.flags&(e?8:16))}function Ge(n,e=""){const t=N(),r=$e(),i=n+ke,s=r.firstCreatePass?nd(r,i,1,e,null):r.data[i],o=x$(r,t,s,e,n);t[i]=o,Ry()&&Jy(r,t,o,s),Ls(s,!1)}let x$=(n,e,t,r,i)=>(_a(!0),function Wy(n,e){return n.createText(e)}(e[be],r));const gd="en-US";let Y$=gd;function sD(n,e,t,r,i){if(n=_e(n),Array.isArray(n))for(let s=0;s<n.length;s++)sD(n[s],e,t,r,i);else{const s=$e(),o=N(),a=or();let u=Fu(n)?n:_e(n.provide);const c=RU(n),l=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(Fu(n)||!n.multi){const f=new Kf(c,i,I),p=aD(u,e,i?l:l+h,d);-1===p?(OT(ky(a,o),s,u),oD(s,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(f),o.push(f)):(t[p]=f,o[p]=f)}else{const f=aD(u,e,l+h,d),p=aD(u,e,l,l+h),m=p>=0&&t[p];if(i&&!m||!i&&!(f>=0&&t[f])){OT(ky(a,o),s,u);const y=function rce(n,e,t,r,i){const s=new Kf(n,t,I);return s.multi=[],s.index=e,s.componentProviders=0,wG(s,i,r&&!t),s}(i?nce:tce,t.length,i,r,c);!i&&m&&(t[p].providerFactory=y),oD(s,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(y),o.push(y)}else oD(s,n,f>-1?f:p,wG(t[i?p:f],c,!i&&r));!i&&r&&m&&t[p].componentProviders++}}}function oD(n,e,t,r){const i=Fu(e),s=function Jie(n){return!!n.useClass}(e);if(i||s){const u=(s?_e(e.useClass):e).prototype.ngOnDestroy;if(u){const c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(t);-1===l?c.push(t,[r,u]):c[l+1].push(r,u)}else c.push(t,u)}}}function wG(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function aD(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function tce(n,e,t,r){return uD(this.multi,[])}function nce(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Ou(t,t[Q],this.providerFactory.index,r);s=a.slice(0,o),uD(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],uD(i,s);return s}function uD(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function vt(n,e=[]){return t=>{t.providersResolver=(r,i)=>function ece(n,e,t){const r=$e();if(r.firstCreatePass){const i=ls(n);sD(t,r.data,r.blueprint,i,!0),sD(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class ju{}class bG{}class cD extends ju{constructor(e,t,r){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Rj(this);const i=bi(e);this._bootstrapComponents=Ao(i.bootstrap),this._r3Injector=GU(e,t,[{provide:ju,useValue:this},{provide:hv,useValue:this.componentFactoryResolver},...r],An(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class lD extends bG{constructor(e){super(),this.moduleType=e}create(e){return new cD(this.moduleType,e,[])}}class EG extends ju{constructor(e){super(),this.componentFactoryResolver=new Rj(this),this.instance=null;const t=new sv([...e.providers,{provide:ju,useValue:this},{provide:hv,useValue:this.componentFactoryResolver}],e.parent||iv(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function dD(n,e,t=null){return new EG({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let oce=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const r=SU(0,t.type),i=r.length>0?dD([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=q({token:n,providedIn:"environment",factory:()=>new n(Y(oi))})}return n})();function Qi(n){n.getStandaloneInjector=e=>e.get(oce).getOrCreateStandaloneInjector(n)}function fD(n,e,t){const r=function Ur(){const n=me.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}()+n,i=N();return i[r]===De?function js(n,e,t){return n[e]=t}(i,r,t?e.call(t):e()):function _p(n,e){return n[e]}(i,r)}function Ace(){return this._results[Symbol.iterator]()}class gD{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new de)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=gD.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=Ace)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=function qi(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function Tre(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function Rce(n,e,t,r=!0){const i=e[Q];if(function fie(n,e,t,r){const i=rr+r,s=t.length;r>0&&(t[i-1][cs]=e),r<s-rr?(e[cs]=t[i],SB(t,rr+r,e)):(t.push(e),e[cs]=null),e[Vt]=t;const o=e[jf];null!==o&&t!==o&&function pie(n,e){const t=n[Rl];e[an]!==e[Vt][Vt][an]&&(n[SL]=!0),null===t?n[Rl]=[e]:t.push(e)}(o,e);const a=e[ks];null!==a&&a.insertView(n),e[Ce]|=128}(i,e,n,t),r){const s=JT(t,n),o=e[be],a=Yy(o,n[Fs]);null!==a&&function lie(n,e,t,r,i,s){r[Kt]=i,r[Tr]=e,ip(n,r,t,1,i,s)}(i,n[Tr],o,e,a,s)}}let Gt=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=Oce}return n})();const Nce=Gt,Mce=class extends Nce{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){const i=function xce(n,e,t,r){const i=e.tView,a=gv(n,i,t,4096&n[Ce]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[jf]=n[e.index];const c=n[ks];return null!==c&&(a[ks]=c.createEmbeddedView(i)),$1(i,a,t),a}(this._declarationLView,this._declarationTContainer,e,{injector:t,hydrationInfo:r});return new pp(i)}};function Oce(){return Mv(or(),N())}function Mv(n,e){return 4&n.type?new Mce(e,n,Xl(n,e)):null}let Yi=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=Bce}return n})();function Bce(){return jG(or(),N())}const Uce=Yi,BG=class extends Uce{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Xl(this._hostTNode,this._hostLView)}get injector(){return new $r(this._hostTNode,this._hostLView)}get parentInjector(){const e=Fy(this._hostTNode,this._hostLView);if(RT(e)){const t=Yf(e,this._hostLView),r=Qf(e);return new $r(t[Q].data[r+8],t)}return new $r(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=UG(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-rr}createEmbeddedView(e,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(t||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,t,r,i,s){const o=e&&!function Xf(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const g=t||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const u=o?e:new gp(je(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const m=(o?c:this.parentInjector).get(oi,null);m&&(s=m)}je(u.componentType??{});const f=u.create(c,i,null,s);return this.insertImpl(f.hostView,a,false),f}insert(e,t){return this.insertImpl(e,t,!1)}insertImpl(e,t,r){const i=e._lView;if(function Lne(n){return Br(n[Vt])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const c=i[Vt],l=new BG(c,c[Tr],c[Vt]);l.detach(l.indexOf(e))}}const o=this._adjustIndex(t),a=this._lContainer;return Rce(a,i,o,!r),e.attachToViewContainerRef(),SB(mD(a),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=UG(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=Qy(this._lContainer,t);r&&(Ly(mD(this._lContainer),t),WT(r[Q],r))}detach(e){const t=this._adjustIndex(e,-1),r=Qy(this._lContainer,t);return r&&null!=Ly(mD(this._lContainer),t)?new pp(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function UG(n){return n[8]}function mD(n){return n[8]||(n[8]=[])}function jG(n,e){let t;const r=e[n.index];return Br(r)?t=r:(t=function yj(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null,null]}(r,e,null,n),e[n.index]=t,mv(e,t)),$G(t,e,n,r),new BG(t,n,e)}let $G=function GG(n,e,t,r){if(n[Fs])return;let i;i=8&t.type?Et(r):function jce(n,e){const t=n[be],r=t.createComment(""),i=ri(e,n);return ku(t,Yy(t,i),r,function yie(n,e){return n.nextSibling(e)}(t,i),!1),r}(e,t),n[Fs]=i};class _D{constructor(e){this.queryList=e,this.matches=null}clone(){return new _D(this.queryList)}setDirty(){this.queryList.setDirty()}}class yD{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const o=t.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new yD(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==KG(e,t).matches&&this.queries[t].setDirty()}}class HG{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class vD{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new vD(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class ID{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new ID(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,t,Hce(t,s)),this.matchTNodeWithReadOption(e,t,Vy(t,e,s,!1,!1))}else r===Gt?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Vy(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===st||i===Yi||i===Gt&&4&t.type)this.addMatch(t.index,-2);else{const s=Vy(t,e,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function Hce(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function qce(n,e,t,r){return-1===t?function zce(n,e){return 11&n.type?Xl(n,e):4&n.type?Mv(n,e):null}(e,n):-2===t?function Wce(n,e,t){return t===st?Xl(e,n):t===Gt?Mv(e,n):t===Yi?jG(e,n):void 0}(n,e,r):Ou(n,n[Q],t,e)}function zG(n,e,t,r){const i=e[ks].queries[r];if(null===i.matches){const s=n.data,o=t.matches,a=[];for(let u=0;u<o.length;u+=2){const c=o[u];a.push(c<0?null:qce(e,s[c],o[u+1],t.metadata.read))}i.matches=a}return i.matches}function wD(n,e,t,r){const i=n.queries.getByIndex(t),s=i.matches;if(null!==s){const o=zG(n,e,i,t);for(let a=0;a<s.length;a+=2){const u=s[a];if(u>0)r.push(o[a/2]);else{const c=s[a+1],l=e[-u];for(let d=rr;d<l.length;d++){const h=l[d];h[jf]===h[Vt]&&wD(h[Q],h,c,r)}if(null!==l[Rl]){const d=l[Rl];for(let h=0;h<d.length;h++){const f=d[h];wD(f[Q],f,c,r)}}}}}return r}function dt(n){const e=N(),t=$e(),r=sB();DT(r+1);const i=KG(t,r);if(n.dirty&&function Fne(n){return 4==(4&n[Ce])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const s=i.crossesNgTemplate?wD(t,e,r,[]):zG(t,e,i,r);n.reset(s,yse),n.notifyOnChanges()}return!0}return!1}function $u(n,e,t){const r=$e();r.firstCreatePass&&(function WG(n,e,t){null===n.queries&&(n.queries=new vD),n.queries.track(new ID(e,t))}(r,new HG(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),function qG(n,e,t){const r=new gD(4==(4&t));(function Yse(n,e,t,r){const i=Ij(e);i.push(t),n.firstCreatePass&&wj(n).push(r,i.length-1)})(n,e,r,r.destroy),null===e[ks]&&(e[ks]=new yD),e[ks].queries.push(new _D(r))}(r,N(),e)}function KG(n,e){return n.queries.getByIndex(e)}const CD=new re("Application Initializer");let AD=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=X(CD,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const i of this.appInits){const s=i();if(wp(s))t.push(s);else if(e$(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});t.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),dH=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const ms=new re("LocaleId",{providedIn:"root",factory:()=>X(ms,Pe.Optional|Pe.SkipSelf)||function mle(){return typeof $localize<"u"&&$localize.locale||gd}()});let hH=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Gi(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class vle{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let fH=(()=>{class n{compileModuleSync(t){return new lD(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=Ao(bi(t).declarations).reduce((o,a)=>{const u=je(a);return u&&o.push(new gp(u)),o},[]);return new vle(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const _H=new re(""),Fv=new re("");let OD,ND=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,OD||(function Ble(n){OD=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Oe.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||n)(Y(Oe),Y(MD),Y(Fv))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),MD=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return OD?.findTestabilityInTree(this,t,r)??null}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),ba=null;const yH=new re("AllowMultipleToken"),PD=new re("PlatformDestroyListeners"),kD=new re("appBootstrapListener");class IH{constructor(e,t){this.name=e,this.token=t}}function bH(n,e,t=[]){const r=`Platform: ${e}`,i=new re(r);return(s=[])=>{let o=FD();if(!o||o.injector.get(yH,!1)){const a=[...t,...s,{provide:i,useValue:!0}];n?n(a):function $le(n){if(ba&&!ba.get(yH,!1))throw new V(400,!1);(function vH(){!function Ene(n){LL=n}(()=>{throw new V(600,!1)})})(),ba=n;const e=n.get(TH);(function wH(n){n.get(NU,null)?.forEach(t=>t())})(n)}(function EH(n=[],e){return Rn.create({name:e,providers:[{provide:c1,useValue:"platform"},{provide:PD,useValue:new Set([()=>ba=null])},...n]})}(a,r))}return function Hle(n){const e=FD();if(!e)throw new V(401,!1);return e}()}}function FD(){return ba?.get(TH)??null}let TH=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function zle(n="zone.js",e){return"noop"===n?new Mse:"zone.js"===n?new Oe(e):n}(r?.ngZone,function DH(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function sce(n,e,t){return new cD(n,e,t)}(t.moduleType,this.injector,function RH(n){return[{provide:Oe,useFactory:n},{provide:up,multi:!0,useFactory:()=>{const e=X(Wle,{optional:!0});return()=>e.initialize()}},{provide:xH,useFactory:qle},{provide:KU,useFactory:QU}]}(()=>i)),o=s.injector.get(Co,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:u=>{o.handleError(u)}});s.onDestroy(()=>{Vv(this._modules,s),a.unsubscribe()})}),function SH(n,e,t){try{const r=t();return wp(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(AD);return a.runInitializers(),a.donePromise.then(()=>(function J$(n){Hi(n,"Expected localeId to be defined"),"string"==typeof n&&(Y$=n.toLowerCase().replace(/_/g,"-"))}(s.injector.get(ms,gd)||gd),this._moduleDoBootstrap(s),s))})})}bootstrapModule(t,r=[]){const i=CH({},r);return function Ule(n,e,t){const r=new lD(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(Ea);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new V(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new V(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(PD,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||n)(Y(Rn))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function CH(n,e){return Array.isArray(e)?e.reduce(CH,n):{...n,...e}}let Ea=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=X(xH),this.zoneIsStable=X(KU),this.componentTypes=[],this.components=[],this.isStable=X(hH).hasPendingTasks.pipe(os(t=>t?pe(!1):this.zoneIsStable),function nL(n,e=ss){return n=n??kte,jt((t,r)=>{let i,s=!0;t.subscribe(wt(r,o=>{const a=e(o);(s||!n(i,a))&&(s=!1,i=a,r.next(o))}))})}(),tL()),this._injector=X(oi)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof FU;if(!this._injector.get(AD).done)throw!i&&function Dl(n){const e=je(n)||nr(n)||Lr(n);return null!==e&&e.standalone}(t),new V(405,!1);let o;o=i?t:this._injector.get(hv).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function jle(n){return n.isBoundToModule}(o)?void 0:this._injector.get(ju),c=o.create(Rn.NULL,[],r||o.selector,a),l=c.location.nativeElement,d=c.injector.get(_H,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),Vv(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new V(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;Vv(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(kD,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Vv(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new V(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Vv(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const xH=new re("",{providedIn:"root",factory:()=>X(Co).handleError.bind(void 0)});function qle(){const n=X(Oe),e=X(Co);return t=>n.runOutsideAngular(()=>e.handleError(t))}let Wle=(()=>{class n{constructor(){this.zone=X(Oe),this.applicationRef=X(Ea)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();let _s=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=Qle}return n})();function Qle(n){return function Yle(n,e,t){if(Ru(n)&&!t){const r=Ei(n.index,e);return new pp(r,r)}return 47&n.type?new pp(e[an],e):null}(or(),N(),16==(16&n))}const cde=bH(null,"core",[]);let lde=(()=>{class n{constructor(t){}static#e=this.\u0275fac=function(r){return new(r||n)(Y(Ea))};static#t=this.\u0275mod=Xe({type:n});static#n=this.\u0275inj=Ke({})}return n})();function yd(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function $D(n,e){const t=je(n),r=e.elementInjector||iv();return new gp(t).create(r,e.projectableNodes,e.hostElement,e.environmentInjector)}let GD=null;function Ta(){return GD}class Tde{}const Mn=new re("DocumentToken");let HD=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=q({token:n,factory:function(){return X(Sde)},providedIn:"platform"})}return n})();const Dde=new re("Location Initialized");let Sde=(()=>{class n extends HD{constructor(){super(),this._doc=X(Mn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ta().getBaseHref(this._doc)}onPopState(t){const r=Ta().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Ta().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=q({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function zD(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function KH(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function No(n){return n&&"?"!==n[0]?"?"+n:n}let Hu=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=q({token:n,factory:function(){return X(YH)},providedIn:"root"})}return n})();const QH=new re("appBaseHref");let YH=(()=>{class n extends Hu{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??X(Mn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return zD(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+No(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+No(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+No(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(Y(HD),Y(QH,8))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Cde=(()=>{class n extends Hu{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=zD(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+No(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+No(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(Y(HD),Y(QH,8))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),qD=(()=>{class n{constructor(t){this._subject=new de,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function Rde(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(KH(JH(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+No(r))}normalize(t){return n.stripTrailingSlash(function xde(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,JH(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+No(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+No(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static#e=this.normalizeQueryParams=No;static#t=this.joinWithSlash=zD;static#n=this.stripTrailingSlash=KH;static#r=this.\u0275fac=function(r){return new(r||n)(Y(Hu))};static#i=this.\u0275prov=q({token:n,factory:function(){return function Ade(){return new qD(Y(Hu))}()},providedIn:"root"})}return n})();function JH(n){return n.replace(/\/index.html$/,"")}let $he=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Xe({type:n});static#n=this.\u0275inj=Ke({})}return n})();function g4(n){return"server"===n}let qhe=(()=>{class n{static#e=this.\u0275prov=q({token:n,providedIn:"root",factory:()=>new Whe(Y(Mn),window)})}return n})();class Whe{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Khe(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class yfe extends Tde{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class lS extends yfe{static makeCurrent(){!function Ede(n){GD||(GD=n)}(new lS)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function vfe(){return Bp=Bp||document.querySelector("base"),Bp?Bp.getAttribute("href"):null}();return null==t?null:function Ife(n){e0=e0||document.createElement("a"),e0.setAttribute("href",n);const e=e0.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Bp=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function dhe(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let e0,Bp=null,bfe=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac})}return n})();const dS=new re("EventManagerPlugins");let I4=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new V(5101,!1);return this._eventNameToPlugin.set(t,r),r}static#e=this.\u0275fac=function(r){return new(r||n)(Y(dS),Y(Oe))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac})}return n})();class w4{constructor(e){this._doc=e}}const hS="ng-app-id";let b4=(()=>{class n{constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=g4(s),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${hS}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const s=i.get(t);return s.usage+=r,s.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===t)return i.delete(r),s.removeAttribute(hS),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(hS,this.appId),o}}addStyleToHost(t,r){const i=this.getStyleElement(t,r);t.appendChild(i);const s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||n)(Y(Mn),Y(ov),Y(MU,8),Y(Ia))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac})}return n})();const fS={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},pS=/%COMP%/g,Sfe=new re("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function T4(n,e){return e.map(t=>t.replace(pS,n))}let D4=(()=>{class n{constructor(t,r,i,s,o,a,u,c=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=u,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=g4(a),this.defaultRenderer=new gS(t,o,u,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===as.ShadowDom&&(r={...r,encapsulation:as.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof C4?i.applyToHost(t):i instanceof mS&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,u=this.eventManager,c=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case as.Emulated:s=new C4(u,c,r,this.appId,l,o,a,d);break;case as.ShadowDom:return new Rfe(u,c,t,r,o,a,this.nonce,d);default:s=new mS(u,c,r,l,o,a,d)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||n)(Y(I4),Y(b4),Y(ov),Y(Sfe),Y(Mn),Y(Ia),Y(Oe),Y(MU))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac})}return n})();class gS{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(fS[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(S4(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(S4(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new V(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=fS[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=fS[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(ya.DashCase|ya.Important)?e.style.setProperty(t,r,i&ya.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&ya.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=Ta().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function S4(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Rfe extends gS{constructor(e,t,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=T4(i.id,i.styles);for(const l of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class mS extends gS{constructor(e,t,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=u?T4(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class C4 extends mS{constructor(e,t,r,i,s,o,a,u){const c=i+"-"+r.id;super(e,t,r,s,o,a,u,c),this.contentAttr=function Cfe(n){return"_ngcontent-%COMP%".replace(pS,n)}(c),this.hostAttr=function Afe(n){return"_nghost-%COMP%".replace(pS,n)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let Nfe=(()=>{class n extends w4{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||n)(Y(Mn))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac})}return n})();const A4=["alt","control","meta","shift"],Mfe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ofe={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Pfe=(()=>{class n extends w4{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ta().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),A4.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(t,r){let i=Mfe[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),A4.forEach(o=>{o!==i&&(0,Ofe[o])(t)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(r){return new(r||n)(Y(Mn))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac})}return n})();const R4=[{provide:Ia,useValue:"browser"},{provide:NU,useValue:function kfe(){lS.makeCurrent()},multi:!0},{provide:Mn,useFactory:function Vfe(){return function Sie(n){e1=n}(document),document},deps:[]}],Lfe=bH(cde,"browser",R4),Bfe=new re(""),N4=[{provide:Fv,useClass:class wfe{addToWindow(e){bt.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new V(5103,!1);return s},bt.getAllAngularTestabilities=()=>e.getAllTestabilities(),bt.getAllAngularRootElements=()=>e.getAllRootElements(),bt.frameworkStabilizers||(bt.frameworkStabilizers=[]),bt.frameworkStabilizers.push(r=>{const i=bt.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(u=>{u.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?Ta().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:_H,useClass:ND,deps:[Oe,MD,Fv]},{provide:ND,useClass:ND,deps:[Oe,MD,Fv]}],M4=[{provide:c1,useValue:"root"},{provide:Co,useFactory:function Ffe(){return new Co},deps:[]},{provide:dS,useClass:Nfe,multi:!0,deps:[Mn,Oe,Ia]},{provide:dS,useClass:Pfe,multi:!0,deps:[Mn]},D4,b4,I4,{provide:E1,useExisting:D4},{provide:class Qhe{},useClass:bfe,deps:[]},[]];let Ufe=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:ov,useValue:t.appId}]}}static#e=this.\u0275fac=function(r){return new(r||n)(Y(Bfe,12))};static#t=this.\u0275mod=Xe({type:n});static#n=this.\u0275inj=Ke({providers:[...M4,...N4],imports:[$he,lde]})}return n})(),O4=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(r){return new(r||n)(Y(Mn))};static#t=this.\u0275prov=q({token:n,factory:function(r){let i=null;return i=r?new r:function $fe(){return new O4(Y(Mn))}(),i},providedIn:"root"})}return n})();function V4(n,e,t,r,i,s,o){try{var a=n[s](o),u=a.value}catch(c){return void t(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function v(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function o(u){V4(s,r,i,o,a,"next",u)}function a(u){V4(s,r,i,o,a,"throw",u)}o(void 0)})}}typeof window<"u"&&window;const L4=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},vS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,u=i+2<n.length,c=u?n[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(t[s>>2],t[(3&s)<<4|a>>4],t[h],t[f])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(L4(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new Yfe;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Yfe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wd=function(n){return function(n){const e=L4(n);return vS.encodeByteArray(e,!0)}(n).replace(/\./g,"")},t0=function(n){try{return vS.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},n0=()=>{try{return function Zfe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&t0(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},U4=()=>{var n;return null===(n=n0())||void 0===n?void 0:n.config};class r0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function Ai(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function IS(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function Ca(){try{return"object"==typeof indexedDB}catch{return!1}}function bd(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}function wS(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ci extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,ci.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Is.prototype.create)}}class Is{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function dpe(n,e){return n.replace(hpe,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new ci(i,`${this.serviceName}: ${o} (${i}).`,r)}}const hpe=/\{\$([^}]+)}/g;function bS(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if($4(s)&&$4(o)){if(!bS(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function $4(n){return null!==n&&"object"==typeof n}function G4(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class ppe{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function gpe(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=ES),void 0===i.error&&(i.error=ES),void 0===i.complete&&(i.complete=ES);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ES(){}const mpe=1e3,_pe=2,ype=144e5,vpe=.5;function DS(n,e=mpe,t=_pe){const r=e*Math.pow(t,n),i=Math.round(vpe*r*(Math.random()-.5)*2);return Math.min(ype,r+i)}function Aa(n){return n&&n._delegate?n._delegate:n}class wn{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const qu="[DEFAULT]";class wpe{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new r0;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function Epe(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:qu})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=qu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return v(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=qu){return this.instances.has(e)}getOptions(e=qu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===qu?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(e=qu){return this.component?this.component.multipleInstances?e:qu:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Tpe{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new wpe(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const SS=[];var Me=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Me||{});const H4={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},Dpe=Me.INFO,Spe={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},Cpe=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=Spe[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class xa{constructor(e){this.name=e,this._logLevel=Dpe,this._logHandler=Cpe,this._userLogHandler=null,SS.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?H4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const Ape=(n,e)=>e.some(t=>n instanceof t);let z4,q4;const W4=new WeakMap,CS=new WeakMap,K4=new WeakMap,AS=new WeakMap,xS=new WeakMap;let RS={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return CS.get(n);if("objectStoreNames"===e)return n.objectStoreNames||K4.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ra(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function kpe(n){return"function"==typeof n?function Ppe(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Rpe(){return q4||(q4=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(NS(this),e),Ra(W4.get(this))}:function(...e){return Ra(n.apply(NS(this),e))}:function(e,...t){const r=n.call(NS(this),e,...t);return K4.set(r,e.sort?e.sort():[e]),Ra(r)}}(n):(n instanceof IDBTransaction&&function Mpe(n){if(CS.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});CS.set(n,e)}(n),Ape(n,function xpe(){return z4||(z4=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,RS):n)}function Ra(n){if(n instanceof IDBRequest)return function Npe(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Ra(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&W4.set(t,n)}).catch(()=>{}),xS.set(e,n),e}(n);if(AS.has(n))return AS.get(n);const e=kpe(n);return e!==n&&(AS.set(n,e),xS.set(e,n)),e}const NS=n=>xS.get(n);function Q4(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=Ra(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Ra(o.result),u.oldVersion,u.newVersion,Ra(o.transaction),u)}),t&&o.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const Fpe=["get","getKey","getAll","getAllKeys","count"],Vpe=["put","add","delete","clear"],MS=new Map;function Y4(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(MS.get(e))return MS.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=Vpe.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Fpe.includes(t))return;const s=function(){var o=v(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[t](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return MS.set(e,s),s}!function Ope(n){RS=n(RS)}(n=>({...n,get:(e,t,r)=>Y4(e,t)||n.get(e,t,r),has:(e,t)=>!!Y4(e,t)||n.has(e,t)}));class Lpe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function Bpe(n){const e=n.getComponent();return"VERSION"===e?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const OS="@firebase/app",Wu=new xa("@firebase/app"),o0="[DEFAULT]",dge={[OS]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ku=new Map,a0=new Map;function hge(n,e){try{n.container.addComponent(e)}catch(t){Wu.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ed(n){const e=n.name;if(a0.has(e))return Wu.debug(`There were multiple attempts to register component ${e}.`),!1;a0.set(e,n);for(const t of Ku.values())hge(t,n);return!0}const Po=new Is("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class pge{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new wn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Po.create("app-deleted",{appName:this._name})}}const u0="9.23.0";function Z4(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:o0,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Po.create("bad-app-name",{appName:String(i)});if(t||(t=U4()),!t)throw Po.create("no-options");const s=Ku.get(i);if(s){if(bS(t,s.options)&&bS(r,s.config))return s;throw Po.create("duplicate-app",{appName:i})}const o=new Tpe(i);for(const u of a0.values())o.addComponent(u);const a=new pge(t,r,o);return Ku.set(i,a),a}function e3(n=o0){const e=Ku.get(n);if(!e&&n===o0&&U4())return Z4();if(!e)throw Po.create("no-app",{appName:n});return e}function t3(){return Array.from(Ku.values())}function Zi(n,e,t){var r;let i=null!==(r=dge[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Wu.warn(a.join(" "))}Ed(new wn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const gge="firebase-heartbeat-database",mge=1,Up="firebase-heartbeat-store";let kS=null;function n3(){return kS||(kS=Q4(gge,mge,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Up)}}).catch(n=>{throw Po.create("idb-open",{originalErrorMessage:n.message})})),kS}function FS(){return(FS=v(function*(n){try{return yield(yield n3()).transaction(Up).objectStore(Up).get(i3(n))}catch(e){if(e instanceof ci)Wu.warn(e.message);else{const t=Po.create("idb-get",{originalErrorMessage:e?.message});Wu.warn(t.message)}}})).apply(this,arguments)}function r3(n,e){return VS.apply(this,arguments)}function VS(){return(VS=v(function*(n,e){try{const r=(yield n3()).transaction(Up,"readwrite");yield r.objectStore(Up).put(e,i3(n)),yield r.done}catch(t){if(t instanceof ci)Wu.warn(t.message);else{const r=Po.create("idb-set",{originalErrorMessage:t?.message});Wu.warn(r.message)}}})).apply(this,arguments)}function i3(n){return`${n.name}!${n.options.appId}`}class Ige{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new bge(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return v(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=s3();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return v(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=s3(),{heartbeatsToSend:r,unsentEntries:i}=function wge(n,e=1024){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),o3(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),o3(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=wd(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function s3(){return(new Date).toISOString().substring(0,10)}class bge{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(function*(){return!!Ca()&&bd().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return v(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function _ge(n){return FS.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return v(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return r3(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return v(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return r3(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function o3(n){return wd(JSON.stringify({version:2,heartbeats:n})).length}!function Ege(n){Ed(new wn("platform-logger",e=>new Lpe(e),"PRIVATE")),Ed(new wn("heartbeat",e=>new Ige(e),"PRIVATE")),Zi(OS,"0.9.13",n),Zi(OS,"0.9.13","esm2017"),Zi("fire-js","")}(""),Zi("firebase","9.23.0","app");class Sge{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function Cge(n){const e=n.getComponent();return"VERSION"===e?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const LS="@firebase/app",Qu=new xa("@firebase/app"),Zge={[LS]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Yu=new Map,l0=new Map;function eme(n,e){try{n.container.addComponent(e)}catch(t){Qu.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function xi(n){const e=n.name;if(l0.has(e))return Qu.debug(`There were multiple attempts to register component ${e}.`),!1;l0.set(e,n);for(const t of Yu.values())eme(t,n);return!0}function BS(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const ko=new Is("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});function li(n,e,t){var r;let i=null!==(r=Zge[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Qu.warn(a.join(" "))}xi(new wn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const ime="firebase-heartbeat-database",sme=1,jp="firebase-heartbeat-store";let jS=null;function c3(){return jS||(jS=Q4(ime,sme,{upgrade:(n,e)=>{0===e&&n.createObjectStore(jp)}}).catch(n=>{throw ko.create("idb-open",{originalErrorMessage:n.message})})),jS}function $S(){return($S=v(function*(n){try{return yield(yield c3()).transaction(jp).objectStore(jp).get(d3(n))}catch(e){if(e instanceof ci)Qu.warn(e.message);else{const t=ko.create("idb-get",{originalErrorMessage:e?.message});Qu.warn(t.message)}}})).apply(this,arguments)}function l3(n,e){return GS.apply(this,arguments)}function GS(){return(GS=v(function*(n,e){try{const r=(yield c3()).transaction(jp,"readwrite");yield r.objectStore(jp).put(e,d3(n)),yield r.done}catch(t){if(t instanceof ci)Qu.warn(t.message);else{const r=ko.create("idb-set",{originalErrorMessage:t?.message});Qu.warn(r.message)}}})).apply(this,arguments)}function d3(n){return`${n.name}!${n.options.appId}`}class cme{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new dme(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return v(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=h3();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return v(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=h3(),{heartbeatsToSend:r,unsentEntries:i}=function lme(n,e=1024){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),f3(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),f3(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=wd(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function h3(){return(new Date).toISOString().substring(0,10)}class dme{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(function*(){return!!Ca()&&bd().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return v(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function ome(n){return $S.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return v(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return l3(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return v(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return l3(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function f3(n){return wd(JSON.stringify({version:2,heartbeats:n})).length}!function hme(n){xi(new wn("platform-logger",e=>new Sge(e),"PRIVATE")),xi(new wn("heartbeat",e=>new cme(e),"PRIVATE")),li(LS,"0.9.19",n),li(LS,"0.9.19","esm2017"),li("fire-js","")}("");const fme=(n,e)=>e.some(t=>n instanceof t);let p3,g3;const m3=new WeakMap,HS=new WeakMap,_3=new WeakMap,zS=new WeakMap,qS=new WeakMap;let WS={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return HS.get(n);if("objectStoreNames"===e)return n.objectStoreNames||_3.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Na(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function Ime(n){return"function"==typeof n?function vme(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function gme(){return g3||(g3=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(KS(this),e),Na(m3.get(this))}:function(...e){return Na(n.apply(KS(this),e))}:function(e,...t){const r=n.call(KS(this),e,...t);return _3.set(r,e.sort?e.sort():[e]),Na(r)}}(n):(n instanceof IDBTransaction&&function _me(n){if(HS.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});HS.set(n,e)}(n),fme(n,function pme(){return p3||(p3=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,WS):n)}function Na(n){if(n instanceof IDBRequest)return function mme(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Na(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&m3.set(t,n)}).catch(()=>{}),qS.set(e,n),e}(n);if(zS.has(n))return zS.get(n);const e=Ime(n);return e!==n&&(zS.set(n,e),qS.set(e,n)),e}const KS=n=>qS.get(n),bme=["get","getKey","getAll","getAllKeys","count"],Eme=["put","add","delete","clear"],QS=new Map;function y3(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(QS.get(e))return QS.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=Eme.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!bme.includes(t))return;const s=function(){var o=v(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[t](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return QS.set(e,s),s}!function yme(n){WS=n(WS)}(n=>({...n,get:(e,t,r)=>y3(e,t)||n.get(e,t,r),has:(e,t)=>!!y3(e,t)||n.has(e,t)}));const v3="@firebase/installations",YS="0.6.4",I3=1e4,w3=`w:${YS}`,b3="FIS_v2",Tme="https://firebaseinstallations.googleapis.com/v1",Dme=36e5,Fo=new Is("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function E3(n){return n instanceof ci&&n.code.includes("request-failed")}function JS({projectId:n}){return`${Tme}/projects/${n}/installations`}function T3(n){return{token:n.token,requestStatus:2,expiresIn:xme(n.expiresIn),creationTime:Date.now()}}function XS(n,e){return ZS.apply(this,arguments)}function ZS(){return(ZS=v(function*(n,e){const r=(yield e.json()).error;return Fo.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function D3({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function eC(n){return tC.apply(this,arguments)}function tC(){return(tC=v(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function xme(n){return Number(n.replace("s","000"))}function nC(){return(nC=v(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=JS(n),i=D3(n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:b3,appId:n.appId,sdkVersion:w3})},u=yield eC(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||t,registrationStatus:2,refreshToken:c.refreshToken,authToken:T3(c.authToken)}}throw yield XS("Create Installation",u)})).apply(this,arguments)}function C3(n){return new Promise(e=>{setTimeout(e,n)})}const Ome=/^[cdef][\w-]{21}$/,rC="";function Pme(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function kme(n){return function Mme(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return Ome.test(t)?t:rC}catch{return rC}}function Td(n){return`${n.appName}!${n.appId}`}const Dd=new Map;function A3(n,e){const t=Td(n);x3(t,e),function Lme(n,e){const t=function R3(){return!Ju&&"BroadcastChannel"in self&&(Ju=new BroadcastChannel("[Firebase] FID Change"),Ju.onmessage=n=>{x3(n.data.key,n.data.fid)}),Ju}();t&&t.postMessage({key:n,fid:e}),function N3(){0===Dd.size&&Ju&&(Ju.close(),Ju=null)}()}(t,e)}function x3(n,e){const t=Dd.get(n);if(t)for(const r of t)r(e)}let Ju=null;const Bme="firebase-installations-database",Ume=1,Xu="firebase-installations-store";let iC=null;function sC(){return iC||(iC=function wme(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=Na(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Na(o.result),u.oldVersion,u.newVersion,Na(o.transaction))}),t&&o.addEventListener("blocked",()=>t()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(Bme,Ume,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Xu)}})),iC}function d0(n,e){return oC.apply(this,arguments)}function oC(){return(oC=v(function*(n,e){const t=Td(n),i=(yield sC()).transaction(Xu,"readwrite"),s=i.objectStore(Xu),o=yield s.get(t);return yield s.put(e,t),yield i.done,(!o||o.fid!==e.fid)&&A3(n,e.fid),e})).apply(this,arguments)}function aC(n){return uC.apply(this,arguments)}function uC(){return(uC=v(function*(n){const e=Td(n),r=(yield sC()).transaction(Xu,"readwrite");yield r.objectStore(Xu).delete(e),yield r.done})).apply(this,arguments)}function $p(n,e){return cC.apply(this,arguments)}function cC(){return(cC=v(function*(n,e){const t=Td(n),i=(yield sC()).transaction(Xu,"readwrite"),s=i.objectStore(Xu),o=yield s.get(t),a=e(o);return void 0===a?yield s.delete(t):yield s.put(a,t),yield i.done,a&&(!o||o.fid!==a.fid)&&A3(n,a.fid),a})).apply(this,arguments)}function lC(n){return dC.apply(this,arguments)}function dC(){return dC=v(function*(n){let e;const t=yield $p(n.appConfig,r=>{const i=function jme(n){return O3(n||{fid:Pme(),registrationStatus:0})}(r),s=function $me(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Fo.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function Gme(n,e){return hC.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Hme(n)}:{installationEntry:e}}(n,i);return e=s.registrationPromise,s.installationEntry});return t.fid===rC?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}}),dC.apply(this,arguments)}function hC(){return hC=v(function*(n,e){try{const t=yield function Nme(n,e){return nC.apply(this,arguments)}(n,e);return d0(n.appConfig,t)}catch(t){throw E3(t)&&409===t.customData.serverCode?yield aC(n.appConfig):yield d0(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}),hC.apply(this,arguments)}function Hme(n){return fC.apply(this,arguments)}function fC(){return(fC=v(function*(n){let e=yield M3(n.appConfig);for(;1===e.registrationStatus;)yield C3(100),e=yield M3(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield lC(n);return r||t}return e})).apply(this,arguments)}function M3(n){return $p(n,e=>{if(!e)throw Fo.create("installation-not-found");return O3(e)})}function O3(n){return function zme(n){return 1===n.registrationStatus&&n.registrationTime+I3<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function pC(){return(pC=v(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=function Wme(n,{fid:e}){return`${JS(n)}/${e}/authTokens:generate`}(n,t),i=function S3(n,{refreshToken:e}){const t=D3(n);return t.append("Authorization",function Rme(n){return`${b3} ${n}`}(e)),t}(n,t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:w3,appId:n.appId}})},u=yield eC(()=>fetch(r,a));if(u.ok)return T3(yield u.json());throw yield XS("Generate Auth Token",u)})).apply(this,arguments)}function gC(n){return mC.apply(this,arguments)}function mC(){return mC=v(function*(n,e=!1){let t;const r=yield $p(n.appConfig,s=>{if(!k3(s))throw Fo.create("not-registered");const o=s.authToken;if(!e&&function Yme(n){return 2===n.requestStatus&&!function Jme(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+Dme}(n)}(o))return s;if(1===o.requestStatus)return t=function Kme(n,e){return _C.apply(this,arguments)}(n,e),s;{if(!navigator.onLine)throw Fo.create("app-offline");const a=function Xme(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}(s);return t=function Qme(n,e){return yC.apply(this,arguments)}(n,a),a}});return t?yield t:r.authToken}),mC.apply(this,arguments)}function _C(){return(_C=v(function*(n,e){let t=yield P3(n.appConfig);for(;1===t.authToken.requestStatus;)yield C3(100),t=yield P3(n.appConfig);const r=t.authToken;return 0===r.requestStatus?gC(n,e):r})).apply(this,arguments)}function P3(n){return $p(n,e=>{if(!k3(e))throw Fo.create("not-registered");return function Zme(n){return 1===n.requestStatus&&n.requestTime+I3<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function yC(){return yC=v(function*(n,e){try{const t=yield function qme(n,e){return pC.apply(this,arguments)}(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield d0(n.appConfig,r),t}catch(t){if(!E3(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield d0(n.appConfig,r)}else yield aC(n.appConfig);throw t}}),yC.apply(this,arguments)}function k3(n){return void 0!==n&&2===n.registrationStatus}function vC(){return(vC=v(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield lC(e);return r?r.catch(console.error):gC(e).catch(console.error),t.fid})).apply(this,arguments)}function IC(){return IC=v(function*(n,e=!1){const t=n;return yield function n_e(n){return wC.apply(this,arguments)}(t),(yield gC(t,e)).token}),IC.apply(this,arguments)}function wC(){return(wC=v(function*(n){const{registrationPromise:e}=yield lC(n);e&&(yield e)})).apply(this,arguments)}function TC(n){return Fo.create("missing-app-config-values",{valueName:n})}const F3="installations",a_e=n=>{const e=n.getProvider("app").getImmediate(),t=function s_e(n){if(!n||!n.options)throw TC("App Configuration");if(!n.name)throw TC("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw TC(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:BS(e,"heartbeat"),_delete:()=>Promise.resolve()}},u_e=n=>{const t=BS(n.getProvider("app").getImmediate(),F3).getImmediate();return{getId:()=>function e_e(n){return vC.apply(this,arguments)}(t),getToken:i=>function t_e(n){return IC.apply(this,arguments)}(t,i)}};(function c_e(){xi(new wn(F3,a_e,"PUBLIC")),xi(new wn("installations-internal",u_e,"PRIVATE"))})(),li(v3,YS),li(v3,YS,"esm2017");const DC="@firebase/remote-config",di=new Is("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class I_e{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return v(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield t.client.fetch(e),o=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(t.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function w_e(n=navigator){return n.languages&&n.languages[0]||n.language}class b_e{constructor(e,t,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var t=this;return v(function*(){const[r,i]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:t.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:t.appId,language_code:w_e()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),d=new Promise((y,_)=>{e.signal.addEventListener(()=>{const w=new Error("The operation was aborted.");w.name="AbortError",_(w)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(y){let _="fetch-client-network";throw"AbortError"===y?.name&&(_="fetch-timeout"),di.create(_,{originalErrorMessage:y?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let g,m;if(200===h.status){let y;try{y=yield h.json()}catch(_){throw di.create("fetch-client-parse",{originalErrorMessage:_?.message})}g=y.entries,m=y.state}if("INSTANCE_STATE_UNSPECIFIED"===m?f=500:"NO_CHANGE"===m?f=304:("NO_TEMPLATE"===m||"EMPTY_CONFIG"===m)&&(g={}),304!==f&&200!==f)throw di.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:g}})()}}class D_e{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return v(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var i=this;return v(function*(){yield function E_e(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(di.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function T_e(n){if(!(n instanceof ci&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+DS(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class A_e{constructor(e,t,r,i,s){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function f0(n,e){const t=n.target.error||void 0;return di.create(e,{originalErrorMessage:t&&t?.message})}const Zu="app_namespace_store";class M_e{constructor(e,t,r,i=function N_e(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=r=>{e(f0(r,"storage-open"))},t.onsuccess=r=>{n(r.target.result)},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Zu,{keyPath:"compositeKey"})}}catch(t){e(di.create("storage-open",{originalErrorMessage:t?.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return v(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Zu],"readonly").objectStore(Zu),u=t.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{s(f0(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){s(di.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,t){var r=this;return v(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([Zu],"readwrite").objectStore(Zu),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:t});l.onerror=d=>{o(f0(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(di.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var t=this;return v(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Zu],"readwrite").objectStore(Zu),u=t.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{s(f0(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(di.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class O_e{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return v(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield t;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function k_e(){return RC.apply(this,arguments)}function RC(){return(RC=v(function*(){if(!Ca())return!1;try{return yield bd()}catch{return!1}})).apply(this,arguments)}!function P_e(){xi(new wn("remote-config",function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw di.create("registration-window");if(!Ca())throw di.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw di.create("registration-project-id");if(!o)throw di.create("registration-api-key");if(!a)throw di.create("registration-app-id");const u=new M_e(a,r.name,t=t||"firebase"),c=new O_e(u),l=new xa(DC);l.logLevel=Me.ERROR;const d=new b_e(i,"10.4.0",t,s,o,a),h=new D_e(d,u),f=new I_e(h,u,c,l),p=new A_e(r,f,c,u,l);return function __e(n){const e=Aa(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),li(DC,"0.4.4"),li(DC,"0.4.4","esm2017")}();const F_e=(n,e)=>e.some(t=>n instanceof t);let U3,j3;const $3=new WeakMap,NC=new WeakMap,G3=new WeakMap,MC=new WeakMap,OC=new WeakMap;let PC={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return NC.get(n);if("objectStoreNames"===e)return n.objectStoreNames||G3.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Vo(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function G_e(n){return"function"==typeof n?function $_e(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function L_e(){return j3||(j3=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(kC(this),e),Vo($3.get(this))}:function(...e){return Vo(n.apply(kC(this),e))}:function(e,...t){const r=n.call(kC(this),e,...t);return G3.set(r,e.sort?e.sort():[e]),Vo(r)}}(n):(n instanceof IDBTransaction&&function U_e(n){if(NC.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});NC.set(n,e)}(n),F_e(n,function V_e(){return U3||(U3=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,PC):n)}function Vo(n){if(n instanceof IDBRequest)return function B_e(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Vo(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&$3.set(t,n)}).catch(()=>{}),OC.set(e,n),e}(n);if(MC.has(n))return MC.get(n);const e=G_e(n);return e!==n&&(MC.set(n,e),OC.set(e,n)),e}const kC=n=>OC.get(n);function H3(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=Vo(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Vo(o.result),u.oldVersion,u.newVersion,Vo(o.transaction))}),t&&o.addEventListener("blocked",()=>t()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function FC(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",()=>e()),Vo(t).then(()=>{})}const H_e=["get","getKey","getAll","getAllKeys","count"],z_e=["put","add","delete","clear"],VC=new Map;function z3(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(VC.get(e))return VC.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=z_e.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!H_e.includes(t))return;const s=function(){var o=v(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[t](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return VC.set(e,s),s}!function j_e(n){PC=n(PC)}(n=>({...n,get:(e,t,r)=>z3(e,t)||n.get(e,t,r),has:(e,t)=>!!z3(e,t)||n.has(e,t)}));const q_e="/firebase-messaging-sw.js",W_e="/firebase-cloud-messaging-push-scope",q3="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",K_e="https://fcmregistrations.googleapis.com/v1",W3="google.c.a.c_id",Q_e="google.c.a.c_l",Y_e="google.c.a.ts";var p0=function(n){return n.PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",n}(p0||{});function Lo(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Z_e(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const LC="fcm_token_details_db",eye=5,K3="fcm_token_object_Store";function BC(){return BC=v(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(LC))return null;let e=null;return(yield H3(LC,eye,{upgrade:(r=v(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(K3))return;const c=a.objectStore(K3),l=yield c.index("fcmSenderId").get(n);if(yield c.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:Lo(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Lo(d.auth),p256dh:Lo(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Lo(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Lo(d.auth),p256dh:Lo(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Lo(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield FC(LC),yield FC("fcm_vapid_details_db"),yield FC("undefined"),function nye(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),BC.apply(this,arguments)}const rye="firebase-messaging-database",iye=1,ec="firebase-messaging-store";let UC=null;function jC(){return UC||(UC=H3(rye,iye,{upgrade:(n,e)=>{0===e&&n.createObjectStore(ec)}})),UC}function Q3(n){return $C.apply(this,arguments)}function $C(){return $C=v(function*(n){const e=qC(n),r=yield(yield jC()).transaction(ec).objectStore(ec).get(e);if(r)return r;{const i=yield function tye(n){return BC.apply(this,arguments)}(n.appConfig.senderId);if(i)return yield GC(n,i),i}}),$C.apply(this,arguments)}function GC(n,e){return HC.apply(this,arguments)}function HC(){return(HC=v(function*(n,e){const t=qC(n),i=(yield jC()).transaction(ec,"readwrite");return yield i.objectStore(ec).put(e,t),yield i.done,e})).apply(this,arguments)}function zC(){return(zC=v(function*(n){const e=qC(n),r=(yield jC()).transaction(ec,"readwrite");yield r.objectStore(ec).delete(e),yield r.done})).apply(this,arguments)}function qC({appConfig:n}){return n.appId}const ur=new Is("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function aye(n,e){return WC.apply(this,arguments)}function WC(){return(WC=v(function*(n,e){const t=yield JC(n),r=J3(e),i={method:"POST",headers:t,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(YC(n.appConfig),i)).json()}catch(o){throw ur.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw ur.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw ur.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function KC(){return(KC=v(function*(n,e){const t=yield JC(n),r=J3(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${YC(n.appConfig)}/${e.token}`,i)).json()}catch(o){throw ur.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw ur.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw ur.create("token-update-no-token");return s.token})).apply(this,arguments)}function Y3(n,e){return QC.apply(this,arguments)}function QC(){return(QC=v(function*(n,e){const r={method:"DELETE",headers:yield JC(n)};try{const s=yield(yield fetch(`${YC(n.appConfig)}/${e}`,r)).json();if(s.error)throw ur.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw ur.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function YC({projectId:n}){return`${K_e}/projects/${n}/registrations`}function JC(n){return XC.apply(this,arguments)}function XC(){return(XC=v(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function J3({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==q3&&(i.web.applicationPubKey=r),i}const cye=6048e5;function ZC(){return ZC=v(function*(n){const e=yield function hye(n,e){return rA.apply(this,arguments)}(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:Lo(e.getKey("auth")),p256dh:Lo(e.getKey("p256dh"))},r=yield Q3(n.firebaseDependencies);if(r){if(function fye(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}(r.subscriptionOptions,t))return Date.now()>=r.createTime+cye?function dye(n,e){return tA.apply(this,arguments)}(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield Y3(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return Z3(n.firebaseDependencies,t)}return Z3(n.firebaseDependencies,t)}),ZC.apply(this,arguments)}function eA(){return eA=v(function*(n){const e=yield Q3(n.firebaseDependencies);e&&(yield Y3(n.firebaseDependencies,e.token),yield function sye(n){return zC.apply(this,arguments)}(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()}),eA.apply(this,arguments)}function tA(){return tA=v(function*(n,e){try{const t=yield function uye(n,e){return KC.apply(this,arguments)}(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield GC(n.firebaseDependencies,r),t}catch(t){throw yield function X3(n){return eA.apply(this,arguments)}(n),t}}),tA.apply(this,arguments)}function Z3(n,e){return nA.apply(this,arguments)}function nA(){return(nA=v(function*(n,e){const r={token:yield aye(n,e),createTime:Date.now(),subscriptionOptions:e};return yield GC(n,r),r.token})).apply(this,arguments)}function rA(){return(rA=v(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Z_e(e)})})).apply(this,arguments)}function ez(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function pye(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i);const s=e.notification.icon;s&&(n.notification.icon=s)}(e,n),function gye(n,e){e.data&&(n.data=e.data)}(e,n),function mye(n,e){var t,r,i,s,o;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(n.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(n.fcmOptions.analyticsLabel=u)}(e,n),e}function tz(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function iA(n){return ur.create("missing-app-config-values",{valueName:n})}tz("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),tz("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class vye{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function yye(n){if(!n||!n.options)throw iA("App Configuration Object");if(!n.name)throw iA("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw iA(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function sA(){return(sA=v(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(q_e,{scope:W_e}),n.swRegistration.update().catch(()=>{})}catch(e){throw ur.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function oA(){return(oA=v(function*(n,e){if(!e&&!n.swRegistration&&(yield function nz(n){return sA.apply(this,arguments)}(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw ur.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function aA(){return(aA=v(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=q3)})).apply(this,arguments)}function uA(){return uA=v(function*(n,e){if(!navigator)throw ur.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ur.create("permission-blocked");return yield function wye(n,e){return aA.apply(this,arguments)}(n,e?.vapidKey),yield function Iye(n,e){return oA.apply(this,arguments)}(n,e?.serviceWorkerRegistration),function lye(n){return ZC.apply(this,arguments)}(n)}),uA.apply(this,arguments)}function cA(){return(cA=v(function*(n,e,t){const r=function Eye(n){switch(n){case p0.NOTIFICATION_CLICKED:return"notification_open";case p0.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[W3],message_name:t[Q_e],message_time:t[Y_e],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function lA(){return lA=v(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===p0.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(ez(t)):n.onMessageHandler.next(ez(t)));const r=t.data;(function _ye(n){return"object"==typeof n&&!!n&&W3 in n})(r)&&"1"===r["google.c.a.e"]&&(yield function bye(n,e,t){return cA.apply(this,arguments)}(n,t.messageType,r))}),lA.apply(this,arguments)}const iz="@firebase/messaging",Dye=n=>{const e=new vye(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function Tye(n,e){return lA.apply(this,arguments)}(e,t)),e},Sye=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function rz(n,e){return uA.apply(this,arguments)}(e,r)}};function oz(){return dA.apply(this,arguments)}function dA(){return(dA=v(function*(){try{yield bd()}catch{return!1}return typeof window<"u"&&Ca()&&wS()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Cye(){xi(new wn("messaging",Dye,"PUBLIC")),xi(new wn("messaging-internal",Sye,"PRIVATE")),li(iz,"0.12.4"),li(iz,"0.12.4","esm2017")}();const g0="analytics",Rye="firebase_id",Nye="origin",Mye=6e4,Oye="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",pA="https://www.googletagmanager.com/gtag/js",$n=new xa("@firebase/analytics"),zr=new Is("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function kye(n){if(!n.startsWith(pA)){const e=zr.create("invalid-gtag-resource",{gtagURL:n});return $n.warn(e.message),""}return n}function az(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function gA(){return(gA=v(function*(n,e,t,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield az(t)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){$n.error(a)}n("config",i,s)})).apply(this,arguments)}function mA(){return(mA=v(function*(n,e,t,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield az(t);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),n("event",r,i||{})}catch(s){$n.error(s)}})).apply(this,arguments)}const Hye=30,uz=new class qye{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Wye(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function _A(){return(_A=v(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:Wye(r)},s=Oye.replace("{app-id}",t),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw zr.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function yA(){return(yA=v(function*(n,e=uz,t){const{appId:r,apiKey:i,measurementId:s}=n.options;if(!r)throw zr.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw zr.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Xye;return setTimeout(v(function*(){a.abort()}),void 0!==t?t:Mye),cz({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function cz(n,e,t){return vA.apply(this,arguments)}function vA(){return vA=v(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=uz){var s;const{appId:o,measurementId:a}=n;try{yield function Yye(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(zr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(u){if(a)return $n.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw u}try{const u=yield function Kye(n){return _A.apply(this,arguments)}(n);return i.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!function Jye(n){if(!(n instanceof ci&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c)){if(i.deleteThrottleMetadata(o),a)return $n.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw u}const l=503===Number(null===(s=c?.customData)||void 0===s?void 0:s.httpStatus)?DS(t,i.intervalMillis,Hye):DS(t,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:t+1};return i.setThrottleMetadata(o,d),$n.debug(`Calling attemptFetch again in ${l} millis`),cz(n,d,r,i)}}),vA.apply(this,arguments)}class Xye{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let IA,CA;function wA(){return(wA=v(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const s=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function AA(){return(AA=v(function*(){if(!Ca())return $n.warn(zr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield bd()}catch(n){return $n.warn(zr.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0})).apply(this,arguments)}function xA(){return xA=v(function*(n,e,t,r,i,s,o){var a;const u=function Qye(n){return yA.apply(this,arguments)}(n);u.then(f=>{t[f.measurementId]=f.appId,n.options.measurementId&&f.measurementId!==n.options.measurementId&&$n.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>$n.error(f)),e.push(u);const c=function sve(){return AA.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);(function Gye(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(pA)&&t.src.includes(n))return t;return null})(s)||function Vye(n,e){const t=function Fye(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}("firebase-js-sdk-policy",{createScriptURL:kye}),r=document.createElement("script"),i=`${pA}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,l.measurementId),CA&&(i("consent","default",CA),function lz(n){CA=n}(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h[Nye]="firebase",h.update=!0,null!=d&&(h[Rye]=d),i("config",l.measurementId,h),IA&&(i("set",IA),function dz(n){IA=n}(void 0)),l.measurementId}),xA.apply(this,arguments)}class ave{constructor(e){this.app=e}_delete(){return delete qs[this.app.options.appId],Promise.resolve()}}let qs={},hz=[];const fz={};let gz,Ws,m0="dataLayer",RA=!1;function cve(n,e,t){!function uve(){const n=[];if(IS()&&n.push("This is a browser extension environment."),wS()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=zr.create("invalid-analytics-context",{errorInfo:e});$n.warn(t.message)}}();const r=n.options.appId;if(!r)throw zr.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw zr.create("no-api-key");$n.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=qs[r])throw zr.create("already-exists",{id:r});if(!RA){!function Lye(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(m0);const{wrappedGtag:s,gtagCore:o}=function $ye(n,e,t,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function jye(n,e,t,r){function s(){return s=v(function*(o,...a){try{if("event"===o){const[u,c]=a;yield function Uye(n,e,t,r,i){return mA.apply(this,arguments)}(n,e,t,u,c)}else if("config"===o){const[u,c]=a;yield function Bye(n,e,t,r,i,s){return gA.apply(this,arguments)}(n,e,t,r,u,c)}else if("consent"===o){const[u]=a;n("consent","update",u)}else if("get"===o){const[u,c,l]=a;n("get",u,c,l)}else if("set"===o){const[u]=a;n("set",u)}else n(o,...a)}catch(u){$n.error(u)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,n,e,t),{gtagCore:s,wrappedGtag:window[i]}}(qs,hz,fz,m0,"gtag");Ws=s,gz=o,RA=!0}return qs[r]=function ove(n,e,t,r,i,s,o){return xA.apply(this,arguments)}(n,hz,fz,e,gz,m0,t),new ave(n)}function dve(){return NA.apply(this,arguments)}function NA(){return(NA=v(function*(){if(IS()||!wS()||!Ca())return!1;try{return yield bd()}catch{return!1}})).apply(this,arguments)}const mz="@firebase/analytics";!function fve(){xi(new wn(g0,(e,{options:t})=>cve(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),xi(new wn("analytics-internal",function n(e){try{const t=e.getProvider(g0).getImmediate();return{logEvent:(r,i,s)=>function hve(n,e,t,r){n=Aa(n),function Zye(n,e,t,r,i){return wA.apply(this,arguments)}(Ws,qs[n.app.options.appId],e,t,r).catch(i=>$n.error(i))}(t,r,i,s)}}catch(t){throw zr.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),li(mz,"0.10.0"),li(mz,"0.10.0","esm2017")}();class pve extends rn{constructor(e,t){super()}schedule(e,t=0){return this}}const _0={setInterval(n,e,...t){const{delegate:r}=_0;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=_0;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class yz extends pve{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return _0.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&_0.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,ca(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const vz={now:()=>(vz.delegate||Date).now(),delegate:void 0};class Gp{constructor(e,t=Gp.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}Gp.now=vz.now;class Iz extends Gp{constructor(e,t=Gp.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const _ve=new class mve extends Iz{}(class gve extends yz{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),OA=new Iz(yz),yve=OA;function On(n,e,t){const r=Ne(n)||e||t?{next:n,error:e,complete:t}:n;return r?jt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(wt(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):ss}const PA=new Zl("7.6.1"),kA="__angularfire_symbol__analyticsIsSupportedValue",FA="__angularfire_symbol__analyticsIsSupported",VA="__angularfire_symbol__remoteConfigIsSupportedValue",LA="__angularfire_symbol__remoteConfigIsSupported",BA="__angularfire_symbol__messagingIsSupportedValue",UA="__angularfire_symbol__messagingIsSupported";globalThis[FA]||(globalThis[FA]=dve().then(n=>globalThis[kA]=n).catch(()=>globalThis[kA]=!1)),globalThis[UA]||(globalThis[UA]=oz().then(n=>globalThis[BA]=n).catch(()=>globalThis[BA]=!1)),globalThis[LA]||(globalThis[LA]=k_e().then(n=>globalThis[VA]=n).catch(()=>globalThis[VA]=!1));const GA=(n,e)=>{const t=e?[e]:t3(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function Sd(){}class wz{constructor(e,t=_ve){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},t,r)}}class vve{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Sd,{},Sd,Sd)),t.pipe(On({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let bz=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new wz(Zone.current)),this.insideAngular=t.run(()=>new wz(Zone.current,OA)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(Y(Oe))},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function tc(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function nc(n){return tc().ngZone.run(()=>n())}function wve(n){return tc(),function bve(n){return function(t){return(t=t.lift(new vve(n.ngZone))).pipe(py(n.outsideAngular),fy(n.insideAngular))}}(tc())(n)}const Eve=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),nc(()=>n.apply(void 0,r))},y0=(n,e)=>function(){let t;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(t||(t=nc(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Sd,{},Sd,Sd)))),r[s]=Eve(r[s],t));const i=function Ive(n){return tc().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,r));if(!e){if(i instanceof Ye){const s=tc();return i.pipe(py(s.outsideAngular),fy(s.insideAngular))}return nc(()=>i)}return i instanceof Ye?i.pipe(wve):i instanceof Promise?nc(()=>new Promise((s,o)=>i.then(a=>nc(()=>s(a)),a=>nc(()=>o(a))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:nc(()=>i)};class Cd{constructor(e){return e}}class Ez{constructor(){return t3()}}const HA=new re("angularfire2._apps"),Dve={provide:Cd,useFactory:function Tve(n){return n&&1===n.length?n[0]:new Cd(e3())},deps:[[new ii,HA]]},Sve={provide:Ez,deps:[[new ii,HA]]};function Cve(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Cd(r)}}let Ave=(()=>{class n{constructor(t){Zi("angularfire",PA.full,"core"),Zi("angularfire",PA.full,"app"),Zi("angular",LU.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(Y(Ia))},n.\u0275mod=Xe({type:n}),n.\u0275inj=Ke({providers:[Dve,Sve]}),n})();function xve(n,...e){return{ngModule:Ave,providers:[{provide:HA,useFactory:Cve(n),multi:!0,deps:[Oe,Rn,bz,...e]}]}}const Rve=y0(Z4,!0);const Nve=function Tz(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Dz=new Is("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),v0=new xa("@firebase/auth");function I0(n,...e){v0.logLevel<=Me.ERROR&&v0.error(`Auth (${u0}): ${n}`,...e)}function hi(n,...e){throw zA(n,...e)}function Ks(n,...e){return zA(n,...e)}function zA(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Dz.create(n,...e)}function U(n,e,...t){if(!n)throw zA(e,...t)}function Qs(n){const e="INTERNAL ASSERTION FAILED: "+n;throw I0(e),new Error(e)}function Ma(n,e){n||Qs(e)}function Cz(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class zp{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ma(t>e,"Short delay should be less than long delay!"),this.isMobile=function ape(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ai())}()||function cpe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function Ove(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function qA(){return"http:"===Cz()||"https:"===Cz()}()||IS()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class Az{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Qs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Qs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Qs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const kve={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Fve=new zp(3e4,6e4);function Yt(n,e,t,r){return KA.apply(this,arguments)}function KA(){return(KA=v(function*(n,e,t,r,i={}){return xz(n,i,v(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=G4(Object.assign({key:n.config.apiKey},o)).slice(1),u=yield n._getAdditionalHeaders();return u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode),Az.fetch()(Rz(n,n.config.apiHost,t,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function xz(n,e,t){return QA.apply(this,arguments)}function QA(){return(QA=v(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},kve),e);try{const i=new Vve(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw qp(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw qp(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw qp(n,"email-already-in-use",o);if("USER_DISABLED"===u)throw qp(n,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw function Sz(n,e,t){const r=Object.assign(Object.assign({},Nve()),{[e]:t});return new Is("auth","Firebase",r).create(e,{appName:n.name})}(n,l,c);hi(n,l)}}catch(i){if(i instanceof ci)throw i;hi(n,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function Rz(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?function WA(n,e){Ma(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}(n.config,i):`${n.config.apiScheme}://${i}`}class Vve{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ks(this.auth,"network-request-failed")),Fve.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function qp(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Ks(n,e,r);return i.customData._tokenResponse=t,i}function JA(){return(JA=v(function*(n,e){return Yt(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function ZA(){return(ZA=v(function*(n,e){return Yt(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Wp(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function ex(){return(ex=v(function*(n,e=!1){const t=Aa(n),r=yield t.getIdToken(e),i=w0(r);U(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Wp(tx(i.auth_time)),issuedAtTime:Wp(tx(i.iat)),expirationTime:Wp(tx(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function tx(n){return 1e3*Number(n)}function w0(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return I0("JWT malformed, contained fewer than 3 sections"),null;try{const i=t0(t);return i?JSON.parse(i):(I0("Failed to decode base64 JWT payload"),null)}catch(i){return I0("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Uo(n,e){return nx.apply(this,arguments)}function nx(){return(nx=v(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof ci&&function Gve({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}class Hve{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(v(function*(){yield t.iteration()}),r)}iteration(){var e=this;return v(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class Nz{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wp(this.lastLoginAt),this.creationTime=Wp(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Kp(n){return rx.apply(this,arguments)}function rx(){return rx=v(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield Uo(n,function Uve(n,e){return ZA.apply(this,arguments)}(t,{idToken:r}));U(i?.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function Wve(n){return n.map(e=>{var{providerId:t}=e,r=ly(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function qve(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(n.providerData,o),l=!!n.isAnonymous&&!(n.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Nz(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(n,d)}),rx.apply(this,arguments)}function ix(){return(ix=v(function*(n){const e=Aa(n);yield Kp(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function sx(){return(sx=v(function*(n,e){const t=yield xz(n,{},v(function*(){const r=G4({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=Rz(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Az.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class Qp{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){U(e.idToken,"internal-error"),U(typeof e.idToken<"u","internal-error"),U(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function $ve(n){const e=w0(n);return U(e,"internal-error"),U(typeof e.exp<"u","internal-error"),U(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return v(function*(){return U(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return v(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function Kve(n,e){return sx.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new Qp;return r&&(U("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(U("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(U("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qp,this.toJSON())}_performRefresh(){return Qs("not implemented")}}function Oa(n,e){U("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class rc{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=ly(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Hve(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Nz(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return v(function*(){const r=yield Uo(t,t.stsTokenManager.getToken(t.auth,e));return U(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function jve(n){return ex.apply(this,arguments)}(this,e)}reload(){return function zve(n){return ix.apply(this,arguments)}(this)}_assign(e){this!==e&&(U(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new rc(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){U(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return v(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield Kp(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return v(function*(){const t=yield e.getIdToken();return yield Uo(e,function Lve(n,e){return JA.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,u,c,l;const d=null!==(r=t.displayName)&&void 0!==r?r:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,f=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,g=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(u=t._redirectEventId)&&void 0!==u?u:void 0,y=null!==(c=t.createdAt)&&void 0!==c?c:void 0,_=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:w,emailVerified:S,isAnonymous:R,providerData:M,stsTokenManager:J}=t;U(w&&J,e,"internal-error");const fe=Qp.fromJSON(this.name,J);U("string"==typeof w,e,"internal-error"),Oa(d,e.name),Oa(h,e.name),U("boolean"==typeof S,e,"internal-error"),U("boolean"==typeof R,e,"internal-error"),Oa(f,e.name),Oa(p,e.name),Oa(g,e.name),Oa(m,e.name),Oa(y,e.name),Oa(_,e.name);const nt=new rc({uid:w,auth:e,email:h,emailVerified:S,displayName:d,isAnonymous:R,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:fe,createdAt:y,lastLoginAt:_});return M&&Array.isArray(M)&&(nt.providerData=M.map(Rt=>Object.assign({},Rt))),m&&(nt._redirectEventId=m),nt}static _fromIdTokenResponse(e,t,r=!1){return v(function*(){const i=new Qp;i.updateFromServerResponse(t);const s=new rc({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Kp(s),s})()}}const Mz=new Map;function jo(n){Ma(n instanceof Function,"Expected a class definition");let e=Mz.get(n);return e?(Ma(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Mz.set(n,e),e)}const Oz=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(function*(){return!0})()}_set(t,r){var i=this;return v(function*(){i.storage[t]=r})()}_get(t){var r=this;return v(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return v(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function b0(n,e,t){return`firebase:${n}:${e}:${t}`}class xd{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=b0(this.userKey,i.apiKey,s),this.fullPersistenceKey=b0("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return v(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?rc._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return v(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return v(function*(){if(!t.length)return new xd(jo(Oz),e,r);const i=(yield Promise.all(t.map(function(){var c=v(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||jo(Oz);const o=b0(r,e.config.apiKey,e.name);let a=null;for(const c of t)try{const l=yield c._get(o);if(l){const d=rc._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var c=v(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return c.apply(this,arguments)}}())),new xd(s,e,r)):new xd(s,e,r)})()}}function Pz(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function Vz(n=Ai()){return/iemobile/i.test(n)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function kz(n=Ai()){return/firefox\//i.test(n)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function Bz(n=Ai()){return/blackberry/i.test(n)}(e))return"Blackberry";if(function Uz(n=Ai()){return/webos/i.test(n)}(e))return"Webos";if(function ox(n=Ai()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function Fz(n=Ai()){return/crios\//i.test(n)}(e))&&!e.includes("edge/"))return"Chrome";if(function Lz(n=Ai()){return/android/i.test(n)}(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function jz(n,e=[]){let t;switch(n){case"Browser":t=Pz(Ai());break;case"Worker":t=`${Pz(Ai())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${u0}/${r}`}function $z(n,e){return ux.apply(this,arguments)}function ux(){return(ux=v(function*(n,e){return Yt(n,"GET","/v2/recaptchaConfig",function zt(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}(n,e))})).apply(this,arguments)}function Hz(n){return void 0!==n&&void 0!==n.enterprise}class zz{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(t=>"EMAIL_PASSWORD_PROVIDER"===t.provider&&"OFF"!==t.enforcementState)}}class Wz{constructor(e){this.type="recaptcha-enterprise",this.auth=Gn(e)}verify(e="verify",t=!1){var r=this;return v(function*(){function s(){return s=v(function*(a){if(!t){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var u=v(function*(c,l){$z(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new zz(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,c(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(c,l){return u.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,u,c){const l=window.grecaptcha;Hz(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{u(d)}).catch(()=>{u("NO_RECAPTCHA")})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(c=>{if(!t&&Hz(window.grecaptcha))o(c,a,u);else{if(typeof window>"u")return void u(new Error("RecaptchaVerifier is only supported in browser"));(function cx(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=Ks("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",function Xve(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})})("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{o(c,a,u)}).catch(l=>{u(l)})}}).catch(c=>{u(c)})})})()}}class n0e{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return v(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class r0e{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Kz(this),this.idTokenSubscription=new Kz(this),this.beforeStateQueue=new n0e(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Dz,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=jo(t)),this._initializationPromise=this.queue(v(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield xd.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return v(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return v(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,c=yield t.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(s=c.user,o=!0)}if(!s)return t.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield t.beforeStateQueue.runMiddleware(s)}catch(a){s=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return s?t.reloadAndSetCurrentUserOrClear(s):t.directlySetCurrentUser(null)}return U(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===s._redirectEventId?t.directlySetCurrentUser(s):t.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var t=this;return v(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return v(function*(){try{yield Kp(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Pve(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return v(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return v(function*(){const r=e?Aa(e):null;return r&&U(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return v(function*(){if(!r._deleted)return e&&U(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(v(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return v(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(v(function*(){yield t.assertedPersistence.setPersistence(jo(e))}))}initializeRecaptchaConfig(){var e=this;return v(function*(){const t=yield $z(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new zz(t);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new Wz(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Is("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return v(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return v(function*(){if(!t.redirectPersistenceManager){const r=e&&jo(e)||t._popupRedirectResolver;U(r,t,"argument-error"),t.redirectPersistenceManager=yield xd.create(t,[jo(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return v(function*(){var r,i;return t._isInitialized&&(yield t.queue(v(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return v(function*(){if(e===t.currentUser)return t.queue(v(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return U(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof t?e.addObserver(t,r,i):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return v(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return U(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=jz(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return v(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return v(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return r?.error&&function Mve(n,...e){v0.logLevel<=Me.WARN&&v0.warn(`Auth (${u0}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function Gn(n){return Aa(n)}class Kz{constructor(e){this.auth=e,this.observer=null,this.addObserver=function fpe(n,e){const t=new ppe(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return U(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function qz(n){return`__${n}${Math.floor(1e6*Math.random())}`})("rcb"),new zp(3e4,6e4),new zp(2e3,1e4),new zp(3e4,6e4),new zp(5e3,15e3),encodeURIComponent("fac");var E5="@firebase/auth";class QIe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return v(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){U(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}n0(),function JIe(n){Ed(new wn("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;U(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jz(n)},c=new r0e(r,i,s,u);return function s0e(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(jo);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ed(new wn("auth-internal",e=>{const t=Gn(e.getProvider("auth").getImmediate());return new QIe(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zi(E5,"0.23.2",function YIe(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),Zi(E5,"0.23.2","esm2017")}("Browser");class C5{constructor(){return GA("auth")}}const JR=new Map,A5={activated:!1,tokenObservers:[]},iwe={initialized:!1,enabled:!1};function Jt(n){return JR.get(n)||Object.assign({},A5)}function k0(){return iwe}const XR="https://content-firebaseappcheck.googleapis.com/v1",uwe="exchangeDebugToken",x5={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class lwe{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return v(function*(){t.stop();try{t.pending=new r0,yield function dwe(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new r0,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const cr=new Is("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function ZR(n){if(!Jt(n).activated)throw cr.create("use-before-activation",{appName:n.name})}function L0(n,e){return tN.apply(this,arguments)}function tN(){return tN=v(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(n,s)}catch(d){throw cr.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw cr.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw cr.create("fetch-parse-error",{originalErrorMessage:d?.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw cr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+c,issuedAtTimeMillis:l}}),tN.apply(this,arguments)}function R5(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${XR}/projects/${t}/apps/${r}:${uwe}?key=${i}`,body:{debug_token:e}}}const gwe="firebase-app-check-database",mwe=1,eg="firebase-app-check-store";let B0=null;function nN(){return nN=v(function*(n,e){const r=(yield function M5(){return B0||(B0=new Promise((n,e)=>{try{const t=indexedDB.open(gwe,mwe);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(cr.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(eg,{keyPath:"compositeKey"})}}catch(t){e(cr.create("storage-open",{originalErrorMessage:t?.message}))}}),B0)}()).transaction(eg,"readwrite"),s=r.objectStore(eg).put({compositeKey:n,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(cr.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})}),nN.apply(this,arguments)}const tg=new xa("@firebase/app-check");function sN(n,e){return Ca()?function ywe(n,e){return function O5(n,e){return nN.apply(this,arguments)}(function k5(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{tg.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function aN(){return k0().enabled}function uN(){return cN.apply(this,arguments)}function cN(){return cN=v(function*(){const n=k0();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),cN.apply(this,arguments)}const Twe={error:"UNKNOWN_ERROR"};function Dwe(n){return vS.encodeString(JSON.stringify(n),!1)}function U0(n){return lN.apply(this,arguments)}function lN(){return lN=v(function*(n,e=!1){const t=n.app;ZR(t);const r=Jt(t);let s,i=r.token;if(i&&!Nd(i)&&(r.token=void 0,i=void 0),!i){const u=yield r.cachedTokenPromise;u&&(Nd(u)?i=u:yield sN(t,void 0))}if(!e&&i&&Nd(i))return{token:i.token};let a,o=!1;if(aN()){r.exchangeTokenPromise||(r.exchangeTokenPromise=L0(R5(t,yield uN()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=yield r.exchangeTokenPromise;return yield sN(t,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield Jt(t).exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?tg.warn(u.message):tg.error(u),s=u}return i?s?a=Nd(i)?{token:i.token,internalError:s}:B5(s):(a={token:i.token},r.token=i,yield sN(t,i)):a=B5(s),o&&function L5(n,e){const t=Jt(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,a),a}),lN.apply(this,arguments)}function dN(){return dN=v(function*(n){const e=n.app;ZR(e);const{provider:t}=Jt(e);if(aN()){const r=yield uN(),{token:i}=yield L0(R5(e,r),n.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield t.getToken();return{token:r}}}),dN.apply(this,arguments)}function fN(n,e){const t=Jt(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function V5(n){const{app:e}=n,t=Jt(e);let r=t.tokenRefresher;r||(r=function Swe(n){const{app:e}=n;return new lwe(v(function*(){let r;if(r=Jt(e).token?yield U0(n,!0):yield U0(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Jt(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},x5.RETRIAL_MIN_WAIT,x5.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Nd(n){return n.expireTimeMillis-Date.now()>0}function B5(n){return{token:Dwe(Twe),error:n}}class Cwe{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Jt(this.app);for(const t of e)fN(this.app,t.next);return Promise.resolve()}}const W5="app-check-internal";!function jwe(){xi(new wn("app-check",n=>function Awe(n,e){return new Cwe(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(W5).initialize()})),xi(new wn(W5,n=>function xwe(n){return{getToken:e=>U0(n,e),getLimitedUseToken:()=>function F5(n){return dN.apply(this,arguments)}(n),addTokenListener:e=>function hN(n,e,t,r){const{app:i}=n,s=Jt(i);if(s.tokenObservers=[...s.tokenObservers,{next:t,error:r,type:e}],s.token&&Nd(s.token)){const a=s.token;Promise.resolve().then(()=>{t({token:a.token}),V5(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>V5(n))}(n,"INTERNAL",e),removeTokenListener:e=>fN(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),li("@firebase/app-check","0.8.0")}();class Q5{constructor(){return GA("app-check")}}typeof window<"u"&&window;var W,qwe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ws={},yN=yN||{},Ee=qwe||self;function $0(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function ng(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var vN="closure_uid_"+(1e9*Math.random()>>>0),Kwe=0;function Qwe(n,e,t){return n.call.apply(n.bind,arguments)}function Ywe(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Cr(n,e,t){return(Cr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Qwe:Ywe).apply(null,arguments)}function G0(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Hn(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function ka(){this.s=this.s,this.o=this.o}ka.prototype.s=!1,ka.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Wwe(n){Object.prototype.hasOwnProperty.call(n,vN)&&n[vN]||(n[vN]=++Kwe)}(this)},ka.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Y5=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function IN(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function J5(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if($0(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let o=0;o<s;o++)n[i+o]=r[o]}else n.push(r)}}function Ar(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Ar.prototype.h=function(){this.defaultPrevented=!0};var Xwe=function(){if(!Ee.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ee.addEventListener("test",()=>{},e),Ee.removeEventListener("test",()=>{},e)}catch{}return n}();function rg(n){return/^[\s\xa0]*$/.test(n)}function H0(){var n=Ee.navigator;return n&&(n=n.userAgent)?n:""}function Ys(n){return-1!=H0().indexOf(n)}function wN(n){return wN[" "](n),n}wN[" "]=function(){};var EN,ebe=Ys("Opera"),Md=Ys("Trident")||Ys("MSIE"),X5=Ys("Edge"),bN=X5||Md,Z5=Ys("Gecko")&&!(-1!=H0().toLowerCase().indexOf("webkit")&&!Ys("Edge"))&&!(Ys("Trident")||Ys("MSIE"))&&!Ys("Edge"),tbe=-1!=H0().toLowerCase().indexOf("webkit")&&!Ys("Edge");function e9(){var n=Ee.document;return n?n.documentMode:void 0}e:{var TN="",DN=function(){var n=H0();return Z5?/rv:([^\);]+)(\)|;)/.exec(n):X5?/Edge\/([\d\.]+)/.exec(n):Md?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):tbe?/WebKit\/(\S+)/.exec(n):ebe?/(?:Version)[ \/]?(\S+)/.exec(n):void 0}();if(DN&&(TN=DN?DN[1]:""),Md){var SN=e9();if(null!=SN&&SN>parseFloat(TN)){EN=String(SN);break e}}EN=TN}var nbe=Ee.document&&Md&&(e9()||parseInt(EN,10))||void 0;function ig(n,e){if(Ar.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Z5){e:{try{wN(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:rbe[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&ig.$.h.call(this)}}Hn(ig,Ar);var rbe={2:"touch",3:"pen",4:"mouse"};ig.prototype.h=function(){ig.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var sg="closure_listenable_"+(1e6*Math.random()|0),ibe=0;function sbe(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++ibe,this.fa=this.ia=!1}function z0(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function AN(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function n9(n){const e={};for(const t in n)e[t]=n[t];return e}const r9="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function i9(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<r9.length;s++)t=r9[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function q0(n){this.src=n,this.g={},this.h=0}function xN(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=Y5(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(z0(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function RN(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==r)return i}return-1}q0.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=RN(n,e,r,i);return-1<o?(e=n[o],t||(e.ia=!1)):((e=new sbe(e,this.src,s,!!r,i)).ia=t,n.push(e)),e};var NN="closure_lm_"+(1e6*Math.random()|0),MN={};function s9(n,e,t,r,i){if(r&&r.once)return a9(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)s9(n,e[s],t,r,i);return null}return t=FN(t),n&&n[sg]?n.O(e,t,ng(r)?!!r.capture:!!r,i):o9(n,e,t,!1,r,i)}function o9(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=ng(i)?!!i.capture:!!i,a=PN(n);if(a||(n[NN]=a=new q0(n)),(t=a.add(e,t,r,o,s)).proxy)return t;if(r=function abe(){const e=ube;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Xwe||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(c9(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function a9(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)a9(n,e[s],t,r,i);return null}return t=FN(t),n&&n[sg]?n.P(e,t,ng(r)?!!r.capture:!!r,i):o9(n,e,t,!0,r,i)}function u9(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)u9(n,e[s],t,r,i);else r=ng(r)?!!r.capture:!!r,t=FN(t),n&&n[sg]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=RN(s=n.g[e],t,r,i))&&(z0(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=PN(n))&&(e=n.g[e.toString()],n=-1,e&&(n=RN(e,t,r,i)),(t=-1<n?e[n]:null)&&ON(t))}function ON(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[sg])xN(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(c9(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=PN(e))?(xN(t,n),0==t.h&&(t.src=null,e[NN]=null)):z0(n)}}}function c9(n){return n in MN?MN[n]:MN[n]="on"+n}function ube(n,e){if(n.fa)n=!0;else{e=new ig(e,this);var t=n.listener,r=n.la||n.src;n.ia&&ON(n),n=t.call(r,e)}return n}function PN(n){return(n=n[NN])instanceof q0?n:null}var kN="__closure_events_fn_"+(1e9*Math.random()>>>0);function FN(n){return"function"==typeof n?n:(n[kN]||(n[kN]=function(e){return n.handleEvent(e)}),n[kN])}function zn(){ka.call(this),this.i=new q0(this),this.S=this,this.J=null}function lr(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Ar(e,n);else if(e instanceof Ar)e.target=e.target||n;else{var i=e;i9(e=new Ar(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=W0(o,r,!0,e)&&i}if(i=W0(o=e.g=n,r,!0,e)&&i,i=W0(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=W0(o=e.g=t[s],r,!1,e)&&i}function W0(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==t){var a=o.listener,u=o.la||o.src;o.ia&&xN(n.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Hn(zn,ka),zn.prototype[sg]=!0,zn.prototype.removeEventListener=function(n,e,t,r){u9(this,n,e,t,r)},zn.prototype.N=function(){if(zn.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)z0(t[r]);delete n.g[e],n.h--}}this.J=null},zn.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},zn.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var VN=Ee.JSON.stringify;function lbe(){var n=LN;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var l9=new class cbe{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new hbe,n=>n.reset());class hbe{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function fbe(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function pbe(n){Ee.setTimeout(()=>{throw n},0)}let og,ag=!1,LN=new class dbe{constructor(){this.h=this.g=null}add(e,t){const r=l9.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},d9=()=>{const n=Ee.Promise.resolve(void 0);og=()=>{n.then(gbe)}};var gbe=()=>{for(var n;n=lbe();){try{n.h.call(n.g)}catch(t){pbe(t)}var e=l9;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}ag=!1};function K0(n,e){zn.call(this),this.h=n||1,this.g=e||Ee,this.j=Cr(this.qb,this),this.l=Date.now()}function BN(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function UN(n,e,t){if("function"==typeof n)t&&(n=Cr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Cr(n.handleEvent,n)}return 2147483647<Number(e)?-1:Ee.setTimeout(n,e||0)}function h9(n){n.g=UN(()=>{n.g=null,n.i&&(n.i=!1,h9(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Hn(K0,zn),(W=K0.prototype).ga=!1,W.T=null,W.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),lr(this,"tick"),this.ga&&(BN(this),this.start()))}},W.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},W.N=function(){K0.$.N.call(this),BN(this),delete this.g};class mbe extends ka{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:h9(this)}N(){super.N(),this.g&&(Ee.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ug(n){ka.call(this),this.h=n,this.g={}}Hn(ug,ka);var f9=[];function p9(n,e,t,r){Array.isArray(t)||(t&&(f9[0]=t.toString()),t=f9);for(var i=0;i<t.length;i++){var s=s9(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function g9(n){AN(n.g,function(e,t){this.g.hasOwnProperty(t)&&ON(e)},n),n.g={}}function Q0(){this.g=!0}function Od(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Ibe(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return VN(t)}catch{return e}}(n,t)+(r?" "+r:"")})}ug.prototype.N=function(){ug.$.N.call(this),g9(this)},ug.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Q0.prototype.Ea=function(){this.g=!1},Q0.prototype.info=function(){};var ac={},m9=null;function Y0(){return m9=m9||new zn}function _9(n){Ar.call(this,ac.Ta,n)}function cg(n){const e=Y0();lr(e,new _9(e))}function y9(n,e){Ar.call(this,ac.STAT_EVENT,n),this.stat=e}function qr(n){const e=Y0();lr(e,new y9(e,n))}function v9(n,e){Ar.call(this,ac.Ua,n),this.size=e}function lg(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ee.setTimeout(function(){n()},e)}ac.Ta="serverreachability",Hn(_9,Ar),ac.STAT_EVENT="statevent",Hn(y9,Ar),ac.Ua="timingevent",Hn(v9,Ar);var J0={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},I9={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function jN(){}function b9(){}jN.prototype.h=null;var HN,dg={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function $N(){Ar.call(this,"d")}function GN(){Ar.call(this,"c")}function X0(){}function hg(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new ug(this),this.P=wbe,this.V=new K0(n=bN?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new E9}function E9(){this.i=null,this.g="",this.h=!1}Hn($N,Ar),Hn(GN,Ar),Hn(X0,jN),X0.prototype.g=function(){return new XMLHttpRequest},X0.prototype.i=function(){return{}},HN=new X0;var wbe=45e3,zN={},Z0={};function qN(n,e,t){n.L=1,n.v=rI(Go(e)),n.s=t,n.S=!0,T9(n,null)}function T9(n,e){n.G=Date.now(),fg(n),n.A=Go(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),P9(t.i,"t",r),n.C=0,t=n.l.J,n.h=new E9,n.g=i7(n.l,t?e:null,!n.s),0<n.O&&(n.M=new mbe(Cr(n.Pa,n,n.g),n.O)),p9(n.U,n.g,"readystatechange",n.nb),e=n.I?n9(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),cg(),function _be(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.W,n.s)}function D9(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function S9(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=bbe(n,t),i==Z0){4==e&&(n.o=4,qr(14),r=!1),Od(n.j,n.m,null,"[Incomplete Response]");break}if(i==zN){n.o=4,qr(15),Od(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Od(n.j,n.m,i,null),WN(n,i)}D9(n)&&i!=Z0&&i!=zN&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,qr(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),eM(e),e.M=!0,qr(11))):(Od(n.j,n.m,t,"[Invalid Chunked Response]"),uc(n),pg(n))}function bbe(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Z0:(t=Number(e.substring(t,r)),isNaN(t)?zN:(r+=1)+t>e.length?Z0:(e=e.slice(r,r+t),n.C=r+t,e))}function fg(n){n.Y=Date.now()+n.P,C9(n,n.P)}function C9(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=lg(Cr(n.lb,n),e)}function eI(n){n.B&&(Ee.clearTimeout(n.B),n.B=null)}function pg(n){0==n.l.H||n.J||e7(n.l,n)}function uc(n){eI(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,BN(n.V),g9(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function WN(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||KN(t.i,n)))if(!n.K&&KN(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;cI(t),aI(t)}ZN(t),qr(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=lg(Cr(t.ib,t),6e3));if(1>=V9(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else lc(t,11)}else if((n.K||t.g==n)&&cI(t),!rg(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(t.V=c[0],c=c[1],2==t.H)if("c"==c[0]){t.K=c[1],t.pa=c[2];const l=c[3];null!=l&&(t.ra=l,t.l.info("VER="+t.ra));const d=c[4];null!=d&&(t.Ga=d,t.l.info("SVER="+t.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(t.L=r=1.5*h,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const f=n.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(QN(s,s.h),s.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,Nt(r.I,r.F,g))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var o=n;if((r=t).wa=r7(r,r.J?r.pa:null,r.Y),o.K){L9(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(eI(a),fg(a)),r.g=o}else X9(r);0<t.j.length&&uI(t)}else"stop"!=c[0]&&"close"!=c[0]||lc(t,7);else 3==t.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?lc(t,7):XN(t):"noop"!=c[0]&&t.h&&t.h.Aa(c),t.A=0)}cg()}catch{}}function A9(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if($0(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Tbe(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if($0(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function Ebe(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if($0(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(W=hg.prototype).setTimeout=function(n){this.P=n},W.nb=function(n){n=n.target;const e=this.M;e&&3==Js(n)?e.l():this.Pa(n)},W.Pa=function(n){try{if(n==this.g)e:{const l=Js(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||bN||this.g&&(this.h.h||this.g.ja()||q9(this.g)))){this.J||4!=l||7==e||cg(),eI(this);var t=this.g.da();this.ca=t;t:if(D9(this)){var r=q9(this.g);n="";var i=r.length,s=4==Js(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){uc(this),pg(this);var o="";break t}this.h.i=new Ee.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==t,function ybe(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,l,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!rg(a)){var c=a;break t}}c=null}if(!(t=c)){this.i=!1,this.o=3,qr(12),uc(this),pg(this);break e}Od(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,WN(this,t)}this.S?(S9(this,l,o),bN&&this.i&&3==l&&(p9(this.U,this.V,"tick",this.mb),this.V.start())):(Od(this.j,this.m,o,null),WN(this,o)),4==l&&uc(this),this.i&&!this.J&&(4==l?e7(this.l,this):(this.i=!1,fg(this)))}else(function $be(n){const e={};n=(n.g&&2<=Js(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(rg(n[r]))continue;var t=fbe(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const s=e[i]||[];e[i]=s,s.push(t)}!function obe(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<o.indexOf("Unknown SID")?(this.o=3,qr(12)):(this.o=0,qr(13)),uc(this),pg(this)}}}catch{}},W.mb=function(){if(this.g){var n=Js(this.g),e=this.g.ja();this.C<e.length&&(eI(this),S9(this,n,e),this.i&&4!=n&&fg(this))}},W.cancel=function(){this.J=!0,uc(this)},W.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function vbe(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(cg(),qr(17)),uc(this),this.o=2,pg(this)):C9(this,this.Y-n)};var x9=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cc(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof cc){this.h=n.h,tI(this,n.j),this.s=n.s,this.g=n.g,nI(this,n.m),this.l=n.l;var e=n.i,t=new _g;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),R9(this,t),this.o=n.o}else n&&(e=String(n).match(x9))?(this.h=!1,tI(this,e[1]||"",!0),this.s=gg(e[2]||""),this.g=gg(e[3]||"",!0),nI(this,e[4]),this.l=gg(e[5]||"",!0),R9(this,e[6]||"",!0),this.o=gg(e[7]||"")):(this.h=!1,this.i=new _g(null,this.h))}function Go(n){return new cc(n)}function tI(n,e,t){n.j=t?gg(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function nI(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function R9(n,e,t){e instanceof _g?(n.i=e,function Nbe(n,e){e&&!n.j&&(Fa(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(M9(this,r),P9(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=mg(e,xbe)),n.i=new _g(e,n.h))}function Nt(n,e,t){n.i.set(e,t)}function rI(n){return Nt(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function gg(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function mg(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Sbe),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Sbe(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}cc.prototype.toString=function(){var n=[],e=this.j;e&&n.push(mg(e,N9,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(mg(e,N9,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(mg(t,"/"==t.charAt(0)?Abe:Cbe,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",mg(t,Rbe)),n.join("")};var N9=/[#\/\?@]/g,Cbe=/[#\?:]/g,Abe=/[#\?]/g,xbe=/[#\?@]/g,Rbe=/#/g;function _g(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Fa(n){n.g||(n.g=new Map,n.h=0,n.i&&function Dbe(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function M9(n,e){Fa(n),e=Pd(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function O9(n,e){return Fa(n),e=Pd(n,e),n.g.has(e)}function P9(n,e,t){M9(n,e),0<t.length&&(n.i=null,n.g.set(Pd(n,e),IN(t)),n.h+=t.length)}function Pd(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function k9(n){this.l=n||Obe,n=Ee.PerformanceNavigationTiming?0<(n=Ee.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ee.g&&Ee.g.Ka&&Ee.g.Ka()&&Ee.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(W=_g.prototype).add=function(n,e){Fa(this),this.i=null,n=Pd(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},W.forEach=function(n,e){Fa(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},W.ta=function(){Fa(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},W.Z=function(n){Fa(this);let e=[];if("string"==typeof n)O9(this,n)&&(e=e.concat(this.g.get(Pd(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},W.set=function(n,e){return Fa(this),this.i=null,O9(this,n=Pd(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},W.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},W.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),n.push(i)}}return this.i=n.join("&")};var Obe=10;function F9(n){return!!n.h||!!n.g&&n.g.size>=n.j}function V9(n){return n.h?1:n.g?n.g.size:0}function KN(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function QN(n,e){n.g?n.g.add(e):n.h=e}function L9(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function B9(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return IN(n.i)}k9.prototype.cancel=function(){if(this.i=B9(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var Pbe=class{stringify(n){return Ee.JSON.stringify(n,void 0)}parse(n){return Ee.JSON.parse(n,void 0)}};function kbe(){this.g=new Pbe}function Fbe(n,e,t){const r=t||"";try{A9(n,function(i,s){let o=i;ng(i)&&(o=VN(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function iI(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function yg(n){this.l=n.ec||null,this.j=n.ob||!1}function sI(n,e){zn.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=YN,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Hn(yg,jN),yg.prototype.g=function(){return new sI(this.l,this.j)},yg.prototype.i=function(n){return function(){return n}}({}),Hn(sI,zn);var YN=0;function U9(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function vg(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Ig(n)}function Ig(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(W=sI.prototype).open=function(n,e){if(this.readyState!=YN)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Ig(this)},W.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Ee).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},W.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,vg(this)),this.readyState=YN},W.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Ig(this)),this.g&&(this.readyState=3,Ig(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ee.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;U9(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},W.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?vg(this):Ig(this),3==this.readyState&&U9(this)}},W.Za=function(n){this.g&&(this.response=this.responseText=n,vg(this))},W.Ya=function(n){this.g&&(this.response=n,vg(this))},W.ka=function(){this.g&&vg(this)},W.setRequestHeader=function(n,e){this.v.append(n,e)},W.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},W.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(sI.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Lbe=Ee.JSON.parse;function Xt(n){zn.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=j9,this.L=this.M=!1}Hn(Xt,zn);var j9="",Bbe=/^https?$/i,Ube=["POST","PUT"];function $9(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,G9(n),oI(n)}function G9(n){n.F||(n.F=!0,lr(n,"complete"),lr(n,"error"))}function H9(n){if(n.h&&typeof yN<"u"&&(!n.C[1]||4!=Js(n)||2!=n.da()))if(n.v&&4==Js(n))UN(n.La,0,n);else if(lr(n,"readystatechange"),4==Js(n)){n.h=!1;try{const o=n.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===o){var i=String(n.I).match(x9)[1]||null;!i&&Ee.self&&Ee.self.location&&(i=Ee.self.location.protocol.slice(0,-1)),r=!Bbe.test(i?i.toLowerCase():"")}t=r}if(t)lr(n,"complete"),lr(n,"success");else{n.m=6;try{var s=2<Js(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",G9(n)}}finally{oI(n)}}}function oI(n,e){if(n.g){z9(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||lr(n,"ready");try{t.onreadystatechange=r}catch{}}}function z9(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Ee.clearTimeout(n.A),n.A=null)}function Js(n){return n.g?n.g.readyState:0}function q9(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case j9:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function W9(n){let e="";return AN(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function JN(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=W9(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Nt(n,e,t))}function wg(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function K9(n){this.Ga=0,this.j=[],this.l=new Q0,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=wg("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=wg("baseRetryDelayMs",5e3,n),this.hb=wg("retryDelaySeedMs",1e4,n),this.eb=wg("forwardChannelMaxRetries",2,n),this.xa=wg("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new k9(n&&n.concurrentRequestLimit),this.Ja=new kbe,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function XN(n){if(Q9(n),3==n.H){var e=n.W++,t=Go(n.I);if(Nt(t,"SID",n.K),Nt(t,"RID",e),Nt(t,"TYPE","terminate"),bg(n,t),(e=new hg(n,n.l,e)).L=2,e.v=rI(Go(t)),t=!1,Ee.navigator&&Ee.navigator.sendBeacon)try{t=Ee.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Ee.Image&&((new Image).src=e.v,t=!0),t||(e.g=i7(e.l,null),e.g.ha(e.v)),e.G=Date.now(),fg(e)}n7(n)}function aI(n){n.g&&(eM(n),n.g.cancel(),n.g=null)}function Q9(n){aI(n),n.u&&(Ee.clearTimeout(n.u),n.u=null),cI(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Ee.clearTimeout(n.m),n.m=null)}function uI(n){if(!F9(n.i)&&!n.m){n.m=!0;var e=n.Na;og||d9(),ag||(og(),ag=!0),LN.add(e,n),n.C=0}}function Y9(n,e){var t;t=e?e.m:n.W++;const r=Go(n.I);Nt(r,"SID",n.K),Nt(r,"RID",t),Nt(r,"AID",n.V),bg(n,r),n.o&&n.s&&JN(r,n.o,n.s),t=new hg(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=J9(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),QN(n.i,t),qN(t,r,e)}function bg(n,e){n.na&&AN(n.na,function(t,r){Nt(e,r,t)}),n.h&&A9({},function(t,r){Nt(e,r,t)})}function J9(n,e,t){t=Math.min(n.j.length,t);var r=n.h?Cr(n.h.Va,n.h,n):null;e:{var i=n.j;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<t;u++){let c=i[u].g;const l=i[u].map;if(c-=s,0>c)s=Math.max(0,i[u].g-100),a=!1;else try{Fbe(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function X9(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;og||d9(),ag||(og(),ag=!0),LN.add(e,n),n.A=0}}function ZN(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=lg(Cr(n.Ma,n),t7(n,n.A)),n.A++,0))}function eM(n){null!=n.B&&(Ee.clearTimeout(n.B),n.B=null)}function Z9(n){n.g=new hg(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Go(n.wa);Nt(e,"RID","rpc"),Nt(e,"SID",n.K),Nt(e,"AID",n.V),Nt(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Nt(e,"TO",n.qa),Nt(e,"TYPE","xmlhttp"),bg(n,e),n.o&&n.s&&JN(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=rI(Go(e)),t.s=null,t.S=!0,T9(t,n)}function cI(n){null!=n.v&&(Ee.clearTimeout(n.v),n.v=null)}function e7(n,e){var t=null;if(n.g==e){cI(n),eM(n),n.g=null;var r=2}else{if(!KN(n.i,e))return;t=e.F,L9(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;lr(r=Y0(),new v9(r,t)),uI(n)}else X9(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function Gbe(n,e){return!(V9(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=lg(Cr(n.Na,n,e),t7(n,n.C)),n.C++,0)))}(n,e)||2==r&&ZN(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:lc(n,5);break;case 4:lc(n,10);break;case 3:lc(n,6);break;default:lc(n,2)}}function t7(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function lc(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=Cr(n.pb,n);t||(t=new cc("//www.google.com/images/cleardot.gif"),Ee.location&&"http"==Ee.location.protocol||tI(t,"https"),rI(t)),function Vbe(n,e){const t=new Q0;if(Ee.Image){const r=new Image;r.onload=G0(iI,t,r,"TestLoadImage: loaded",!0,e),r.onerror=G0(iI,t,r,"TestLoadImage: error",!1,e),r.onabort=G0(iI,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=G0(iI,t,r,"TestLoadImage: timeout",!1,e),Ee.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else qr(2);n.H=0,n.h&&n.h.za(e),n7(n),Q9(n)}function n7(n){if(n.H=0,n.ma=[],n.h){const e=B9(n.i);(0!=e.length||0!=n.j.length)&&(J5(n.ma,e),J5(n.ma,n.j),n.i.i.length=0,IN(n.j),n.j.length=0),n.h.ya()}}function r7(n,e,t){var r=t instanceof cc?Go(t):new cc(t);if(""!=r.g)e&&(r.g=e+"."+r.g),nI(r,r.m);else{var i=Ee.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new cc(null);r&&tI(s,r),e&&(s.g=e),i&&nI(s,i),t&&(s.l=t),r=s}return e=n.Da,(t=n.F)&&e&&Nt(r,t,e),Nt(r,"VER",n.ra),bg(n,r),r}function i7(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Xt(t&&n.Ha&&!n.va?new yg({ob:!0}):n.va)).Oa(n.J),e}function s7(){}function lI(){if(Md&&!(10<=Number(nbe)))throw Error("Environmental error: no available transport.")}function Ri(n,e){zn.call(this),this.g=new K9(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!rg(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!rg(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new kd(this)}function o7(n){$N.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function a7(){GN.call(this),this.status=1}function kd(n){this.g=n}function bs(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function tM(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],o=(e=n.g[0])+(s^(t=n.g[1])&((i=n.g[2])^s))+r[0]+3614090360&4294967295;o=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=t+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(t^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(t|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=t+((o=e+(i^(t|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~t))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+s&4294967295}function ft(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var s=0|n[i];r&&s==e||(t[i]=s,r=!1)}this.g=t}(W=Xt.prototype).Oa=function(n){this.M=n},W.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():HN.g(),this.C=function w9(n){return n.h||(n.h=n.i())}(this.u?this.u:HN),this.g.onreadystatechange=Cr(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void $9(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=Ee.FormData&&n instanceof Ee.FormData,!(0<=Y5(Ube,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of t)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{z9(this),0<this.B&&((this.L=function jbe(n){return Md&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Cr(this.ua,this)):this.A=UN(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){$9(this,s)}},W.ua=function(){typeof yN<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,lr(this,"timeout"),this.abort(8))},W.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,lr(this,"complete"),lr(this,"abort"),oI(this))},W.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),oI(this,!0)),Xt.$.N.call(this)},W.La=function(){this.s||(this.G||this.v||this.l?H9(this):this.kb())},W.kb=function(){H9(this)},W.isActive=function(){return!!this.g},W.da=function(){try{return 2<Js(this)?this.g.status:-1}catch{return-1}},W.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},W.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Lbe(e)}},W.Ia=function(){return this.m},W.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(W=K9.prototype).ra=8,W.H=1,W.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new hg(this,this.l,n);let s=this.s;if(this.U&&(s?(s=n9(s),i9(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=J9(this,i,e),Nt(t=Go(this.I),"RID",n),Nt(t,"CVER",22),this.F&&Nt(t,"X-HTTP-Session-Id",this.F),bg(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(W9(s)))+"&"+e:this.o&&JN(t,this.o,s)),QN(this.i,i),this.bb&&Nt(t,"TYPE","init"),this.P?(Nt(t,"$req",e),Nt(t,"SID","null"),i.aa=!0,qN(i,t,null)):qN(i,t,e),this.H=2}}else 3==this.H&&(n?Y9(this,n):0==this.j.length||F9(this.i)||Y9(this))},W.Ma=function(){if(this.u=null,Z9(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=lg(Cr(this.jb,this),n)}},W.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,qr(10),aI(this),Z9(this))},W.ib=function(){null!=this.v&&(this.v=null,aI(this),ZN(this),qr(19))},W.pb=function(n){n?(this.l.info("Successfully pinged google.com"),qr(2)):(this.l.info("Failed to ping google.com"),qr(1))},W.isActive=function(){return!!this.h&&this.h.isActive(this)},(W=s7.prototype).Ba=function(){},W.Aa=function(){},W.za=function(){},W.ya=function(){},W.isActive=function(){return!0},W.Va=function(){},lI.prototype.g=function(n,e){return new Ri(n,e)},Hn(Ri,zn),Ri.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;qr(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=r7(n,null,n.Y),uI(n)},Ri.prototype.close=function(){XN(this.g)},Ri.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=VN(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&uI(e)},Ri.prototype.N=function(){this.g.h=null,delete this.j,XN(this.g),delete this.g,Ri.$.N.call(this)},Hn(o7,$N),Hn(a7,GN),Hn(kd,s7),kd.prototype.Ba=function(){lr(this.g,"a")},kd.prototype.Aa=function(n){lr(this.g,new o7(n))},kd.prototype.za=function(n){lr(this.g,new a7)},kd.prototype.ya=function(){lr(this.g,"b")},Hn(bs,function Hbe(){this.blockSize=-1}),bs.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},bs.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=t;)tM(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(r[i++]=n.charCodeAt(s++),i==this.blockSize){tM(this,r),i=0;break}}else for(;s<e;)if(r[i++]=n[s++],i==this.blockSize){tM(this,r),i=0;break}}this.h=i,this.i+=e},bs.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var zbe={};function nM(n){return-128<=n&&128>n?function Zwe(n,e){var t=zbe;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new ft([0|e],0>e?-1:0)}):new ft([0|n],0>n?-1:0)}function Xs(n){if(isNaN(n)||!isFinite(n))return Fd;if(0>n)return dr(Xs(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=rM;return new ft(e,0)}var rM=4294967296,Fd=nM(0),iM=nM(1),c7=nM(16777216);function Ho(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function ts(n){return-1==n.h}function dr(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new ft(t,~n.h).add(iM)}function dI(n,e){return n.add(dr(e))}function hI(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Eg(n,e){this.g=n,this.h=e}function fI(n,e){if(Ho(e))throw Error("division by zero");if(Ho(n))return new Eg(Fd,Fd);if(ts(n))return e=fI(dr(n),e),new Eg(dr(e.g),dr(e.h));if(ts(e))return e=fI(n,dr(e)),new Eg(dr(e.g),e.h);if(30<n.g.length){if(ts(n)||ts(e))throw Error("slowDivide_ only works with positive integers.");for(var t=iM,r=e;0>=r.X(n);)t=l7(t),r=l7(r);var i=Vd(t,1),s=Vd(r,1);for(r=Vd(r,2),t=Vd(t,2);!Ho(r);){var o=s.add(r);0>=o.X(n)&&(i=i.add(t),s=o),r=Vd(r,1),t=Vd(t,1)}return e=dI(n,i.R(e)),new Eg(i,e)}for(i=Fd;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),o=(s=Xs(t)).R(e);ts(o)||0<o.X(n);)o=(s=Xs(t-=r)).R(e);Ho(s)&&(s=iM),i=i.add(s),n=dI(n,o)}return new Eg(i,n)}function l7(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new ft(t,n.h)}function Vd(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],s=0;s<r;s++)i[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new ft(i,n.h)}(W=ft.prototype).ea=function(){if(ts(this))return-dr(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:rM+r)*e,e*=rM}return n},W.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Ho(this))return"0";if(ts(this))return"-"+dr(this).toString(n);for(var e=Xs(Math.pow(n,6)),t=this,r="";;){var i=fI(t,e).g,s=((0<(t=dI(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Ho(t=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},W.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},W.X=function(n){return ts(n=dI(this,n))?-1:Ho(n)?0:1},W.abs=function(){return ts(this)?dr(this):this},W.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&n.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=o>>>16,t[i]=(o&=65535)<<16|(s&=65535)}return new ft(t,-2147483648&t[t.length-1]?-1:0)},W.R=function(n){if(Ho(this)||Ho(n))return Fd;if(ts(this))return ts(n)?dr(this).R(dr(n)):dr(dr(this).R(n));if(ts(n))return dr(this.R(dr(n)));if(0>this.X(c7)&&0>n.X(c7))return Xs(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=n.D(i)>>>16,u=65535&n.D(i);t[2*r+2*i]+=o*u,hI(t,2*r+2*i),t[2*r+2*i+1]+=s*u,hI(t,2*r+2*i+1),t[2*r+2*i+1]+=o*a,hI(t,2*r+2*i+1),t[2*r+2*i+2]+=s*a,hI(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new ft(t,0)},W.gb=function(n){return fI(this,n).h},W.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new ft(t,this.h&n.h)},W.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new ft(t,this.h|n.h)},W.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new ft(t,this.h^n.h)},lI.prototype.createWebChannel=lI.prototype.g,Ri.prototype.send=Ri.prototype.u,Ri.prototype.open=Ri.prototype.m,Ri.prototype.close=Ri.prototype.close,J0.NO_ERROR=0,J0.TIMEOUT=8,J0.HTTP_ERROR=6,I9.COMPLETE="complete",b9.EventType=dg,dg.OPEN="a",dg.CLOSE="b",dg.ERROR="c",dg.MESSAGE="d",zn.prototype.listen=zn.prototype.O,Xt.prototype.listenOnce=Xt.prototype.P,Xt.prototype.getLastError=Xt.prototype.Sa,Xt.prototype.getLastErrorCode=Xt.prototype.Ia,Xt.prototype.getStatus=Xt.prototype.da,Xt.prototype.getResponseJson=Xt.prototype.Wa,Xt.prototype.getResponseText=Xt.prototype.ja,Xt.prototype.send=Xt.prototype.ha,Xt.prototype.setWithCredentials=Xt.prototype.Oa,bs.prototype.digest=bs.prototype.l,bs.prototype.reset=bs.prototype.reset,bs.prototype.update=bs.prototype.j,ft.prototype.add=ft.prototype.add,ft.prototype.multiply=ft.prototype.R,ft.prototype.modulo=ft.prototype.gb,ft.prototype.compare=ft.prototype.X,ft.prototype.toNumber=ft.prototype.ea,ft.prototype.toString=ft.prototype.toString,ft.prototype.getBits=ft.prototype.D,ft.fromNumber=Xs,ft.fromString=function u7(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return dr(u7(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Xs(Math.pow(e,8)),r=Fd,i=0;i<n.length;i+=8){var s=Math.min(8,n.length-i),o=parseInt(n.substring(i,i+s),e);8>s?(s=Xs(Math.pow(e,s)),r=r.R(s).add(Xs(o))):r=(r=r.R(t)).add(Xs(o))}return r};var qbe=ws.createWebChannelTransport=function(){return new lI},Wbe=ws.getStatEventTarget=function(){return Y0()},sM=ws.ErrorCode=J0,Kbe=ws.EventType=I9,Qbe=ws.Event=ac,d7=ws.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},pI=(ws.FetchXmlHttpFactory=yg,ws.WebChannel=b9),Ybe=ws.XhrIo=Xt,Jbe=ws.Md5=bs,Ld=ws.Integer=ft;const h7="@firebase/firestore";class qn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qn.UNAUTHENTICATED=new qn(null),qn.GOOGLE_CREDENTIALS=new qn("google-credentials-uid"),qn.FIRST_PARTY=new qn("first-party-uid"),qn.MOCK_USER=new qn("mock-user");let Bd="10.4.0";const Va=new xa("@firebase/firestore");function Ud(){return Va.logLevel}function F(n,...e){if(Va.logLevel<=Me.DEBUG){const t=e.map(oM);Va.debug(`Firestore (${Bd}): ${n}`,...t)}}function ln(n,...e){if(Va.logLevel<=Me.ERROR){const t=e.map(oM);Va.error(`Firestore (${Bd}): ${n}`,...t)}}function Ni(n,...e){if(Va.logLevel<=Me.WARN){const t=e.map(oM);Va.warn(`Firestore (${Bd}): ${n}`,...t)}}function oM(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ee(n="Unexpected state"){const e=`FIRESTORE (${Bd}) INTERNAL ASSERTION FAILED: `+n;throw ln(e),new Error(e)}function ae(n,e){n||ee()}function j(n,e){return n}const C={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class P extends ci{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Pn{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class f7{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Xbe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(qn.UNAUTHENTICATED))}shutdown(){}}class eEe{constructor(e){this.t=e,this.currentUser=qn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,t(c)):Promise.resolve();let o=new Pn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Pn,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(v(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{F("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(F("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Pn)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(F("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ae("string"==typeof r.accessToken),new f7(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ae(null===e||"string"==typeof e),new qn(e)}}class tEe{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=qn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class nEe{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new tEe(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(qn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class p7{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rEe{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const r=s=>{null!=s.error&&F("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,F("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{F("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):F("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ae("string"==typeof t.token),this.R=t.token,new p7(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function iEe(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class g7{static V(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=iEe(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function ve(n,e){return n<e?-1:n>e?1:0}function jd(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class qt{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new P(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new P(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new P(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new P(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return qt.fromMillis(Date.now())}static fromDate(e){return qt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new qt(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ve(this.nanoseconds,e.nanoseconds):ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ce{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ce(e)}static min(){return new ce(new qt(0,0))}static max(){return new ce(new qt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Tg{constructor(e,t,r){void 0===t?t=0:t>e.length&&ee(),void 0===r?r=e.length-t:r>e.length-t&&ee(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Tg.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Tg?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class He extends Tg{construct(e,t,r){return new He(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new P(C.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new He(t)}static emptyPath(){return new He([])}}const sEe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zt extends Tg{construct(e,t,r){return new Zt(e,t,r)}static isValidIdentifier(e){return sEe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Zt(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new P(C.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new P(C.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new P(C.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new P(C.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zt(t)}static emptyPath(){return new Zt([])}}class G{constructor(e){this.path=e}static fromPath(e){return new G(He.fromString(e))}static fromName(e){return new G(He.fromString(e).popFirst(5))}static empty(){return new G(He.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===He.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return He.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new G(new He(e.slice()))}}function y7(n){return new Mi(n.readTime,n.key,-1)}class Mi{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Mi(ce.min(),G.empty(),-1)}static max(){return new Mi(ce.max(),G.empty(),-1)}}function uM(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=G.comparator(n.documentKey,e.documentKey),0!==t?t:ve(n.largestBatchId,e.largestBatchId))}const v7="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uEe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function La(n){return cM.apply(this,arguments)}function cM(){return cM=v(function*(n){if(n.code!==C.FAILED_PRECONDITION||n.message!==v7)throw n;F("LocalStore","Unexpectedly lost primary lease")}),cM.apply(this,arguments)}class E{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new E((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof E?t:E.resolve(t)}catch(t){return E.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):E.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):E.reject(t)}static resolve(e){return new E((t,r)=>{t(e)})}static reject(e){return new E((t,r)=>{r(e)})}static waitFor(e){return new E((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},u=>r(u))}),o=!0,s===i&&t()})}static or(e){let t=E.resolve(!1);for(const r of e)t=t.next(i=>i?E.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new E((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;t(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,t){return new E((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}function Ba(n){return"IndexedDbTransactionError"===n.name}let Oi=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.oe(i),this._e=i=>r.writeSequenceNumber(i))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}return n.ae=-1,n})();function Sg(n){return null==n}function Cg(n){return 0===n&&1/n==-1/0}function A7(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ua(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}class St{constructor(e,t){this.comparator=e,this.root=t||hr.EMPTY}insert(e,t){return new St(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,hr.BLACK,null,null))}remove(e){return new St(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _I(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _I(this.root,e,this.comparator,!1)}getReverseIterator(){return new _I(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _I(this.root,e,this.comparator,!0)}}class _I{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class hr{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??hr.RED,this.left=i??hr.EMPTY,this.right=s??hr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new hr(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return hr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return hr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,hr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,hr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ee();const e=this.left.check();if(e!==this.right.check())throw ee();return e+(this.isRed()?0:1)}}hr.EMPTY=null,hr.RED=!0,hr.BLACK=!1,hr.EMPTY=new class{constructor(){this.size=0}get key(){throw ee()}get value(){throw ee()}get color(){throw ee()}get left(){throw ee()}get right(){throw ee()}copy(e,t,r,i,s){return this}insert(e,t,r){return new hr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ct{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new R7(this.data.getIterator())}getIteratorFrom(e){return new R7(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Ct)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ct(this.comparator);return t.data=e,t}}class R7{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class fi{constructor(e){this.fields=e,e.sort(Zt.comparator)}static empty(){return new fi([])}unionWith(e){let t=new Ct(Zt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new fi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return jd(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class N7 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class kn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new N7("Invalid base64 string: "+s):s}}(e);return new kn(t)}static fromUint8Array(e){const t=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new kn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kn.EMPTY_BYTE_STRING=new kn("");const NEe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ja(n){if(ae(!!n),"string"==typeof n){let e=0;const t=NEe.exec(n);if(ae(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:en(n.seconds),nanos:en(n.nanos)}}function en(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function zo(n){return"string"==typeof n?kn.fromBase64String(n):kn.fromUint8Array(n)}function yI(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function vI(n){const e=n.mapValue.fields.__previous_value__;return yI(e)?vI(e):e}function Ag(n){const e=ja(n.mapValue.fields.__local_write_time__.timestampValue);return new qt(e.seconds,e.nanos)}class MEe{constructor(e,t,r,i,s,o,a,u,c){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class pc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new pc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof pc&&e.projectId===this.projectId&&e.database===this.database}}const $a={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ga(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?yI(n)?4:k7(n)?9007199254740991:10:ee()}function eo(n,e){if(n===e)return!0;const t=Ga(n);if(t!==Ga(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ag(n).isEqual(Ag(e));case 3:return function(i,s){if("string"==typeof i.timestampValue&&"string"==typeof s.timestampValue&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ja(i.timestampValue),a=ja(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return s=e,zo(n.bytesValue).isEqual(zo(s.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return en(i.geoPointValue.latitude)===en(s.geoPointValue.latitude)&&en(i.geoPointValue.longitude)===en(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return en(i.integerValue)===en(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=en(i.doubleValue),a=en(s.doubleValue);return o===a?Cg(o)===Cg(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return jd(n.arrayValue.values||[],e.arrayValue.values||[],eo);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(A7(o)!==A7(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(void 0===a[u]||!eo(o[u],a[u])))return!1;return!0}(n,e);default:return ee()}var s}function xg(n,e){return void 0!==(n.values||[]).find(t=>eo(t,e))}function Ha(n,e){if(n===e)return 0;const t=Ga(n),r=Ga(e);if(t!==r)return ve(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ve(n.booleanValue,e.booleanValue);case 2:return function(s,o){const a=en(s.integerValue||s.doubleValue),u=en(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,e);case 3:return M7(n.timestampValue,e.timestampValue);case 4:return M7(Ag(n),Ag(e));case 5:return ve(n.stringValue,e.stringValue);case 6:return function(s,o){const a=zo(s),u=zo(o);return a.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let c=0;c<a.length&&c<u.length;c++){const l=ve(a[c],u[c]);if(0!==l)return l}return ve(a.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){const a=ve(en(s.latitude),en(o.latitude));return 0!==a?a:ve(en(s.longitude),en(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],u=o.values||[];for(let c=0;c<a.length&&c<u.length;++c){const l=Ha(a[c],u[c]);if(l)return l}return ve(a.length,u.length)}(n.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===$a.mapValue&&o===$a.mapValue)return 0;if(s===$a.mapValue)return 1;if(o===$a.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),c=o.fields||{},l=Object.keys(c);u.sort(),l.sort();for(let d=0;d<u.length&&d<l.length;++d){const h=ve(u[d],l[d]);if(0!==h)return h;const f=Ha(a[u[d]],c[l[d]]);if(0!==f)return f}return ve(u.length,l.length)}(n.mapValue,e.mapValue);default:throw ee()}}function M7(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return ve(n,e);const t=ja(n),r=ja(e),i=ve(t.seconds,r.seconds);return 0!==i?i:ve(t.nanos,r.nanos)}function zd(n){return hM(n)}function hM(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=ja(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?zo(n.bytesValue).toBase64():"referenceValue"in n?G.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=hM(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${hM(t.fields[o])}`;return i+"}"}(n.mapValue):ee()}function fM(n){return!!n&&"integerValue"in n}function Rg(n){return!!n&&"arrayValue"in n}function O7(n){return!!n&&"nullValue"in n}function P7(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function bI(n){return!!n&&"mapValue"in n}function Ng(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ua(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Ng(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ng(n.arrayValue.values[t]);return e}return Object.assign({},n)}function k7(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class fr{constructor(e){this.value=e}static empty(){return new fr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!bI(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ng(t)}setAll(e){let t=Zt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=Ng(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());bI(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return eo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];bI(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ua(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new fr(Ng(this.value))}}class Mt{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Mt(e,0,ce.min(),ce.min(),ce.min(),fr.empty(),0)}static newFoundDocument(e,t,r,i){return new Mt(e,1,t,ce.min(),r,i,0)}static newNoDocument(e,t){return new Mt(e,2,t,ce.min(),ce.min(),fr.empty(),0)}static newUnknownDocument(e,t){return new Mt(e,3,t,ce.min(),ce.min(),fr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ce.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class za{constructor(e,t){this.position=e,this.inclusive=t}}function B7(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?G.comparator(G.fromName(o.referenceValue),t.key):Ha(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function U7(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!eo(n.position[t],e.position[t]))return!1;return!0}class qd{constructor(e,t="asc"){this.field=e,this.dir=t}}function kEe(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class j7{}class Ve extends j7{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new FEe(e,t,r):"array-contains"===t?new BEe(e,r):"in"===t?new W7(e,r):"not-in"===t?new UEe(e,r):"array-contains-any"===t?new jEe(e,r):new Ve(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new VEe(e,r):new LEe(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ha(t,this.value)):null!==t&&Ga(this.value)===Ga(t)&&this.matchesComparison(Ha(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class pt extends j7{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new pt(e,t)}matches(e){return Wd(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ce||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.le(t=>t.isInequality());return null!==e?e.field:null}le(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Wd(n){return"and"===n.op}function gM(n){return function $7(n){for(const e of n.filters)if(e instanceof pt)return!1;return!0}(n)&&Wd(n)}function mM(n){if(n instanceof Ve)return n.field.canonicalString()+n.op.toString()+zd(n.value);if(gM(n))return n.filters.map(e=>mM(e)).join(",");{const e=n.filters.map(t=>mM(t)).join(",");return`${n.op}(${e})`}}function G7(n,e){return n instanceof Ve?(r=n,(i=e)instanceof Ve&&r.op===i.op&&r.field.isEqual(i.field)&&eo(r.value,i.value)):n instanceof pt?function(r,i){return i instanceof pt&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((s,o,a)=>s&&G7(o,i.filters[a]),!0)}(n,e):void ee();var r,i}function z7(n){return n instanceof Ve?`${(t=n).field.canonicalString()} ${t.op} ${zd(t.value)}`:n instanceof pt?function(t){return t.op.toString()+" {"+t.getFilters().map(z7).join(" ,")+"}"}(n):"Filter";var t}class FEe extends Ve{constructor(e,t,r){super(e,t,r),this.key=G.fromName(r.referenceValue)}matches(e){const t=G.comparator(e.key,this.key);return this.matchesComparison(t)}}class VEe extends Ve{constructor(e,t){super(e,"in",t),this.keys=q7(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class LEe extends Ve{constructor(e,t){super(e,"not-in",t),this.keys=q7(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function q7(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>G.fromName(r.referenceValue))}class BEe extends Ve{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Rg(t)&&xg(t.arrayValue,this.value)}}class W7 extends Ve{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&xg(this.value.arrayValue,t)}}class UEe extends Ve{constructor(e,t){super(e,"not-in",t)}matches(e){if(xg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!xg(this.value.arrayValue,t)}}class jEe extends Ve{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Rg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>xg(this.value.arrayValue,r))}}class $Ee{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.he=null}}function _M(n,e=null,t=[],r=[],i=null,s=null,o=null){return new $Ee(n,e,t,r,i,s,o)}function mc(n){const e=j(n);if(null===e.he){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>mM(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),Sg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>zd(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>zd(r)).join(",")),e.he=t}return e.he}function Mg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!kEe(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!G7(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!U7(n.startAt,e.startAt)&&U7(n.endAt,e.endAt)}function EI(n){return G.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class qo{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.Pe=null,this.Ie=null,this.de=null}}function Kd(n){return new qo(n)}function J7(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Qd(n){const e=j(n);if(null===e.Pe){e.Pe=[];const t=function DI(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}(e),r=function yM(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}(e);if(null!==t&&null===r)t.isKeyField()||e.Pe.push(new qd(t)),e.Pe.push(new qd(Zt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.Pe.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.Pe.push(new qd(Zt.keyField(),s))}}}return e.Pe}function Wr(n){const e=j(n);return e.Ie||(e.Ie=function X7(n,e){if("F"===n.limitType)return _M(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>new qd(i.field,"desc"===i.dir?"asc":"desc"));const t=n.endAt?new za(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new za(n.startAt.position,n.startAt.inclusive):null;return _M(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}(e,Qd(n))),e.Ie}function SI(n,e,t){return new qo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Og(n,e){return Mg(Wr(n),Wr(e))&&n.limitType===e.limitType}function Z7(n){return`${mc(Wr(n))}|lt:${n.limitType}`}function Yd(n){return`Query(target=${function(t){let r=t.path.canonicalString();return null!==t.collectionGroup&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>z7(i)).join(", ")}]`),Sg(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>{return`${(o=i).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>zd(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>zd(i)).join(",")),`Target(${r})`}(Wr(n))}; limitType=${n.limitType})`}function Pg(n,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):G.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(const s of Qd(r))if(!s.field.isKeyField()&&null===i.data.field(s.field))return!1;return!0}(n,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&(i=e,!((r=n).startAt&&!function(o,a,u){const c=B7(o,a,u);return o.inclusive?c<=0:c<0}(r.startAt,Qd(r),i)||r.endAt&&!function(o,a,u){const c=B7(o,a,u);return o.inclusive?c>=0:c>0}(r.endAt,Qd(r),i)));var r,i}function tq(n){return(e,t)=>{let r=!1;for(const i of Qd(n)){const s=GEe(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function GEe(n,e,t){const r=n.field.isKeyField()?G.comparator(e.key,t.key):function(s,o,a){const u=o.data.field(s),c=a.data.field(s);return null!==u&&null!==c?Ha(u,c):ee()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ee()}}class Wo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ua(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return function x7(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}(this.inner)}size(){return this.innerSize}}const HEe=new St(G.comparator);function pi(){return HEe}const nq=new St(G.comparator);function kg(...n){let e=nq;for(const t of n)e=e.insert(t.key,t);return e}function rq(n){let e=nq;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function to(){return Fg()}function iq(){return Fg()}function Fg(){return new Wo(n=>n.toString(),(n,e)=>n.isEqual(e))}new St(G.comparator);const qEe=new Ct(G.comparator);function Ae(...n){let e=qEe;for(const t of n)e=e.add(t);return e}const WEe=new Ct(ve);class CI{constructor(){this._=void 0}}function KEe(n,e,t){return n instanceof Jd?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&yI(s)&&(s=vI(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(t,e):n instanceof _c?cq(n,e):n instanceof yc?lq(n,e):function(i,s){const o=function uq(n,e){return n instanceof Xd?fM(r=e)||(s=r)&&"doubleValue"in s?e:{integerValue:0}:null;var r,s}(i,s),a=dq(o)+dq(i.Te);return fM(o)&&fM(i.Te)?function oq(n){return{integerValue:""+n}}(a):function sq(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cg(e)?"-0":e}}(i.serializer,a)}(n,e)}function QEe(n,e,t){return n instanceof _c?cq(n,e):n instanceof yc?lq(n,e):t}class Jd extends CI{}class _c extends CI{constructor(e){super(),this.elements=e}}function cq(n,e){const t=hq(e);for(const r of n.elements)t.some(i=>eo(i,r))||t.push(r);return{arrayValue:{values:t}}}class yc extends CI{constructor(e){super(),this.elements=e}}function lq(n,e){let t=hq(e);for(const r of n.elements)t=t.filter(i=>!eo(i,r));return{arrayValue:{values:t}}}class Xd extends CI{constructor(e,t){super(),this.serializer=e,this.Te=t}}function dq(n){return en(n.integerValue||n.doubleValue)}function hq(n){return Rg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Lt{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Lt}static exists(e){return new Lt(void 0,e)}static updateTime(e){return new Lt(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function AI(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class bM{}function fq(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new eh(n.key,Lt.none()):new Zd(n.key,n.data,Lt.none());{const t=n.data,r=fr.empty();let i=new Ct(Zt.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new Ko(n.key,r,new fi(i.toArray()),Lt.none())}}function XEe(n,e,t){n instanceof Zd?function(i,s,o){const a=i.value.clone(),u=mq(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Ko?function(i,s,o){if(!AI(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=mq(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(gq(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Lg(n,e,t,r){return n instanceof Zd?function(s,o,a,u){if(!AI(s.precondition,o))return a;const c=s.value.clone(),l=_q(s.fieldTransforms,u,o);return c.setAll(l),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ko?function(s,o,a,u){if(!AI(s.precondition,o))return a;const c=_q(s.fieldTransforms,u,o),l=o.data;return l.setAll(gq(s)),l.setAll(c),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null===a?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(n,e,t,r):(a=t,AI(n.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a);var o,a}function pq(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=n.fieldTransforms)&&void 0===i||r&&i&&jd(r,i,(s,o)=>function YEe(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(r=n.transform)instanceof _c&&i instanceof _c||r instanceof yc&&i instanceof yc?jd(r.elements,i.elements,eo):r instanceof Xd&&i instanceof Xd?eo(r.Te,i.Te):r instanceof Jd&&i instanceof Jd);var r,i}(s,o))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var r,i}class Zd extends bM{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ko extends bM{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function gq(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function mq(n,e,t){const r=new Map;ae(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,QEe(o,a,t[i]))}return r}function _q(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,KEe(s,o,e))}return r}class eh extends bM{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class TM{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&XEe(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Lg(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Lg(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=iq();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const u=fq(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(ce.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ae())}isEqual(e){return this.batchId===e.batchId&&jd(this.mutations,e.mutations,(t,r)=>pq(t,r))&&jd(this.baseMutations,e.baseMutations,(t,r)=>pq(t,r))}}class SM{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class tTe{constructor(e,t){this.count=e,this.unchangedNames=t}}var En,ze;function vq(n){if(void 0===n)return ln("GRPC error has no .code"),C.UNKNOWN;switch(n){case En.OK:return C.OK;case En.CANCELLED:return C.CANCELLED;case En.UNKNOWN:return C.UNKNOWN;case En.DEADLINE_EXCEEDED:return C.DEADLINE_EXCEEDED;case En.RESOURCE_EXHAUSTED:return C.RESOURCE_EXHAUSTED;case En.INTERNAL:return C.INTERNAL;case En.UNAVAILABLE:return C.UNAVAILABLE;case En.UNAUTHENTICATED:return C.UNAUTHENTICATED;case En.INVALID_ARGUMENT:return C.INVALID_ARGUMENT;case En.NOT_FOUND:return C.NOT_FOUND;case En.ALREADY_EXISTS:return C.ALREADY_EXISTS;case En.PERMISSION_DENIED:return C.PERMISSION_DENIED;case En.FAILED_PRECONDITION:return C.FAILED_PRECONDITION;case En.ABORTED:return C.ABORTED;case En.OUT_OF_RANGE:return C.OUT_OF_RANGE;case En.UNIMPLEMENTED:return C.UNIMPLEMENTED;case En.DATA_LOSS:return C.DATA_LOSS;default:return ee()}}(ze=En||(En={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";const nTe=new Ld([4294967295,4294967295],0);function wq(n){const e=function Iq(){return new TextEncoder}().encode(n),t=new Jbe;return t.update(e),new Uint8Array(t.digest())}function bq(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ld([t,r],0),new Ld([i,s],0)]}class CM{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Bg(`Invalid padding: ${t}`);if(r<0)throw new Bg(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Bg(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new Bg(`Invalid padding when bitmap length is 0: ${t}`);this.Ae=8*e.length-t,this.Re=Ld.fromNumber(this.Ae)}Ve(e,t,r){let i=e.add(t.multiply(Ld.fromNumber(r)));return 1===i.compare(nTe)&&(i=new Ld([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Re).toNumber()}me(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ae)return!1;const t=wq(e),[r,i]=bq(t);for(let s=0;s<this.hashCount;s++){const o=this.Ve(r,i,s);if(!this.me(o))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new CM(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.Ae)return;const t=wq(e),[r,i]=bq(t);for(let s=0;s<this.hashCount;s++){const o=this.Ve(r,i,s);this.fe(o)}}fe(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Bg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ug{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,jg.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Ug(ce.min(),i,new St(ve),pi(),Ae())}}class jg{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new jg(r,t,Ae(),Ae(),Ae())}}class RI{constructor(e,t,r,i){this.ge=e,this.removedTargetIds=t,this.key=r,this.pe=i}}class Eq{constructor(e,t){this.targetId=e,this.ye=t}}class Tq{constructor(e,t,r=kn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class Dq{constructor(){this.we=0,this.Se=Cq(),this.be=kn.EMPTY_BYTE_STRING,this.De=!1,this.Ce=!0}get current(){return this.De}get resumeToken(){return this.be}get ve(){return 0!==this.we}get Fe(){return this.Ce}Me(e){e.approximateByteSize()>0&&(this.Ce=!0,this.be=e)}xe(){let e=Ae(),t=Ae(),r=Ae();return this.Se.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ee()}}),new jg(this.be,this.De,e,t,r)}Oe(){this.Ce=!1,this.Se=Cq()}Ne(e,t){this.Ce=!0,this.Se=this.Se.insert(e,t)}Be(e){this.Ce=!0,this.Se=this.Se.remove(e)}Le(){this.we+=1}ke(){this.we-=1}qe(){this.Ce=!0,this.De=!0}}class rTe{constructor(e){this.Qe=e,this.Ke=new Map,this.$e=pi(),this.Ue=Sq(),this.We=new St(ve)}Ge(e){for(const t of e.ge)e.pe&&e.pe.isFoundDocument()?this.ze(t,e.pe):this.je(t,e.key,e.pe);for(const t of e.removedTargetIds)this.je(t,e.key,e.pe)}He(e){this.forEachTarget(e,t=>{const r=this.Je(t);switch(e.state){case 0:this.Ye(t)&&r.Me(e.resumeToken);break;case 1:r.ke(),r.ve||r.Oe(),r.Me(e.resumeToken);break;case 2:r.ke(),r.ve||this.removeTarget(t);break;case 3:this.Ye(t)&&(r.qe(),r.Me(e.resumeToken));break;case 4:this.Ye(t)&&(this.Ze(t),r.Me(e.resumeToken));break;default:ee()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ke.forEach((r,i)=>{this.Ye(i)&&t(i)})}Xe(e){const t=e.targetId,r=e.ye.count,i=this.et(t);if(i){const s=i.target;if(EI(s))if(0===r){const o=new G(s.path);this.je(t,o,Mt.newNoDocument(o,ce.min()))}else ae(1===r);else{const o=this.tt(t);if(o!==r){const a=this.nt(e),u=a?this.rt(a,e,o):1;0!==u&&(this.Ze(t),this.We=this.We.insert(t,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}nt(e){const t=e.ye.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let o,a;try{o=zo(r).toUint8Array()}catch(u){if(u instanceof N7)return Ni("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new CM(o,i,s)}catch(u){return Ni(u instanceof Bg?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return 0===a.Ae?null:a}rt(e,t,r){return t.ye.count===r-this.ot(e,t.targetId)?0:2}ot(e,t){const r=this.Qe.getRemoteKeysForTarget(t);let i=0;return r.forEach(s=>{const o=this.Qe.st(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.je(t,s,null),i++)}),i}_t(e){const t=new Map;this.Ke.forEach((s,o)=>{const a=this.et(o);if(a){if(s.current&&EI(a.target)){const u=new G(a.target.path);null!==this.$e.get(u)||this.ut(o,u)||this.je(o,u,Mt.newNoDocument(u,e))}s.Fe&&(t.set(o,s.xe()),s.Oe())}});let r=Ae();this.Ue.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.et(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.$e.forEach((s,o)=>o.setReadTime(e));const i=new Ug(e,t,this.We,this.$e,r);return this.$e=pi(),this.Ue=Sq(),this.We=new St(ve),i}ze(e,t){if(!this.Ye(e))return;const r=this.ut(e,t.key)?2:0;this.Je(e).Ne(t.key,r),this.$e=this.$e.insert(t.key,t),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}je(e,t,r){if(!this.Ye(e))return;const i=this.Je(e);this.ut(e,t)?i.Ne(t,1):i.Be(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),r&&(this.$e=this.$e.insert(t,r))}removeTarget(e){this.Ke.delete(e)}tt(e){const t=this.Je(e).xe();return this.Qe.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Le(e){this.Je(e).Le()}Je(e){let t=this.Ke.get(e);return t||(t=new Dq,this.Ke.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new Ct(ve),this.Ue=this.Ue.insert(e,t)),t}Ye(e){const t=null!==this.et(e);return t||F("WatchChangeAggregator","Detected inactive target",e),t}et(e){const t=this.Ke.get(e);return t&&t.ve?null:this.Qe.lt(e)}Ze(e){this.Ke.set(e,new Dq),this.Qe.getRemoteKeysForTarget(e).forEach(t=>{this.je(e,t,null)})}ut(e,t){return this.Qe.getRemoteKeysForTarget(e).has(t)}}function Sq(){return new St(G.comparator)}function Cq(){return new St(G.comparator)}const iTe={asc:"ASCENDING",desc:"DESCENDING"},sTe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oTe={and:"AND",or:"OR"};class aTe{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function AM(n,e){return n.useProto3Json||Sg(e)?e:{value:e}}function dn(n){return ae(!!n),ce.fromTimestamp(function(t){const r=ja(t);return new qt(r.seconds,r.nanos)}(n))}function xq(n){const e=He.fromString(n);return ae(Lq(e)),e}function no(n,e){const t=xq(e);if(t.get(1)!==n.databaseId.projectId)throw new P(C.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new P(C.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new G(Nq(t))}function RM(n,e){return function xM(n,e){return(r=n,new He(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}(n.databaseId,e)}function Gg(n){return new He(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Nq(n){return ae(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Pq(n,e){return{documents:[RM(n,e.path)]}}function MM(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=RM(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=RM(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return Vq(pt.create(u,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:qa((d=c).field),direction:fTe(d.dir)};var d})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=AM(n,e.limit);return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(u=e.startAt).inclusive,values:u.position}),e.endAt&&(t.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),t;var u}function kq(n){let e=function Rq(n){const e=xq(n);return 4===e.length?He.emptyPath():Nq(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){ae(1===r);const l=t.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];t.where&&(s=function(d){const h=Fq(d);return h instanceof pt&&gM(h)?h.getFilters():[h]}(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(h=>{return new qd(nh((p=h).field),function(m){switch(m){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction));var p}));let a=null;t.limit&&(a=function(d){let h;return h="object"==typeof d?d.value:d,Sg(h)?null:h}(t.limit));let u=null;var d;t.startAt&&(u=new za((d=t.startAt).values||[],!!d.before));let c=null;return t.endAt&&(c=function(d){return new za(d.values||[],!d.before)}(t.endAt)),function Y7(n,e,t,r,i,s,o,a){return new qo(n,e,t,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function Fq(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=nh(t.unaryFilter.field);return Ve.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=nh(t.unaryFilter.field);return Ve.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=nh(t.unaryFilter.field);return Ve.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=nh(t.unaryFilter.field);return Ve.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ee()}}(n):void 0!==n.fieldFilter?Ve.create(nh((t=n).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ee()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return pt.create(t.compositeFilter.filters.map(r=>Fq(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ee()}}(t.compositeFilter.op))}(n):ee();var t}function fTe(n){return iTe[n]}function pTe(n){return sTe[n]}function gTe(n){return oTe[n]}function qa(n){return{fieldPath:n.canonicalString()}}function nh(n){return Zt.fromServerFormat(n.fieldPath)}function Vq(n){return n instanceof Ve?function(t){if("=="===t.op){if(P7(t.value))return{unaryFilter:{field:qa(t.field),op:"IS_NAN"}};if(O7(t.value))return{unaryFilter:{field:qa(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(P7(t.value))return{unaryFilter:{field:qa(t.field),op:"IS_NOT_NAN"}};if(O7(t.value))return{unaryFilter:{field:qa(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qa(t.field),op:pTe(t.op),value:t.value}}}(n):n instanceof pt?function(t){const r=t.getFilters().map(i=>Vq(i));return 1===r.length?r[0]:{compositeFilter:{op:gTe(t.op),filters:r}}}(n):ee()}function Lq(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Qo{constructor(e,t,r,i,s=ce.min(),o=ce.min(),a=kn.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Qo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Qo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Bq{constructor(e){this.ht=e}}function OM(n){const e=kq({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?SI(e,e.limit,"L"):e}class bc{constructor(){}dt(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.At(t,5);else if("booleanValue"in e)this.At(t,10),t.Rt(e.booleanValue?1:0);else if("integerValue"in e)this.At(t,15),t.Rt(en(e.integerValue));else if("doubleValue"in e){const r=en(e.doubleValue);isNaN(r)?this.At(t,13):(this.At(t,15),Cg(r)?t.Rt(0):t.Rt(r))}else if("timestampValue"in e){const r=e.timestampValue;this.At(t,20),"string"==typeof r?t.Vt(r):(t.Vt(`${r.seconds||""}`),t.Rt(r.nanos||0))}else if("stringValue"in e)this.ft(e.stringValue,t),this.gt(t);else if("bytesValue"in e)this.At(t,30),t.yt(zo(e.bytesValue)),this.gt(t);else if("referenceValue"in e)this.wt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.At(t,45),t.Rt(r.latitude||0),t.Rt(r.longitude||0)}else"mapValue"in e?k7(e)?this.At(t,Number.MAX_SAFE_INTEGER):(this.St(e.mapValue,t),this.gt(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.gt(t)):ee()}ft(e,t){this.At(t,25),this.Dt(e,t)}Dt(e,t){t.Vt(e)}St(e,t){const r=e.fields||{};this.At(t,55);for(const i of Object.keys(r))this.ft(i,t),this.Tt(r[i],t)}bt(e,t){const r=e.values||[];this.At(t,50);for(const i of r)this.Tt(i,t)}wt(e,t){this.At(t,37),G.fromName(e).path.forEach(r=>{this.At(t,60),this.Dt(r,t)})}At(e,t){e.Rt(t)}gt(e){e.Rt(2)}}bc.Ct=new bc;class TTe{constructor(){this.an=new BM}addToCollectionParentIndex(e,t){return this.an.add(t),E.resolve()}getCollectionParents(e,t){return E.resolve(this.an.getEntries(t))}addFieldIndex(e,t){return E.resolve()}deleteFieldIndex(e,t){return E.resolve()}deleteAllFieldIndexes(e){return E.resolve()}createTargetIndexes(e,t){return E.resolve()}getDocumentsMatchingTarget(e,t){return E.resolve(null)}getIndexType(e,t){return E.resolve(0)}getFieldIndexes(e,t){return E.resolve([])}getNextCollectionGroupToUpdate(e){return E.resolve(null)}getMinOffset(e,t){return E.resolve(Mi.min())}getMinOffsetFromCollectionGroup(e,t){return E.resolve(Mi.min())}updateCollectionGroup(e,t,r){return E.resolve()}updateIndexEntries(e,t){return E.resolve()}}class BM{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Ct(He.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ct(He.comparator)).toArray()}}new Uint8Array(0);class Rr{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Rr(e,Rr.DEFAULT_COLLECTION_PERCENTILE,Rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Rr.DEFAULT_COLLECTION_PERCENTILE=10,Rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rr.DEFAULT=new Rr(41943040,Rr.DEFAULT_COLLECTION_PERCENTILE,Rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rr.DISABLED=new Rr(-1,0,0);class Tc{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static Bn(){return new Tc(0)}static Ln(){return new Tc(-1)}}class RTe{constructor(){this.changes=new Wo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Mt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?E.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class OTe{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class h6{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&Lg(r.mutation,i,fi.empty(),qt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ae()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ae()){const i=to();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=kg();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=to();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ae()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=pi();const o=Fg(),a=Fg();return t.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof Ko)?s=s.insert(c.key,c):void 0!==l?(o.set(c.key,l.mutation.getFieldMask()),Lg(l.mutation,c,l.mutation.getFieldMask(),qt.now())):o.set(c.key,fi.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),t.forEach((c,l)=>{var d;return a.set(c,new OTe(l,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,t){const r=Fg();let i=new St((o,a)=>o-a),s=Ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=t.get(u);if(null===c)return;let l=r.get(u)||fi.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||Ae()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=iq();l.forEach(h=>{if(!s.has(h)){const f=fq(t.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return E.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return G.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function vM(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i);var o}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):E.resolve(to());let a=-1,u=s;return o.next(c=>E.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?E.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,Ae())).next(l=>({batchId:a,changes:rq(l)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new G(t)).next(r=>{let i=kg();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let o=kg();return this.indexManager.getCollectionParents(e,s).next(a=>E.forEach(a,u=>{const c=(d=t,h=u.child(s),new qo(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt));var d,h;return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(l=>{l.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((u,c)=>{const l=c.getKey();null===o.get(l)&&(o=o.insert(l,Mt.newInvalidDocument(l)))});let a=kg();return o.forEach((u,c)=>{const l=s.get(u);void 0!==l&&Lg(l.mutation,c,fi.empty(),qt.now()),Pg(t,c)&&(a=a.insert(u,c))}),a})}}class PTe{constructor(e){this.serializer=e,this.lr=new Map,this.hr=new Map}getBundleMetadata(e,t){return E.resolve(this.lr.get(t))}saveBundleMetadata(e,t){return this.lr.set(t.id,{id:(i=t).id,version:i.version,createTime:dn(i.createTime)}),E.resolve();var i}getNamedQuery(e,t){return E.resolve(this.hr.get(t))}saveNamedQuery(e,t){return this.hr.set(t.name,{name:(i=t).name,query:OM(i.bundledQuery),readTime:dn(i.readTime)}),E.resolve();var i}}class kTe{constructor(){this.overlays=new St(G.comparator),this.Pr=new Map}getOverlay(e,t){return E.resolve(this.overlays.get(t))}getOverlays(e,t){const r=to();return E.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.It(e,t,s)}),E.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Pr.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Pr.delete(r)),E.resolve()}getOverlaysForCollection(e,t,r){const i=to(),s=t.length+1,o=new G(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return E.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new St((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=to(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=to(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return E.resolve(a)}It(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.Pr.get(i.largestBatchId).delete(r.key);this.Pr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new SM(t,r));let s=this.Pr.get(t);void 0===s&&(s=Ae(),this.Pr.set(t,s)),this.Pr.set(t,s.add(r.key))}}class UM{constructor(){this.Ir=new Ct(Kn.dr),this.Tr=new Ct(Kn.Er)}isEmpty(){return this.Ir.isEmpty()}addReference(e,t){const r=new Kn(e,t);this.Ir=this.Ir.add(r),this.Tr=this.Tr.add(r)}Ar(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Rr(new Kn(e,t))}Vr(e,t){e.forEach(r=>this.removeReference(r,t))}mr(e){const t=new G(new He([])),r=new Kn(t,e),i=new Kn(t,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Rr(o),s.push(o.key)}),s}gr(){this.Ir.forEach(e=>this.Rr(e))}Rr(e){this.Ir=this.Ir.delete(e),this.Tr=this.Tr.delete(e)}pr(e){const t=new G(new He([])),r=new Kn(t,e),i=new Kn(t,e+1);let s=Ae();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new Kn(e,0),r=this.Ir.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Kn{constructor(e,t){this.key=e,this.yr=t}static dr(e,t){return G.comparator(e.key,t.key)||ve(e.yr,t.yr)}static Er(e,t){return ve(e.yr,t.yr)||G.comparator(e.key,t.key)}}class FTe{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.wr=1,this.Sr=new Ct(Kn.dr)}checkEmpty(e){return E.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.wr;this.wr++;const o=new TM(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.Sr=this.Sr.add(new Kn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return E.resolve(o)}lookupMutationBatch(e,t){return E.resolve(this.br(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Dr(t+1),s=i<0?0:i;return E.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return E.resolve(0===this.mutationQueue.length?-1:this.wr-1)}getAllMutationBatches(e){return E.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Kn(t,0),i=new Kn(t,Number.POSITIVE_INFINITY),s=[];return this.Sr.forEachInRange([r,i],o=>{const a=this.br(o.yr);s.push(a)}),E.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ct(ve);return t.forEach(i=>{const s=new Kn(i,0),o=new Kn(i,Number.POSITIVE_INFINITY);this.Sr.forEachInRange([s,o],a=>{r=r.add(a.yr)})}),E.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;G.isDocumentKey(s)||(s=s.child(""));const o=new Kn(new G(s),0);let a=new Ct(ve);return this.Sr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.yr)),!0)},o),E.resolve(this.Cr(a))}Cr(e){const t=[];return e.forEach(r=>{const i=this.br(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){ae(0===this.vr(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Sr;return E.forEach(t.mutations,i=>{const s=new Kn(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Sr=r})}xn(e){}containsKey(e,t){const r=new Kn(t,0),i=this.Sr.firstAfterOrEqual(r);return E.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return E.resolve()}vr(e,t){return this.Dr(e)}Dr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}br(e){const t=this.Dr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class VTe{constructor(e){this.Fr=e,this.docs=new St(G.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Fr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return E.resolve(r?r.document.mutableCopy():Mt.newInvalidDocument(t))}getEntries(e,t){let r=pi();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Mt.newInvalidDocument(i))}),E.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=pi();const o=t.path,a=new G(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||uM(y7(l),r)<=0||(i.has(l.key)||Pg(t,l))&&(s=s.insert(l.key,l.mutableCopy()))}return E.resolve(s)}getAllFromCollectionGroup(e,t,r,i){ee()}Mr(e,t){return E.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new LTe(this)}getSize(e){return E.resolve(this.size)}}class LTe extends RTe{constructor(e){super(),this.ur=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.ur.addEntry(e,i)):this.ur.removeEntry(r)}),E.waitFor(t)}getFromCache(e,t){return this.ur.getEntry(e,t)}getAllFromCache(e,t){return this.ur.getEntries(e,t)}}class BTe{constructor(e){this.persistence=e,this.Or=new Wo(t=>mc(t),Mg),this.lastRemoteSnapshotVersion=ce.min(),this.highestTargetId=0,this.Nr=0,this.Br=new UM,this.targetCount=0,this.Lr=Tc.Bn()}forEachTarget(e,t){return this.Or.forEach((r,i)=>t(i)),E.resolve()}getLastRemoteSnapshotVersion(e){return E.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return E.resolve(this.Nr)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),E.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Nr&&(this.Nr=t),E.resolve()}Qn(e){this.Or.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Lr=new Tc(t),this.highestTargetId=t),e.sequenceNumber>this.Nr&&(this.Nr=e.sequenceNumber)}addTargetData(e,t){return this.Qn(t),this.targetCount+=1,E.resolve()}updateTargetData(e,t){return this.Qn(t),E.resolve()}removeTargetData(e,t){return this.Or.delete(t.target),this.Br.mr(t.targetId),this.targetCount-=1,E.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Or.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.Or.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),E.waitFor(s).next(()=>i)}getTargetCount(e){return E.resolve(this.targetCount)}getTargetData(e,t){const r=this.Or.get(t)||null;return E.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Ar(t,r),E.resolve()}removeMatchingKeys(e,t,r){this.Br.Vr(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),E.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Br.mr(t),E.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Br.pr(t);return E.resolve(r)}containsKey(e,t){return E.resolve(this.Br.containsKey(t))}}class jM{constructor(e,t){this.kr={},this.overlays={},this.qr=new Oi(0),this.Qr=!1,this.Qr=!0,this.referenceDelegate=e(this),this.Kr=new BTe(this),this.indexManager=new TTe,this.remoteDocumentCache=new VTe(r=>this.referenceDelegate.$r(r)),this.serializer=new Bq(t),this.Ur=new PTe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Qr=!1,Promise.resolve()}get started(){return this.Qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new kTe,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.kr[e.toKey()];return r||(r=new FTe(t,this.referenceDelegate),this.kr[e.toKey()]=r),r}getTargetCache(){return this.Kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ur}runTransaction(e,t,r){F("MemoryPersistence","Starting transaction:",e);const i=new UTe(this.qr.next());return this.referenceDelegate.Wr(),r(i).next(s=>this.referenceDelegate.Gr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}zr(e,t){return E.or(Object.values(this.kr).map(r=>()=>r.containsKey(e,t)))}}class UTe extends uEe{constructor(e){super(),this.currentSequenceNumber=e}}class LI{constructor(e){this.persistence=e,this.jr=new UM,this.Hr=null}static Jr(e){return new LI(e)}get Yr(){if(this.Hr)return this.Hr;throw ee()}addReference(e,t,r){return this.jr.addReference(r,t),this.Yr.delete(r.toString()),E.resolve()}removeReference(e,t,r){return this.jr.removeReference(r,t),this.Yr.add(r.toString()),E.resolve()}markPotentiallyOrphaned(e,t){return this.Yr.add(t.toString()),E.resolve()}removeTarget(e,t){this.jr.mr(t.targetId).forEach(i=>this.Yr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Yr.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Wr(){this.Hr=new Set}Gr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return E.forEach(this.Yr,r=>{const i=G.fromPath(r);return this.Zr(e,i).next(s=>{s||t.removeEntry(i,ce.min())})}).next(()=>(this.Hr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Zr(e,t).next(r=>{r?this.Yr.delete(t.toString()):this.Yr.add(t.toString())})}$r(e){return 0}Zr(e,t){return E.or([()=>E.resolve(this.jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.zr(e,t)])}}class zM{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Qi=r,this.Ki=i}static $i(e,t){let r=Ae(),i=Ae();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new zM(e,t.fromCache,r,i)}}class $Te{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class p6{constructor(){this.Ui=!1,this.Wi=!1,this.Gi=100,this.zi=8}initialize(e,t){this.ji=e,this.indexManager=t,this.Ui=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.Hi(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Ji(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new $Te;return this.Yi(e,t,o).next(a=>{if(s.result=a,this.Wi)return this.Zi(e,t,o,a.size)})}).next(()=>s.result)}Zi(e,t,r,i){return r.documentReadCount<this.Gi?(Ud()<=Me.DEBUG&&F("QueryEngine","SDK will not create cache indexes for query:",Yd(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Gi,"documents"),E.resolve()):(Ud()<=Me.DEBUG&&F("QueryEngine","Query:",Yd(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.zi*i?(Ud()<=Me.DEBUG&&F("QueryEngine","The SDK decides to create cache indexes for query:",Yd(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wr(t))):E.resolve())}Hi(e,t){if(J7(t))return E.resolve(null);let r=Wr(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=SI(t,null,"F"),r=Wr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Ae(...s);return this.ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.Xi(t,a);return this.es(t,c,o,u.readTime)?this.Hi(e,SI(t,null,"F")):this.ts(e,c,t,u)}))})))}Ji(e,t,r,i){return J7(t)||i.isEqual(ce.min())?E.resolve(null):this.ji.getDocuments(e,r).next(s=>{const o=this.Xi(t,s);return this.es(t,o,r,i)?E.resolve(null):(Ud()<=Me.DEBUG&&F("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Yd(t)),this.ts(e,o,t,function _7(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ce.fromTimestamp(1e9===r?new qt(t+1,0):new qt(t,r));return new Mi(i,G.empty(),e)}(i,-1)).next(a=>a))})}Xi(e,t){let r=new Ct(tq(e));return t.forEach((i,s)=>{Pg(e,s)&&(r=r.add(s))}),r}es(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Yi(e,t,r){return Ud()<=Me.DEBUG&&F("QueryEngine","Using full collection scan to execute query:",Yd(t)),this.ji.getDocumentsMatchingQuery(e,t,Mi.min(),r)}ts(e,t,r,i){return this.ji.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class GTe{constructor(e,t,r,i){this.persistence=e,this.ns=t,this.serializer=i,this.rs=new St(ve),this.ss=new Wo(s=>mc(s),Mg),this.os=new Map,this._s=e.getRemoteDocumentCache(),this.Kr=e.getTargetCache(),this.Ur=e.getBundleCache(),this.us(r)}us(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new h6(this._s,this.mutationQueue,this.documentOverlayCache,this.indexManager),this._s.setIndexManager(this.indexManager),this.ns.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.rs))}}function m6(n,e){return qM.apply(this,arguments)}function qM(){return qM=v(function*(n,e){const t=j(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.us(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=Ae();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return t.localDocuments.getDocuments(r,u).next(c=>({cs:c,removedBatchIds:o,addedBatchIds:a}))})})}),qM.apply(this,arguments)}function _6(n){const e=j(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Kr.getLastRemoteSnapshotVersion(t))}function uh(n,e,t){return WM.apply(this,arguments)}function WM(){return WM=v(function*(n,e,t){const r=j(n),i=r.rs.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Ba(o))throw o;F("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.rs=r.rs.remove(e),r.ss.delete(i.target)}),WM.apply(this,arguments)}function jI(n,e,t){const r=j(n);let i=ce.min(),s=Ae();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,l){const d=j(u),h=d.ss.get(l);return void 0!==h?E.resolve(d.rs.get(h)):d.Kr.getTargetData(c,l)}(r,o,Wr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Kr.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ns.getDocumentsMatchingQuery(o,e,t?i:ce.min(),t?s:Ae())).next(a=>(function w6(n,e,t){let r=n.os.get(e)||ce.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.os.set(e,r)}(r,function eq(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,Ps:s})))}class XM{constructor(){this.activeTargetIds=function wM(){return WEe}()}Rs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}As(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class T6{constructor(){this.ro=new XM,this.io={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.ro.Rs(e),this.io[e]||"not-current"}updateQueryState(e,t,r){this.io[e]=t}removeLocalQueryTarget(e){this.ro.Vs(e)}isLocalQueryTarget(e){return this.ro.activeTargetIds.has(e)}clearQueryState(e){delete this.io[e]}getAllActiveQueryTargets(){return this.ro.activeTargetIds}isActiveQueryTarget(e){return this.ro.activeTargetIds.has(e)}start(){return this.ro=new XM,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class QTe{so(e){}shutdown(){}}class D6{constructor(){this.oo=()=>this._o(),this.ao=()=>this.uo(),this.co=[],this.lo()}so(e){this.co.push(e)}shutdown(){window.removeEventListener("online",this.oo),window.removeEventListener("offline",this.ao)}lo(){window.addEventListener("online",this.oo),window.addEventListener("offline",this.ao)}_o(){F("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.co)e(0)}uo(){F("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.co)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let HI=null;function eO(){return null===HI?HI=268435456+Math.round(2147483648*Math.random()):HI++,"0x"+HI.toString(16)}const YTe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class JTe{constructor(e){this.ho=e.ho,this.Po=e.Po}Io(e){this.To=e}Eo(e){this.Ao=e}onMessage(e){this.Ro=e}close(){this.Po()}send(e){this.ho(e)}Vo(){this.To()}mo(e){this.Ao(e)}fo(e){this.Ro(e)}}const Nr="WebChannelConnection";class XTe extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=r+"://"+t.host,this.yo=`projects/${i}/databases/${s}`,this.wo="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get So(){return!1}bo(t,r,i,s,o){const a=eO(),u=this.Do(t,r);F("RestConnection",`Sending RPC '${t}' ${a}:`,u,i);const c={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Co(c,s,o),this.vo(t,u,c,i).then(l=>(F("RestConnection",`Received RPC '${t}' ${a}: `,l),l),l=>{throw Ni("RestConnection",`RPC '${t}' ${a} failed with error: `,l,"url: ",u,"request:",i),l})}Fo(t,r,i,s,o,a){return this.bo(t,r,i,s,o)}Co(t,r,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Bd,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>t[o]=s),i&&i.headers.forEach((s,o)=>t[o]=s)}Do(t,r){return`${this.po}/v1/${r}:${YTe[t]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,i){const s=eO();return new Promise((o,a)=>{const u=new Ybe;u.setWithCredentials(!0),u.listenOnce(Kbe.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case sM.NO_ERROR:const l=u.getResponseJson();F(Nr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case sM.TIMEOUT:F(Nr,`RPC '${e}' ${s} timed out`),a(new P(C.DEADLINE_EXCEEDED,"Request time out"));break;case sM.HTTP_ERROR:const d=u.getStatus();if(F(Nr,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(m){const y=m.toLowerCase().replace(/_/g,"-");return Object.values(C).indexOf(y)>=0?y:C.UNKNOWN}(f.status);a(new P(p,f.message))}else a(new P(C.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new P(C.UNAVAILABLE,"Connection failed."));break;default:ee()}}finally{F(Nr,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);F(Nr,`RPC '${e}' ${s} sending request:`,i),u.send(t,"POST",c,r,15)})}Mo(e,t,r){const i=eO(),s=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=qbe(),a=Wbe(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Co(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;const l=s.join("");F(Nr,`Creating RPC '${e}' stream ${i}: ${l}`,u);const d=o.createWebChannel(l,u);let h=!1,f=!1;const p=new JTe({ho:m=>{f?F(Nr,`Not sending because RPC '${e}' stream ${i} is closed:`,m):(h||(F(Nr,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),F(Nr,`RPC '${e}' stream ${i} sending:`,m),d.send(m))},Po:()=>d.close()}),g=(m,y,_)=>{m.listen(y,w=>{try{_(w)}catch(S){setTimeout(()=>{throw S},0)}})};return g(d,pI.EventType.OPEN,()=>{f||F(Nr,`RPC '${e}' stream ${i} transport opened.`)}),g(d,pI.EventType.CLOSE,()=>{f||(f=!0,F(Nr,`RPC '${e}' stream ${i} transport closed`),p.mo())}),g(d,pI.EventType.ERROR,m=>{f||(f=!0,Ni(Nr,`RPC '${e}' stream ${i} transport errored:`,m),p.mo(new P(C.UNAVAILABLE,"The operation could not be completed")))}),g(d,pI.EventType.MESSAGE,m=>{var y;if(!f){const _=m.data[0];ae(!!_);const S=_.error||(null===(y=_[0])||void 0===y?void 0:y.error);if(S){F(Nr,`RPC '${e}' stream ${i} received error:`,S);const R=S.status;let M=function(nt){const Rt=En[nt];if(void 0!==Rt)return vq(Rt)}(R),J=S.message;void 0===M&&(M=C.INTERNAL,J="Unknown error status: "+R+" with message "+S.message),f=!0,p.mo(new P(M,J)),d.close()}else F(Nr,`RPC '${e}' stream ${i} received:`,_),p.fo(_)}}),g(a,Qbe.STAT_EVENT,m=>{m.stat===d7.PROXY?F(Nr,`RPC '${e}' stream ${i} detected buffering proxy`):m.stat===d7.NOPROXY&&F(Nr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.Vo()},0),p}}function zI(){return typeof document<"u"?document:null}function Xg(n){return new aTe(n,!0)}class tO{constructor(e,t,r=1e3,i=1.5,s=6e4){this._i=e,this.timerId=t,this.xo=r,this.Oo=i,this.No=s,this.Bo=0,this.Lo=null,this.ko=Date.now(),this.reset()}reset(){this.Bo=0}qo(){this.Bo=this.No}Qo(e){this.cancel();const t=Math.floor(this.Bo+this.Ko()),r=Math.max(0,Date.now()-this.ko),i=Math.max(0,t-r);i>0&&F("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Bo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Lo=this._i.enqueueAfterDelay(this.timerId,i,()=>(this.ko=Date.now(),e())),this.Bo*=this.Oo,this.Bo<this.xo&&(this.Bo=this.xo),this.Bo>this.No&&(this.Bo=this.No)}$o(){null!==this.Lo&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){null!==this.Lo&&(this.Lo.cancel(),this.Lo=null)}Ko(){return(Math.random()-.5)*this.Bo}}class ZTe{constructor(e,t,r,i,s,o,a,u){this._i=e,this.Uo=r,this.Wo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Go=0,this.zo=null,this.jo=null,this.stream=null,this.Ho=new tO(e,t)}Jo(){return 1===this.state||5===this.state||this.Yo()}Yo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Zo()}stop(){var e=this;return v(function*(){e.Jo()&&(yield e.close(0))})()}Xo(){this.state=0,this.Ho.reset()}e_(){this.Yo()&&null===this.zo&&(this.zo=this._i.enqueueAfterDelay(this.Uo,6e4,()=>this.t_()))}n_(e){this.r_(),this.stream.send(e)}t_(){var e=this;return v(function*(){if(e.Yo())return e.close(0)})()}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}close(e,t){var r=this;return v(function*(){r.r_(),r.i_(),r.Ho.cancel(),r.Go++,4!==e?r.Ho.reset():t&&t.code===C.RESOURCE_EXHAUSTED?(ln(t.toString()),ln("Using maximum backoff delay to prevent overloading the backend."),r.Ho.qo()):t&&t.code===C.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.s_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Eo(t)})()}s_(){}auth(){this.state=1;const e=this.o_(this.Go),t=this.Go;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Go===t&&this.__(r,i)},r=>{e(()=>{const i=new P(C.UNKNOWN,"Fetching auth token failed: "+r.message);return this.a_(i)})})}__(e,t){const r=this.o_(this.Go);this.stream=this.u_(e,t),this.stream.Io(()=>{r(()=>(this.state=2,this.jo=this._i.enqueueAfterDelay(this.Wo,1e4,()=>(this.Yo()&&(this.state=3),Promise.resolve())),this.listener.Io()))}),this.stream.Eo(i=>{r(()=>this.a_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Zo(){var e=this;this.state=5,this.Ho.Qo(v(function*(){e.state=0,e.start()}))}a_(e){return F("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}o_(e){return t=>{this._i.enqueueAndForget(()=>this.Go===e?t():(F("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class e1e extends ZTe{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}u_(e,t){return this.connection.Mo("Listen",e,t)}onMessage(e){this.Ho.reset();const t=function lTe(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:ee(),i=e.targetChange.targetIds||[],s=function(c,l){return c.useProto3Json?(ae(void 0===l||"string"==typeof l),kn.fromBase64String(l||"")):(ae(void 0===l||l instanceof Uint8Array),kn.fromUint8Array(l||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const l=void 0===c.code?C.UNKNOWN:vq(c.code);return new P(l,c.message||"")}(o);t=new Tq(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=no(n,r.document.name),s=dn(r.document.updateTime),o=r.document.createTime?dn(r.document.createTime):ce.min(),a=new fr({mapValue:{fields:r.document.fields}}),u=Mt.newFoundDocument(i,s,o,a);t=new RI(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=no(n,r.document),s=r.readTime?dn(r.readTime):ce.min(),o=Mt.newNoDocument(i,s);t=new RI([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=no(n,r.document);t=new RI([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return ee();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new tTe(i,s);t=new Eq(r.targetId,o)}}var c;return t}(this.serializer,e),r=function(s){if(!("targetChange"in s))return ce.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ce.min():o.readTime?dn(o.readTime):ce.min()}(e);return this.listener.c_(t,r)}l_(e){const t={};t.database=Gg(this.serializer),t.addTarget=function(s,o){let a;const u=o.target;if(a=EI(u)?{documents:Pq(s,u)}:{query:MM(s,u)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=function Aq(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}(s,o.resumeToken);const c=AM(s,o.expectedCount);null!==c&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ce.min())>0){a.readTime=function th(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}(s,o.snapshotVersion.toTimestamp());const c=AM(s,o.expectedCount);null!==c&&(a.expectedCount=c)}return a}(this.serializer,e);const r=function hTe(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ee()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.n_(t)}h_(e){const t={};t.database=Gg(this.serializer),t.removeTarget=e,this.n_(t)}}class n1e extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.R_=!1}V_(){if(this.R_)throw new P(C.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,r){return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.bo(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===C.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new P(C.UNKNOWN,i.toString())})}Fo(e,t,r,i){return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Fo(e,t,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===C.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new P(C.UNKNOWN,s.toString())})}terminate(){this.R_=!0}}class i1e{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.f_=0,this.g_=null,this.p_=!0}y_(){0===this.f_&&(this.w_("Unknown"),this.g_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.g_=null,this.S_("Backend didn't respond within 10 seconds."),this.w_("Offline"),Promise.resolve())))}b_(e){"Online"===this.state?this.w_("Unknown"):(this.f_++,this.f_>=1&&(this.D_(),this.S_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.w_("Offline")))}set(e){this.D_(),this.f_=0,"Online"===e&&(this.p_=!1),this.w_(e)}w_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}S_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.p_?(ln(t),this.p_=!1):F("OnlineStateTracker",t)}D_(){null!==this.g_&&(this.g_.cancel(),this.g_=null)}}class s1e{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.C_=[],this.v_=new Map,this.F_=new Set,this.M_=[],this.x_=s,this.x_.so(a=>{r.enqueueAndForget(v(function*(){var u;Ya(o)&&(F("RemoteStore","Restarting streams for network reachability change."),yield(u=v(function*(l){const d=j(l);d.F_.add(4),yield ch(d),d.O_.set("Unknown"),d.F_.delete(4),yield Zg(d)}),function c(l){return u.apply(this,arguments)})(o))}))}),this.O_=new i1e(r,i)}}function Zg(n){return rO.apply(this,arguments)}function rO(){return rO=v(function*(n){if(Ya(n))for(const e of n.M_)yield e(!0)}),rO.apply(this,arguments)}function ch(n){return iO.apply(this,arguments)}function iO(){return iO=v(function*(n){for(const e of n.M_)yield e(!1)}),iO.apply(this,arguments)}function qI(n,e){const t=j(n);t.v_.has(e.targetId)||(t.v_.set(e.targetId,e),aO(t)?oO(t):dh(t).Yo()&&sO(t,e))}function em(n,e){const t=j(n),r=dh(t);t.v_.delete(e),r.Yo()&&C6(t,e),0===t.v_.size&&(r.Yo()?r.e_():Ya(t)&&t.O_.set("Unknown"))}function sO(n,e){if(n.N_.Le(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ce.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}dh(n).l_(e)}function C6(n,e){n.N_.Le(e),dh(n).h_(e)}function oO(n){n.N_=new rTe({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.v_.get(e)||null,st:()=>n.datastore.serializer.databaseId}),dh(n).start(),n.O_.y_()}function aO(n){return Ya(n)&&!dh(n).Jo()&&n.v_.size>0}function Ya(n){return 0===j(n).F_.size}function A6(n){n.N_=void 0}function o1e(n){return uO.apply(this,arguments)}function uO(){return uO=v(function*(n){n.v_.forEach((e,t)=>{sO(n,e)})}),uO.apply(this,arguments)}function a1e(n,e){return cO.apply(this,arguments)}function cO(){return cO=v(function*(n,e){A6(n),aO(n)?(n.O_.b_(e),oO(n)):n.O_.set("Unknown")}),cO.apply(this,arguments)}function u1e(n,e,t){return lO.apply(this,arguments)}function lO(){return lO=v(function*(n,e,t){if(n.O_.set("Online"),e instanceof Tq&&2===e.state&&e.cause)try{yield(r=v(function*(s,o){const a=o.cause;for(const u of o.targetIds)s.v_.has(u)&&(yield s.remoteSyncer.rejectListen(u,a),s.v_.delete(u),s.N_.removeTarget(u))}),function i(s,o){return r.apply(this,arguments)})(n,e)}catch(r){F("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield WI(n,r)}else if(e instanceof RI?n.N_.Ge(e):e instanceof Eq?n.N_.Xe(e):n.N_.He(e),!t.isEqual(ce.min()))try{const r=yield _6(n.localStore);t.compareTo(r)>=0&&(yield function(s,o){const a=s.N_._t(o);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const l=s.v_.get(c);l&&s.v_.set(c,l.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,c)=>{const l=s.v_.get(u);if(!l)return;s.v_.set(u,l.withResumeToken(kn.EMPTY_BYTE_STRING,l.snapshotVersion)),C6(s,u);const d=new Qo(l.target,u,c,l.sequenceNumber);sO(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){F("RemoteStore","Failed to raise snapshot:",r),yield WI(n,r)}var r}),lO.apply(this,arguments)}function WI(n,e,t){return dO.apply(this,arguments)}function dO(){return dO=v(function*(n,e,t){if(!Ba(e))throw e;n.F_.add(1),yield ch(n),n.O_.set("Offline"),t||(t=()=>_6(n.localStore)),n.asyncQueue.enqueueRetryable(v(function*(){F("RemoteStore","Retrying IndexedDB access"),yield t(),n.F_.delete(1),yield Zg(n)}))}),dO.apply(this,arguments)}function M6(n,e){return _O.apply(this,arguments)}function _O(){return _O=v(function*(n,e){const t=j(n);t.asyncQueue.verifyOperationInProgress(),F("RemoteStore","RemoteStore received new credentials");const r=Ya(t);t.F_.add(3),yield ch(t),r&&t.O_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.F_.delete(3),yield Zg(t)}),_O.apply(this,arguments)}function vO(){return vO=v(function*(n,e){const t=j(n);e?(t.F_.delete(2),yield Zg(t)):e||(t.F_.add(2),yield ch(t),t.O_.set("Unknown"))}),vO.apply(this,arguments)}function dh(n){return n.B_||(n.B_=function(t,r,i){const s=j(t);return s.V_(),new e1e(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Io:o1e.bind(null,n),Eo:a1e.bind(null,n),c_:u1e.bind(null,n)}),n.M_.push(function(){var e=v(function*(t){t?(n.B_.Xo(),aO(n)?oO(n):n.O_.set("Unknown")):(yield n.B_.stop(),A6(n))});return function(t){return e.apply(this,arguments)}}())),n.B_}class IO{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Pn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new IO(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new P(C.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hh(n,e){if(ln("AsyncQueue",`${e}: ${n}`),Ba(n))return new P(C.UNAVAILABLE,`${e}: ${n}`);throw n}class fh{constructor(e){this.comparator=e?(t,r)=>e(t,r)||G.comparator(t.key,r.key):(t,r)=>G.comparator(t.key,r.key),this.keyedMap=kg(),this.sortedSet=new St(this.comparator)}static emptySet(e){return new fh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof fh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new fh;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class O6{constructor(){this.k_=new St(G.comparator)}track(e){const t=e.doc.key,r=this.k_.get(t);r?0!==e.type&&3===r.type?this.k_=this.k_.insert(t,e):3===e.type&&1!==r.type?this.k_=this.k_.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.k_=this.k_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.k_=this.k_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.k_=this.k_.remove(t):1===e.type&&2===r.type?this.k_=this.k_.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.k_=this.k_.insert(t,{type:2,doc:e.doc}):ee():this.k_=this.k_.insert(t,e)}q_(){const e=[];return this.k_.inorderTraversal((t,r)=>{e.push(r)}),e}}class ph{constructor(e,t,r,i,s,o,a,u,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new ph(e,t,fh.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Og(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class g1e{constructor(){this.Q_=void 0,this.listeners=[]}}class m1e{constructor(){this.queries=new Wo(e=>Z7(e),Og),this.onlineState="Unknown",this.K_=new Set}}function bO(){return bO=v(function*(n,e){const t=j(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new g1e),i)try{s.Q_=yield t.onListen(r)}catch(o){const a=hh(o,`Initialization of query '${Yd(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.listeners.push(e),e.U_(t.onlineState),s.Q_&&e.W_(s.Q_)&&DO(t)}),bO.apply(this,arguments)}function TO(){return TO=v(function*(n,e){const t=j(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),TO.apply(this,arguments)}function _1e(n,e){const t=j(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const a of o.listeners)a.W_(i)&&(r=!0);o.Q_=i}}r&&DO(t)}function y1e(n,e,t){const r=j(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function DO(n){n.K_.forEach(e=>{e.next()})}class SO{constructor(e,t,r){this.query=e,this.G_=t,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new ph(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.z_?this.H_(e)&&(this.G_.next(e),t=!0):this.J_(e,this.onlineState)&&(this.Y_(e),t=!0),this.j_=e,t}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let t=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),t=!0),t}J_(e,t){return!e.fromCache||(!this.options.Z_||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}H_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Y_(e){e=ph.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}class F6{constructor(e){this.key=e}}class V6{constructor(e){this.key=e}}class L6{constructor(e,t){this.query=e,this.oa=t,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=Ae(),this.mutatedKeys=Ae(),this.ua=tq(e),this.ca=new fh(this.ua)}get la(){return this.oa}ha(e,t){const r=t?t.Pa:new O6,i=t?t.ca:this.ca;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=Pg(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let m=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),m=!0):this.Ia(h,f)||(r.track({type:2,doc:f}),m=!0,(u&&this.ua(f,u)>0||c&&this.ua(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),m=!0):h&&!f&&(r.track({type:1,doc:h}),m=!0,(u||c)&&(a=!0)),m&&(f?(o=o.add(f),s=g?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ca:o,Pa:r,es:a,mutatedKeys:s}}Ia(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const s=e.Pa.q_();s.sort((c,l)=>function(h,f){const p=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ee()}};return p(h)-p(f)}(c.type,l.type)||this.ua(c.doc,l.doc)),this.da(r);const o=t?this.Ta():[],a=0===this.aa.size&&this.current?1:0,u=a!==this._a;return this._a=a,0!==s.length||u?{snapshot:new ph(this.query,e.ca,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ea:o}:{Ea:o}}U_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new O6,mutatedKeys:this.mutatedKeys,es:!1},!1)):{Ea:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}da(e){e&&(e.addedDocuments.forEach(t=>this.oa=this.oa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.oa=this.oa.delete(t)),this.current=e.current)}Ta(){if(!this.current)return[];const e=this.aa;this.aa=Ae(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const t=[];return e.forEach(r=>{this.aa.has(r)||t.push(new V6(r))}),this.aa.forEach(r=>{e.has(r)||t.push(new F6(r))}),t}Ra(e){this.oa=e.Ps,this.aa=Ae();const t=this.ha(e.documents);return this.applyChanges(t,!0)}Va(){return ph.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,0===this._a,this.hasCachedResults)}}class w1e{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class b1e{constructor(e){this.key=e,this.ma=!1}}class E1e{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new Wo(a=>Z7(a),Og),this.pa=new Map,this.ya=new Set,this.wa=new St(G.comparator),this.Sa=new Map,this.ba=new UM,this.Da={},this.Ca=new Map,this.va=Tc.Ln(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return!0===this.Fa}}function T1e(n,e){return CO.apply(this,arguments)}function CO(){return CO=v(function*(n,e){const t=function YO(n){const e=j(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=B6.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=O1e.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=C1e.bind(null,e),e.fa.c_=_1e.bind(null,e.eventManager),e.fa.xa=y1e.bind(null,e.eventManager),e}(n);let r,i;const s=t.ga.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{const o=yield function ah(n,e){const t=j(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Kr.getTargetData(r,e).next(s=>s?(i=s,E.resolve(i)):t.Kr.allocateTargetId(r).next(o=>(i=new Qo(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Kr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.rs.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.rs=t.rs.insert(r.targetId,r),t.ss.set(e,r.targetId)),r})}(t.localStore,Wr(e)),a=t.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function AO(n,e,t,r,i){return xO.apply(this,arguments)}(t,e,r,"current"===a,o.resumeToken),t.isPrimaryClient&&qI(t.remoteStore,o)}return i}),CO.apply(this,arguments)}function xO(){return xO=v(function*(n,e,t,r,i){n.Ma=(d,h,f)=>{return(p=v(function*(m,y,_,w){let S=y.view.ha(_);S.es&&(S=yield jI(m.localStore,y.query,!1).then(({documents:J})=>y.view.ha(J,S)));const R=w&&w.targetChanges.get(y.targetId),M=y.view.applyChanges(S,m.isPrimaryClient,R);return BO(m,y.targetId,M.Ea),M.snapshot}),function g(m,y,_,w){return p.apply(this,arguments)})(n,d,h,f);var p};const s=yield jI(n.localStore,e,!0),o=new L6(e,s.Ps),a=o.ha(s.documents),u=jg.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),c=o.applyChanges(a,n.isPrimaryClient,u);BO(n,t,c.Ea);const l=new w1e(e,t,o);return n.ga.set(e,l),n.pa.has(t)?n.pa.get(t).push(e):n.pa.set(t,[e]),c.snapshot}),xO.apply(this,arguments)}function D1e(n,e){return RO.apply(this,arguments)}function RO(){return RO=v(function*(n,e){const t=j(n),r=t.ga.get(e),i=t.pa.get(r.targetId);if(i.length>1)return t.pa.set(r.targetId,i.filter(s=>!Og(s,e))),void t.ga.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield uh(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),em(t.remoteStore,r.targetId),gh(t,r.targetId)}).catch(La))):(gh(t,r.targetId),yield uh(t.localStore,r.targetId,!0))}),RO.apply(this,arguments)}function B6(n,e){return MO.apply(this,arguments)}function MO(){return MO=v(function*(n,e){const t=j(n);try{const r=yield function zTe(n,e){const t=j(n),r=e.snapshotVersion;let i=t.rs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t._s.newChangeBuffer({trackRemovals:!0});i=t.rs;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(t.Kr.removeMatchingKeys(s,l.removedDocuments,d).next(()=>t.Kr.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var g,m,y;null!==e.targetMismatches.get(d)?f=f.withResumeToken(kn.EMPTY_BYTE_STRING,ce.min()).withLastLimboFreeSnapshotVersion(ce.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),m=f,y=l,(0===(g=h).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8||y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0)&&a.push(t.Kr.updateTargetData(s,f))});let u=pi(),c=Ae();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function y6(n,e,t){let r=Ae(),i=Ae();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=pi();return t.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ce.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):F("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{ls:o,hs:i}})}(s,o,e.documentUpdates).next(l=>{u=l.ls,c=l.hs})),!r.isEqual(ce.min())){const l=t.Kr.getLastRemoteSnapshotVersion(s).next(d=>t.Kr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return E.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(t.rs=i,s))}(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.Sa.get(s);o&&(ae(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ma=!0:i.modifiedDocuments.size>0?ae(o.ma):i.removedDocuments.size>0&&(ae(o.ma),o.ma=!1))}),yield Yo(t,r,e)}catch(r){yield La(r)}}),MO.apply(this,arguments)}function U6(n,e,t){const r=j(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ga.forEach((s,o)=>{const a=o.view.U_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=j(o);u.onlineState=a;let c=!1;u.queries.forEach((l,d)=>{for(const h of d.listeners)h.U_(a)&&(c=!0)}),c&&DO(u)}(r.eventManager,e),i.length&&r.fa.c_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function C1e(n,e,t){return OO.apply(this,arguments)}function OO(){return OO=v(function*(n,e,t){const r=j(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Sa.get(e),s=i&&i.key;if(s){let o=new St(G.comparator);o=o.insert(s,Mt.newNoDocument(s,ce.min()));const a=Ae().add(s),u=new Ug(ce.min(),new Map,new St(ve),o,a);yield B6(r,u),r.wa=r.wa.remove(s),r.Sa.delete(e),UO(r)}else yield uh(r.localStore,e,!1).then(()=>gh(r,e,t)).catch(La)}),OO.apply(this,arguments)}function gh(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.pa.get(e))n.ga.delete(r),t&&n.fa.xa(r,t);n.pa.delete(e),n.isPrimaryClient&&n.ba.mr(e).forEach(r=>{n.ba.containsKey(r)||j6(n,r)})}function j6(n,e){n.ya.delete(e.path.canonicalString());const t=n.wa.get(e);null!==t&&(em(n.remoteStore,t),n.wa=n.wa.remove(e),n.Sa.delete(t),UO(n))}function BO(n,e,t){for(const r of t)r instanceof F6?(n.ba.addReference(r.key,e),N1e(n,r)):r instanceof V6?(F("SyncEngine","Document no longer in limbo: "+r.key),n.ba.removeReference(r.key,e),n.ba.containsKey(r.key)||j6(n,r.key)):ee()}function N1e(n,e){const t=e.key,r=t.path.canonicalString();n.wa.get(t)||n.ya.has(r)||(F("SyncEngine","New document in limbo: "+t),n.ya.add(r),UO(n))}function UO(n){for(;n.ya.size>0&&n.wa.size<n.maxConcurrentLimboResolutions;){const e=n.ya.values().next().value;n.ya.delete(e);const t=new G(He.fromString(e)),r=n.va.next();n.Sa.set(r,new b1e(t)),n.wa=n.wa.insert(t,r),qI(n.remoteStore,new Qo(Wr(Kd(t.path)),r,"TargetPurposeLimboResolution",Oi.ae))}}function Yo(n,e,t){return jO.apply(this,arguments)}function jO(){return jO=v(function*(n,e,t){const r=j(n),i=[],s=[],o=[];var a;r.ga.isEmpty()||(r.ga.forEach((a,u)=>{o.push(r.Ma(u,e,t).then(c=>{if((c||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=zM.$i(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.fa.c_(i),yield(a=v(function*(c,l){const d=j(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>E.forEach(l,f=>E.forEach(f.Qi,p=>d.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>E.forEach(f.Ki,p=>d.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!Ba(h))throw h;F("LocalStore","Failed to update sequence numbers: "+h)}for(const h of l){const f=h.targetId;if(!h.fromCache){const p=d.rs.get(f),m=p.withLastLimboFreeSnapshotVersion(p.snapshotVersion);d.rs=d.rs.insert(f,m)}}}),function u(c,l){return a.apply(this,arguments)})(r.localStore,s))}),jO.apply(this,arguments)}function M1e(n,e){return $O.apply(this,arguments)}function $O(){return $O=v(function*(n,e){const t=j(n);if(!t.currentUser.isEqual(e)){F("SyncEngine","User change. New user:",e.toKey());const r=yield m6(t.localStore,e);t.currentUser=e,(s=t).Ca.forEach(a=>{a.forEach(u=>{u.reject(new P(C.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.Ca.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Yo(t,r.cs)}var s}),$O.apply(this,arguments)}function O1e(n,e){const t=j(n),r=t.Sa.get(e);if(r&&r.ma)return Ae().add(r.key);{let i=Ae();const s=t.pa.get(e);if(!s)return i;for(const o of s){const a=t.ga.get(o);i=i.unionWith(a.view.la)}return i}}class KI{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return v(function*(){t.serializer=Xg(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function g6(n,e,t,r){return new GTe(n,e,t,r)}(this.persistence,new p6,e.initialUser,this.serializer)}createPersistence(e){return new jM(LI.Jr,this.serializer)}createSharedClientState(e){return new T6}terminate(){var e=this;return v(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class mh{initialize(e,t){var r=this;return v(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>U6(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=M1e.bind(null,r.syncEngine),yield function yO(n,e){return vO.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new m1e}createDatastore(e){const t=Xg(e.databaseInfo.databaseId),r=new XTe(e.databaseInfo);return new n1e(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return r=this.localStore,i=this.datastore,s=e.asyncQueue,o=t=>U6(this.syncEngine,t,0),a=D6.C()?new D6:new QTe,new s1e(r,i,s,o,a);var r,i,s,o,a}createSyncEngine(e,t){return function(i,s,o,a,u,c,l){const d=new E1e(i,s,o,a,u,c);return l&&(d.Fa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return function(){var e=v(function*(r){const i=j(r);F("RemoteStore","RemoteStore shutting down."),i.F_.add(5),yield ch(i),i.x_.shutdown(),i.O_.set("Unknown")});return function t(r){return e.apply(this,arguments)}}()(this.remoteStore)}}class QI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):ln("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class q1e{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=qn.UNAUTHENTICATED,this.clientId=g7.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=v(function*(a){F("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(F("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return v(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new P(C.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Pn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(v(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=hh(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function YI(n,e){return XO.apply(this,arguments)}function XO(){return XO=v(function*(n,e){n.asyncQueue.verifyOperationInProgress(),F("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=v(function*(s){r.isEqual(s)||(yield m6(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),XO.apply(this,arguments)}function ZO(n,e){return eP.apply(this,arguments)}function eP(){return eP=v(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function tP(n){return nP.apply(this,arguments)}(n);F("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>M6(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>M6(e.remoteStore,s)),n._onlineComponents=e}),eP.apply(this,arguments)}function nP(){return nP=v(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){F("FirestoreClient","Using user provided OfflineComponentProvider");try{yield YI(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function W6(n){return"FirebaseError"===n.name?n.code===C.FAILED_PRECONDITION||n.code===C.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;Ni("Error using user provided cache. Falling back to memory cache: "+t),yield YI(n,new KI)}}else F("FirestoreClient","Using default OfflineComponentProvider"),yield YI(n,new KI);return n._offlineComponents}),nP.apply(this,arguments)}function rP(){return rP=v(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(F("FirestoreClient","Using user provided OnlineComponentProvider"),yield ZO(n,n._uninitializedComponentsProvider._online)):(F("FirestoreClient","Using default OnlineComponentProvider"),yield ZO(n,new mh))),n._onlineComponents}),rP.apply(this,arguments)}function yh(n){return sP.apply(this,arguments)}function sP(){return sP=v(function*(n){const e=yield function JI(n){return rP.apply(this,arguments)}(n),t=e.eventManager;return t.onListen=T1e.bind(null,e.syncEngine),t.onUnlisten=D1e.bind(null,e.syncEngine),t}),sP.apply(this,arguments)}function Z6(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const e8=new Map;function Le(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new P(C.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=function XI(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(r=n).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof n?"a function":ee()}(n);throw new P(C.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class i8{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new P(C.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new P(C.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function rDe(n,e,t,r){if(!0===e&&!0===r)throw new P(C.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Z6(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new P(C.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new P(C.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new P(C.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class tm{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new i8({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new P(C.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new P(C.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new i8(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new Xbe;switch(r.type){case"firstParty":return new nEe(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new P(C.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=e8.get(t);r&&(F("ComponentProvider","Removing Datastore"),e8.delete(t),r.terminate())}(this),Promise.resolve()}}class pr{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new pr(this.firestore,e,this._query)}}class hn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ro(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hn(this.firestore,e,this._key)}}class ro extends pr{constructor(e,t,r){super(e,t,Kd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hn(this.firestore,null,new G(e))}withConverter(e){return new ro(this.firestore,e,this._path)}}class oDe{constructor(){this.Za=Promise.resolve(),this.Xa=[],this.eu=!1,this.tu=[],this.nu=null,this.ru=!1,this.iu=!1,this.su=[],this.Ho=new tO(this,"async_queue_retry"),this.ou=()=>{const t=zI();t&&F("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Ho.$o()};const e=zI();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.ou)}get isShuttingDown(){return this.eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this._u(),this.au(e)}enterRestrictedMode(e){if(!this.eu){this.eu=!0,this.iu=e||!1;const t=zI();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.ou)}}enqueue(e){if(this._u(),this.eu)return new Promise(()=>{});const t=new Pn;return this.au(()=>this.eu&&this.iu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xa.push(e),this.uu()))}uu(){var e=this;return v(function*(){if(0!==e.Xa.length){try{yield e.Xa[0](),e.Xa.shift(),e.Ho.reset()}catch(t){if(!Ba(t))throw t;F("AsyncQueue","Operation failed with retryable error: "+t)}e.Xa.length>0&&e.Ho.Qo(()=>e.uu())}})()}au(e){const t=this.Za.then(()=>(this.ru=!0,e().catch(r=>{throw this.nu=r,this.ru=!1,ln("INTERNAL UNHANDLED ERROR: ",function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(r)),r}).then(r=>(this.ru=!1,r))));return this.Za=t,t}enqueueAfterDelay(e,t,r){this._u(),this.su.indexOf(e)>-1&&(t=0);const i=IO.createAndSchedule(this,e,t,r,s=>this.cu(s));return this.tu.push(i),i}_u(){this.nu&&ee()}verifyOperationInProgress(){}lu(){var e=this;return v(function*(){let t;do{t=e.Za,yield t}while(t!==e.Za)})()}hu(e){for(const t of this.tu)if(t.timerId===e)return!0;return!1}Pu(e){return this.lu().then(()=>{this.tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.tu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.lu()})}Iu(e){this.su.push(e)}cu(e){const t=this.tu.indexOf(e);this.tu.splice(t,1)}}function aP(n){return function(t,r){if("object"!=typeof t||null===t)return!1;const i=t;for(const s of["next","error","complete"])if(s in i&&"function"==typeof i[s])return!0;return!1}(n)}class At extends tm{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new oDe,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||o8(this),this._firestoreClient.terminate()}}function o8(n){var e,t,r;const i=n._freezeSettings(),s=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new MEe(n._databaseId,u,n._persistenceKey,(l=i).host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,Z6(l.experimentalLongPollingOptions),l.useFetchStreams));var u,l;n._firestoreClient=new q1e(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(t=i.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class Sc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Sc(kn.fromBase64String(e))}catch(t){throw new P(C.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Sc(kn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class vh{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new P(C.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class uP{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new P(C.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new P(C.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ve(this._lat,e._lat)||ve(this._long,e._long)}}const gDe=new RegExp("[~\\*/\\[\\]]");function tw(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new P(C.INVALID_ARGUMENT,a+n+u)}class hP{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new hn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new mDe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(nw("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class mDe extends hP{data(){return super.data()}}function nw(n,e){return"string"==typeof e?function ew(n,e,t){if(e.search(gDe)>=0)throw tw(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new vh(...e.split("."))._internalPath}catch{throw tw(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}(n,e):e instanceof vh?e._internalPath:e._delegate._internalPath}class yDe{convertValue(e,t="none"){switch(Ga(e)){case 0:return null;case 1:return e.booleanValue;case 2:return en(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(zo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ee()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ua(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new uP(en(e.latitude),en(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=vI(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Ag(e));default:return null}}convertTimestamp(e){const t=ja(e);return new qt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=He.fromString(e);ae(Lq(r));const i=new pc(r.get(1),r.get(3)),s=new G(r.popFirst(5));return i.isEqual(t)||ln(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}class Ac{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bh extends hP{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ow(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(nw("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class ow extends bh{data(e={}){return super.data(e)}}class Eh{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Ac(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new ow(this._firestore,this._userDataWriter,r.key,r,new Ac(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new P(C.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new ow(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ac(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||3!==a.type).map(a=>{const u=new ow(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ac(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,l=-1;return 0!==a.type&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),1!==a.type&&(o=o.add(a.doc),l=o.indexOf(a.doc.key)),{type:IDe(a.type),doc:u,oldIndex:c,newIndex:l}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function IDe(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ee()}}class Xa extends yDe{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new hn(this.firestore,null,t)}}!function(e,t=!0){Bd="10.4.0",xi(new wn("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new At(new eEe(r.getProvider("auth-internal")),new rEe(r.getProvider("app-check-internal")),function(c,l){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new P(C.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pc(c.options.projectId,l)}(o,i),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),li(h7,"4.2.0",e),li(h7,"4.2.0","esm2017")}();var cw=function(){return cw=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var s in t=arguments[r])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},cw.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var PDe={includeMetadataChanges:!1};function yP(n,e){return void 0===e&&(e=PDe),new Ye(function(t){var r=function wDe(n,...e){var t,r,i;n=Aa(n);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||aP(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(aP(e[o])){const d=e[o];e[o]=null===(t=d.next)||void 0===t?void 0:t.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,c,l;if(n instanceof hn)c=Le(n.firestore,At),l=Kd(n._key.path),u={next:d=>{e[o]&&e[o](function gP(n,e,t){const r=t.docs.get(e._key),i=new Xa(n);return new bh(n,i,e._key,r,new Ac(t.hasPendingWrites,t.fromCache),e.converter)}(c,n,d))},error:e[o+1],complete:e[o+2]};else{const d=Le(n,pr);c=Le(d.firestore,At),l=d._query;const h=new Xa(c);u={next:f=>{e[o]&&e[o](new Eh(c,h,d,f))},error:e[o+1],complete:e[o+2]},function v8(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new P(C.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query)}return function(h,f,p,g){const m=new QI(g),y=new SO(f,m,p);return h.asyncQueue.enqueueAndForget(v(function*(){return function wO(n,e){return bO.apply(this,arguments)}(yield yh(h),y)})),()=>{m.La(),h.asyncQueue.enqueueAndForget(v(function*(){return function EO(n,e){return TO.apply(this,arguments)}(yield yh(h),y)}))}}(function fn(n){return n._firestoreClient||o8(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}(c),l,a,u)}(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function jDe(n,e){return void 0===e&&(e={}),function UDe(n){return yP(n,{includeMetadataChanges:!0}).pipe(Fe(function(e){return e.docs}))}(n).pipe(Fe(function(t){return t.map(function(r){return function x8(n,e){var t;void 0===e&&(e={});var r=n.data(e);return n.exists()&&"object"==typeof r&&null!==r&&e.idField?cw(cw({},r),((t={})[e.idField]=n.id,t)):r}(r,e)})}))}var K,GDe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ts={},wP=wP||{},Te=GDe||self;function lw(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function am(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var bP="closure_uid_"+(1e9*Math.random()>>>0),zDe=0;function qDe(n,e,t){return n.call.apply(n.bind,arguments)}function WDe(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Mr(n,e,t){return(Mr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?qDe:WDe).apply(null,arguments)}function dw(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Qn(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Za(){this.s=this.s,this.o=this.o}Za.prototype.s=!1,Za.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function HDe(n){Object.prototype.hasOwnProperty.call(n,bP)&&n[bP]||(n[bP]=++zDe)}(this)},Za.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const O8=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function EP(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function P8(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(lw(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let o=0;o<s;o++)n[i+o]=r[o]}else n.push(r)}}function Or(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Or.prototype.h=function(){this.defaultPrevented=!0};var QDe=function(){if(!Te.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Te.addEventListener("test",()=>{},e),Te.removeEventListener("test",()=>{},e)}catch{}return n}();function um(n){return/^[\s\xa0]*$/.test(n)}function hw(){var n=Te.navigator;return n&&(n=n.userAgent)?n:""}function io(n){return-1!=hw().indexOf(n)}function TP(n){return TP[" "](n),n}TP[" "]=function(){};var SP,JDe=io("Opera"),Th=io("Trident")||io("MSIE"),k8=io("Edge"),DP=k8||Th,F8=io("Gecko")&&!(-1!=hw().toLowerCase().indexOf("webkit")&&!io("Edge"))&&!(io("Trident")||io("MSIE"))&&!io("Edge"),XDe=-1!=hw().toLowerCase().indexOf("webkit")&&!io("Edge");function V8(){var n=Te.document;return n?n.documentMode:void 0}e:{var CP="",AP=function(){var n=hw();return F8?/rv:([^\);]+)(\)|;)/.exec(n):k8?/Edge\/([\d\.]+)/.exec(n):Th?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):XDe?/WebKit\/(\S+)/.exec(n):JDe?/(?:Version)[ \/]?(\S+)/.exec(n):void 0}();if(AP&&(CP=AP?AP[1]:""),Th){var xP=V8();if(null!=xP&&xP>parseFloat(CP)){SP=String(xP);break e}}SP=CP}var ZDe=Te.document&&Th&&(V8()||parseInt(SP,10))||void 0;function cm(n,e){if(Or.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(F8){e:{try{TP(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:eSe[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&cm.$.h.call(this)}}Qn(cm,Or);var eSe={2:"touch",3:"pen",4:"mouse"};cm.prototype.h=function(){cm.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var lm="closure_listenable_"+(1e6*Math.random()|0),tSe=0;function nSe(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++tSe,this.fa=this.ia=!1}function fw(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function NP(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function B8(n){const e={};for(const t in n)e[t]=n[t];return e}const U8="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j8(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<U8.length;s++)t=U8[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function pw(n){this.src=n,this.g={},this.h=0}function MP(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=O8(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(fw(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function OP(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==r)return i}return-1}pw.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=OP(n,e,r,i);return-1<o?(e=n[o],t||(e.ia=!1)):((e=new nSe(e,this.src,s,!!r,i)).ia=t,n.push(e)),e};var PP="closure_lm_"+(1e6*Math.random()|0),kP={};function $8(n,e,t,r,i){if(r&&r.once)return H8(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)$8(n,e[s],t,r,i);return null}return t=BP(t),n&&n[lm]?n.O(e,t,am(r)?!!r.capture:!!r,i):G8(n,e,t,!1,r,i)}function G8(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=am(i)?!!i.capture:!!i,a=VP(n);if(a||(n[PP]=a=new pw(n)),(t=a.add(e,t,r,o,s)).proxy)return t;if(r=function iSe(){const e=sSe;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)QDe||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(q8(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function H8(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)H8(n,e[s],t,r,i);return null}return t=BP(t),n&&n[lm]?n.P(e,t,am(r)?!!r.capture:!!r,i):G8(n,e,t,!0,r,i)}function z8(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)z8(n,e[s],t,r,i);else r=am(r)?!!r.capture:!!r,t=BP(t),n&&n[lm]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=OP(s=n.g[e],t,r,i))&&(fw(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=VP(n))&&(e=n.g[e.toString()],n=-1,e&&(n=OP(e,t,r,i)),(t=-1<n?e[n]:null)&&FP(t))}function FP(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[lm])MP(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(q8(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=VP(e))?(MP(t,n),0==t.h&&(t.src=null,e[PP]=null)):fw(n)}}}function q8(n){return n in kP?kP[n]:kP[n]="on"+n}function sSe(n,e){if(n.fa)n=!0;else{e=new cm(e,this);var t=n.listener,r=n.la||n.src;n.ia&&FP(n),n=t.call(r,e)}return n}function VP(n){return(n=n[PP])instanceof pw?n:null}var LP="__closure_events_fn_"+(1e9*Math.random()>>>0);function BP(n){return"function"==typeof n?n:(n[LP]||(n[LP]=function(e){return n.handleEvent(e)}),n[LP])}function Yn(){Za.call(this),this.i=new pw(this),this.S=this,this.J=null}function gr(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Or(e,n);else if(e instanceof Or)e.target=e.target||n;else{var i=e;j8(e=new Or(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=gw(o,r,!0,e)&&i}if(i=gw(o=e.g=n,r,!0,e)&&i,i=gw(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=gw(o=e.g=t[s],r,!1,e)&&i}function gw(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==t){var a=o.listener,u=o.la||o.src;o.ia&&MP(n.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Qn(Yn,Za),Yn.prototype[lm]=!0,Yn.prototype.removeEventListener=function(n,e,t,r){z8(this,n,e,t,r)},Yn.prototype.N=function(){if(Yn.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)fw(t[r]);delete n.g[e],n.h--}}this.J=null},Yn.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Yn.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var UP=Te.JSON.stringify;function aSe(){var n=jP;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var W8=new class oSe{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new cSe,n=>n.reset());class cSe{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function lSe(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function dSe(n){Te.setTimeout(()=>{throw n},0)}let dm,hm=!1,jP=new class uSe{constructor(){this.h=this.g=null}add(e,t){const r=W8.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},K8=()=>{const n=Te.Promise.resolve(void 0);dm=()=>{n.then(hSe)}};var hSe=()=>{for(var n;n=aSe();){try{n.h.call(n.g)}catch(t){dSe(t)}var e=W8;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}hm=!1};function mw(n,e){Yn.call(this),this.h=n||1,this.g=e||Te,this.j=Mr(this.qb,this),this.l=Date.now()}function $P(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function GP(n,e,t){if("function"==typeof n)t&&(n=Mr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Mr(n.handleEvent,n)}return 2147483647<Number(e)?-1:Te.setTimeout(n,e||0)}function Q8(n){n.g=GP(()=>{n.g=null,n.i&&(n.i=!1,Q8(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Qn(mw,Yn),(K=mw.prototype).ga=!1,K.T=null,K.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),gr(this,"tick"),this.ga&&($P(this),this.start()))}},K.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},K.N=function(){mw.$.N.call(this),$P(this),delete this.g};class fSe extends Za{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Q8(this)}N(){super.N(),this.g&&(Te.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fm(n){Za.call(this),this.h=n,this.g={}}Qn(fm,Za);var Y8=[];function J8(n,e,t,r){Array.isArray(t)||(t&&(Y8[0]=t.toString()),t=Y8);for(var i=0;i<t.length;i++){var s=$8(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function X8(n){NP(n.g,function(e,t){this.g.hasOwnProperty(t)&&FP(e)},n),n.g={}}function _w(){this.g=!0}function Dh(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function _Se(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return UP(t)}catch{return e}}(n,t)+(r?" "+r:"")})}fm.prototype.N=function(){fm.$.N.call(this),X8(this)},fm.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},_w.prototype.Ea=function(){this.g=!1},_w.prototype.info=function(){};var xc={},Z8=null;function yw(){return Z8=Z8||new Yn}function eW(n){Or.call(this,xc.Ta,n)}function pm(n){const e=yw();gr(e,new eW(e))}function tW(n,e){Or.call(this,xc.STAT_EVENT,n),this.stat=e}function Kr(n){const e=yw();gr(e,new tW(e,n))}function nW(n,e){Or.call(this,xc.Ua,n),this.size=e}function gm(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Te.setTimeout(function(){n()},e)}xc.Ta="serverreachability",Qn(eW,Or),xc.STAT_EVENT="statevent",Qn(tW,Or),xc.Ua="timingevent",Qn(nW,Or);var vw={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},rW={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function HP(){}function sW(){}HP.prototype.h=null;var WP,mm={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function zP(){Or.call(this,"d")}function qP(){Or.call(this,"c")}function Iw(){}function _m(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new fm(this),this.P=ySe,this.V=new mw(n=DP?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new oW}function oW(){this.i=null,this.g="",this.h=!1}Qn(zP,Or),Qn(qP,Or),Qn(Iw,HP),Iw.prototype.g=function(){return new XMLHttpRequest},Iw.prototype.i=function(){return{}},WP=new Iw;var ySe=45e3,KP={},ww={};function QP(n,e,t){n.L=1,n.v=Dw(Jo(e)),n.s=t,n.S=!0,aW(n,null)}function aW(n,e){n.G=Date.now(),ym(n),n.A=Jo(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),_W(t.i,"t",r),n.C=0,t=n.l.J,n.h=new oW,n.g=jW(n.l,t?e:null,!n.s),0<n.O&&(n.M=new fSe(Mr(n.Pa,n,n.g),n.O)),J8(n.U,n.g,"readystatechange",n.nb),e=n.I?B8(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),pm(),function pSe(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.W,n.s)}function uW(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function cW(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=vSe(n,t),i==ww){4==e&&(n.o=4,Kr(14),r=!1),Dh(n.j,n.m,null,"[Incomplete Response]");break}if(i==KP){n.o=4,Kr(15),Dh(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Dh(n.j,n.m,i,null),YP(n,i)}uW(n)&&i!=ww&&i!=KP&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Kr(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),rk(e),e.M=!0,Kr(11))):(Dh(n.j,n.m,t,"[Invalid Chunked Response]"),Rc(n),vm(n))}function vSe(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?ww:(t=Number(e.substring(t,r)),isNaN(t)?KP:(r+=1)+t>e.length?ww:(e=e.slice(r,r+t),n.C=r+t,e))}function ym(n){n.Y=Date.now()+n.P,lW(n,n.P)}function lW(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=gm(Mr(n.lb,n),e)}function bw(n){n.B&&(Te.clearTimeout(n.B),n.B=null)}function vm(n){0==n.l.H||n.J||VW(n.l,n)}function Rc(n){bw(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,$P(n.V),X8(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function YP(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||JP(t.i,n)))if(!n.K&&JP(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Nw(t),xw(t)}nk(t),Kr(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=gm(Mr(t.ib,t),6e3));if(1>=IW(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Mc(t,11)}else if((n.K||t.g==n)&&Nw(t),!um(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(t.V=c[0],c=c[1],2==t.H)if("c"==c[0]){t.K=c[1],t.pa=c[2];const l=c[3];null!=l&&(t.ra=l,t.l.info("VER="+t.ra));const d=c[4];null!=d&&(t.Ga=d,t.l.info("SVER="+t.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(t.L=r=1.5*h,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const f=n.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(XP(s,s.h),s.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,Ot(r.I,r.F,g))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var o=n;if((r=t).wa=UW(r,r.J?r.pa:null,r.Y),o.K){wW(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(bw(a),ym(a)),r.g=o}else kW(r);0<t.j.length&&Rw(t)}else"stop"!=c[0]&&"close"!=c[0]||Mc(t,7);else 3==t.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Mc(t,7):tk(t):"noop"!=c[0]&&t.h&&t.h.Aa(c),t.A=0)}pm()}catch{}}function dW(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(lw(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function wSe(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(lw(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function ISe(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(lw(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(K=_m.prototype).setTimeout=function(n){this.P=n},K.nb=function(n){n=n.target;const e=this.M;e&&3==so(n)?e.l():this.Pa(n)},K.Pa=function(n){try{if(n==this.g)e:{const l=so(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||DP||this.g&&(this.h.h||this.g.ja()||xW(this.g)))){this.J||4!=l||7==e||pm(),bw(this);var t=this.g.da();this.ca=t;t:if(uW(this)){var r=xW(this.g);n="";var i=r.length,s=4==so(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Rc(this),vm(this);var o="";break t}this.h.i=new Te.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==t,function gSe(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,l,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!um(a)){var c=a;break t}}c=null}if(!(t=c)){this.i=!1,this.o=3,Kr(12),Rc(this),vm(this);break e}Dh(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,YP(this,t)}this.S?(cW(this,l,o),DP&&this.i&&3==l&&(J8(this.U,this.V,"tick",this.mb),this.V.start())):(Dh(this.j,this.m,o,null),YP(this,o)),4==l&&Rc(this),this.i&&!this.J&&(4==l?VW(this.l,this):(this.i=!1,ym(this)))}else(function BSe(n){const e={};n=(n.g&&2<=so(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(um(n[r]))continue;var t=lSe(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const s=e[i]||[];e[i]=s,s.push(t)}!function rSe(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<o.indexOf("Unknown SID")?(this.o=3,Kr(12)):(this.o=0,Kr(13)),Rc(this),vm(this)}}}catch{}},K.mb=function(){if(this.g){var n=so(this.g),e=this.g.ja();this.C<e.length&&(bw(this),cW(this,n,e),this.i&&4!=n&&ym(this))}},K.cancel=function(){this.J=!0,Rc(this)},K.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function mSe(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(pm(),Kr(17)),Rc(this),this.o=2,vm(this)):lW(this,this.Y-n)};var hW=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Nc(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Nc){this.h=n.h,Ew(this,n.j),this.s=n.s,this.g=n.g,Tw(this,n.m),this.l=n.l;var e=n.i,t=new bm;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),fW(this,t),this.o=n.o}else n&&(e=String(n).match(hW))?(this.h=!1,Ew(this,e[1]||"",!0),this.s=Im(e[2]||""),this.g=Im(e[3]||"",!0),Tw(this,e[4]),this.l=Im(e[5]||"",!0),fW(this,e[6]||"",!0),this.o=Im(e[7]||"")):(this.h=!1,this.i=new bm(null,this.h))}function Jo(n){return new Nc(n)}function Ew(n,e,t){n.j=t?Im(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Tw(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function fW(n,e,t){e instanceof bm?(n.i=e,function ASe(n,e){e&&!n.j&&(eu(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(gW(this,r),_W(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=wm(e,SSe)),n.i=new bm(e,n.h))}function Ot(n,e,t){n.i.set(e,t)}function Dw(n){return Ot(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Im(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function wm(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,ESe),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function ESe(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Nc.prototype.toString=function(){var n=[],e=this.j;e&&n.push(wm(e,pW,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(wm(e,pW,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(wm(t,"/"==t.charAt(0)?DSe:TSe,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",wm(t,CSe)),n.join("")};var pW=/[#\/\?@]/g,TSe=/[#\?:]/g,DSe=/[#\?]/g,SSe=/[#\?@]/g,CSe=/#/g;function bm(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function eu(n){n.g||(n.g=new Map,n.h=0,n.i&&function bSe(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function gW(n,e){eu(n),e=Sh(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function mW(n,e){return eu(n),e=Sh(n,e),n.g.has(e)}function _W(n,e,t){gW(n,e),0<t.length&&(n.i=null,n.g.set(Sh(n,e),EP(t)),n.h+=t.length)}function Sh(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function yW(n){this.l=n||RSe,n=Te.PerformanceNavigationTiming?0<(n=Te.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Te.g&&Te.g.Ka&&Te.g.Ka()&&Te.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(K=bm.prototype).add=function(n,e){eu(this),this.i=null,n=Sh(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},K.forEach=function(n,e){eu(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},K.ta=function(){eu(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},K.Z=function(n){eu(this);let e=[];if("string"==typeof n)mW(this,n)&&(e=e.concat(this.g.get(Sh(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},K.set=function(n,e){return eu(this),this.i=null,mW(this,n=Sh(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},K.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},K.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),n.push(i)}}return this.i=n.join("&")};var RSe=10;function vW(n){return!!n.h||!!n.g&&n.g.size>=n.j}function IW(n){return n.h?1:n.g?n.g.size:0}function JP(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function XP(n,e){n.g?n.g.add(e):n.h=e}function wW(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function bW(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return EP(n.i)}yW.prototype.cancel=function(){if(this.i=bW(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var NSe=class{stringify(n){return Te.JSON.stringify(n,void 0)}parse(n){return Te.JSON.parse(n,void 0)}};function MSe(){this.g=new NSe}function OSe(n,e,t){const r=t||"";try{dW(n,function(i,s){let o=i;am(i)&&(o=UP(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Sw(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Em(n){this.l=n.fc||null,this.j=n.ob||!1}function Cw(n,e){Yn.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=ZP,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Qn(Em,HP),Em.prototype.g=function(){return new Cw(this.l,this.j)},Em.prototype.i=function(n){return function(){return n}}({}),Qn(Cw,Yn);var ZP=0;function EW(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Tm(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Dm(n)}function Dm(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(K=Cw.prototype).open=function(n,e){if(this.readyState!=ZP)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Dm(this)},K.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Te).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},K.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Tm(this)),this.readyState=ZP},K.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Dm(this)),this.g&&(this.readyState=3,Dm(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Te.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;EW(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},K.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Tm(this):Dm(this),3==this.readyState&&EW(this)}},K.Za=function(n){this.g&&(this.response=this.responseText=n,Tm(this))},K.Ya=function(n){this.g&&(this.response=n,Tm(this))},K.ka=function(){this.g&&Tm(this)},K.setRequestHeader=function(n,e){this.v.append(n,e)},K.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},K.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Cw.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var kSe=Te.JSON.parse;function tn(n){Yn.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=TW,this.L=this.M=!1}Qn(tn,Yn);var TW="",FSe=/^https?$/i,VSe=["POST","PUT"];function DW(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,SW(n),Aw(n)}function SW(n){n.F||(n.F=!0,gr(n,"complete"),gr(n,"error"))}function CW(n){if(n.h&&typeof wP<"u"&&(!n.C[1]||4!=so(n)||2!=n.da()))if(n.v&&4==so(n))GP(n.La,0,n);else if(gr(n,"readystatechange"),4==so(n)){n.h=!1;try{const o=n.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===o){var i=String(n.I).match(hW)[1]||null;!i&&Te.self&&Te.self.location&&(i=Te.self.location.protocol.slice(0,-1)),r=!FSe.test(i?i.toLowerCase():"")}t=r}if(t)gr(n,"complete"),gr(n,"success");else{n.m=6;try{var s=2<so(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",SW(n)}}finally{Aw(n)}}}function Aw(n,e){if(n.g){AW(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||gr(n,"ready");try{t.onreadystatechange=r}catch{}}}function AW(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Te.clearTimeout(n.A),n.A=null)}function so(n){return n.g?n.g.readyState:0}function xW(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case TW:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function RW(n){let e="";return NP(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function ek(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=RW(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Ot(n,e,t))}function Sm(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function NW(n){this.Ga=0,this.j=[],this.l=new _w,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Sm("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Sm("baseRetryDelayMs",5e3,n),this.hb=Sm("retryDelaySeedMs",1e4,n),this.eb=Sm("forwardChannelMaxRetries",2,n),this.xa=Sm("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new yW(n&&n.concurrentRequestLimit),this.Ja=new MSe,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function tk(n){if(MW(n),3==n.H){var e=n.W++,t=Jo(n.I);if(Ot(t,"SID",n.K),Ot(t,"RID",e),Ot(t,"TYPE","terminate"),Cm(n,t),(e=new _m(n,n.l,e)).L=2,e.v=Dw(Jo(t)),t=!1,Te.navigator&&Te.navigator.sendBeacon)try{t=Te.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Te.Image&&((new Image).src=e.v,t=!0),t||(e.g=jW(e.l,null),e.g.ha(e.v)),e.G=Date.now(),ym(e)}BW(n)}function xw(n){n.g&&(rk(n),n.g.cancel(),n.g=null)}function MW(n){xw(n),n.u&&(Te.clearTimeout(n.u),n.u=null),Nw(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Te.clearTimeout(n.m),n.m=null)}function Rw(n){if(!vW(n.i)&&!n.m){n.m=!0;var e=n.Na;dm||K8(),hm||(dm(),hm=!0),jP.add(e,n),n.C=0}}function OW(n,e){var t;t=e?e.m:n.W++;const r=Jo(n.I);Ot(r,"SID",n.K),Ot(r,"RID",t),Ot(r,"AID",n.V),Cm(n,r),n.o&&n.s&&ek(r,n.o,n.s),t=new _m(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=PW(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),XP(n.i,t),QP(t,r,e)}function Cm(n,e){n.na&&NP(n.na,function(t,r){Ot(e,r,t)}),n.h&&dW({},function(t,r){Ot(e,r,t)})}function PW(n,e,t){t=Math.min(n.j.length,t);var r=n.h?Mr(n.h.Va,n.h,n):null;e:{var i=n.j;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<t;u++){let c=i[u].g;const l=i[u].map;if(c-=s,0>c)s=Math.max(0,i[u].g-100),a=!1;else try{OSe(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function kW(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;dm||K8(),hm||(dm(),hm=!0),jP.add(e,n),n.A=0}}function nk(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=gm(Mr(n.Ma,n),LW(n,n.A)),n.A++,0))}function rk(n){null!=n.B&&(Te.clearTimeout(n.B),n.B=null)}function FW(n){n.g=new _m(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Jo(n.wa);Ot(e,"RID","rpc"),Ot(e,"SID",n.K),Ot(e,"AID",n.V),Ot(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Ot(e,"TO",n.qa),Ot(e,"TYPE","xmlhttp"),Cm(n,e),n.o&&n.s&&ek(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=Dw(Jo(e)),t.s=null,t.S=!0,aW(t,n)}function Nw(n){null!=n.v&&(Te.clearTimeout(n.v),n.v=null)}function VW(n,e){var t=null;if(n.g==e){Nw(n),rk(n),n.g=null;var r=2}else{if(!JP(n.i,e))return;t=e.F,wW(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;gr(r=yw(),new nW(r,t)),Rw(n)}else kW(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function USe(n,e){return!(IW(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=gm(Mr(n.Na,n,e),LW(n,n.C)),n.C++,0)))}(n,e)||2==r&&nk(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Mc(n,5);break;case 4:Mc(n,10);break;case 3:Mc(n,6);break;default:Mc(n,2)}}function LW(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Mc(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=Mr(n.pb,n);t||(t=new Nc("//www.google.com/images/cleardot.gif"),Te.location&&"http"==Te.location.protocol||Ew(t,"https"),Dw(t)),function PSe(n,e){const t=new _w;if(Te.Image){const r=new Image;r.onload=dw(Sw,t,r,"TestLoadImage: loaded",!0,e),r.onerror=dw(Sw,t,r,"TestLoadImage: error",!1,e),r.onabort=dw(Sw,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=dw(Sw,t,r,"TestLoadImage: timeout",!1,e),Te.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Kr(2);n.H=0,n.h&&n.h.za(e),BW(n),MW(n)}function BW(n){if(n.H=0,n.ma=[],n.h){const e=bW(n.i);(0!=e.length||0!=n.j.length)&&(P8(n.ma,e),P8(n.ma,n.j),n.i.i.length=0,EP(n.j),n.j.length=0),n.h.ya()}}function UW(n,e,t){var r=t instanceof Nc?Jo(t):new Nc(t);if(""!=r.g)e&&(r.g=e+"."+r.g),Tw(r,r.m);else{var i=Te.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Nc(null);r&&Ew(s,r),e&&(s.g=e),i&&Tw(s,i),t&&(s.l=t),r=s}return e=n.Da,(t=n.F)&&e&&Ot(r,t,e),Ot(r,"VER",n.ra),Cm(n,r),r}function jW(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new tn(t&&n.Ha&&!n.va?new Em({ob:!0}):n.va)).Oa(n.J),e}function $W(){}function Mw(){if(Th&&!(10<=Number(ZDe)))throw Error("Environmental error: no available transport.")}function Pi(n,e){Yn.call(this),this.g=new NW(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!um(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!um(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Ch(this)}function GW(n){zP.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function HW(){qP.call(this),this.status=1}function Ch(n){this.g=n}function Ds(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function ik(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],o=(e=n.g[0])+(s^(t=n.g[1])&((i=n.g[2])^s))+r[0]+3614090360&4294967295;o=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=t+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(t^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(t|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=t+((o=e+(i^(t|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~t))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+s&4294967295}function gt(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var s=0|n[i];r&&s==e||(t[i]=s,r=!1)}this.g=t}(K=tn.prototype).Oa=function(n){this.M=n},K.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():WP.g(),this.C=function iW(n){return n.h||(n.h=n.i())}(this.u?this.u:WP),this.g.onreadystatechange=Mr(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void DW(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=Te.FormData&&n instanceof Te.FormData,!(0<=O8(VSe,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of t)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{AW(this),0<this.B&&((this.L=function LSe(n){return Th&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Mr(this.ua,this)):this.A=GP(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){DW(this,s)}},K.ua=function(){typeof wP<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,gr(this,"timeout"),this.abort(8))},K.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,gr(this,"complete"),gr(this,"abort"),Aw(this))},K.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Aw(this,!0)),tn.$.N.call(this)},K.La=function(){this.s||(this.G||this.v||this.l?CW(this):this.kb())},K.kb=function(){CW(this)},K.isActive=function(){return!!this.g},K.da=function(){try{return 2<so(this)?this.g.status:-1}catch{return-1}},K.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},K.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),kSe(e)}},K.Ia=function(){return this.m},K.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(K=NW.prototype).ra=8,K.H=1,K.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new _m(this,this.l,n);let s=this.s;if(this.U&&(s?(s=B8(s),j8(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=PW(this,i,e),Ot(t=Jo(this.I),"RID",n),Ot(t,"CVER",22),this.F&&Ot(t,"X-HTTP-Session-Id",this.F),Cm(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(RW(s)))+"&"+e:this.o&&ek(t,this.o,s)),XP(this.i,i),this.bb&&Ot(t,"TYPE","init"),this.P?(Ot(t,"$req",e),Ot(t,"SID","null"),i.aa=!0,QP(i,t,null)):QP(i,t,e),this.H=2}}else 3==this.H&&(n?OW(this,n):0==this.j.length||vW(this.i)||OW(this))},K.Ma=function(){if(this.u=null,FW(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=gm(Mr(this.jb,this),n)}},K.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Kr(10),xw(this),FW(this))},K.ib=function(){null!=this.v&&(this.v=null,xw(this),nk(this),Kr(19))},K.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Kr(2)):(this.l.info("Failed to ping google.com"),Kr(1))},K.isActive=function(){return!!this.h&&this.h.isActive(this)},(K=$W.prototype).Ba=function(){},K.Aa=function(){},K.za=function(){},K.ya=function(){},K.isActive=function(){return!0},K.Va=function(){},Mw.prototype.g=function(n,e){return new Pi(n,e)},Qn(Pi,Yn),Pi.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Kr(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=UW(n,null,n.Y),Rw(n)},Pi.prototype.close=function(){tk(this.g)},Pi.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=UP(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&Rw(e)},Pi.prototype.N=function(){this.g.h=null,delete this.j,tk(this.g),delete this.g,Pi.$.N.call(this)},Qn(GW,zP),Qn(HW,qP),Qn(Ch,$W),Ch.prototype.Ba=function(){gr(this.g,"a")},Ch.prototype.Aa=function(n){gr(this.g,new GW(n))},Ch.prototype.za=function(n){gr(this.g,new HW)},Ch.prototype.ya=function(){gr(this.g,"b")},Qn(Ds,function jSe(){this.blockSize=-1}),Ds.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ds.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=t;)ik(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(r[i++]=n.charCodeAt(s++),i==this.blockSize){ik(this,r),i=0;break}}else for(;s<e;)if(r[i++]=n[s++],i==this.blockSize){ik(this,r),i=0;break}}this.h=i,this.i+=e},Ds.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var $Se={};function sk(n){return-128<=n&&128>n?function YDe(n,e){var t=$Se;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new gt([0|e],0>e?-1:0)}):new gt([0|n],0>n?-1:0)}function oo(n){if(isNaN(n)||!isFinite(n))return Ah;if(0>n)return mr(oo(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=ok;return new gt(e,0)}var ok=4294967296,Ah=sk(0),ak=sk(1),qW=sk(16777216);function Xo(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function ns(n){return-1==n.h}function mr(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new gt(t,~n.h).add(ak)}function Ow(n,e){return n.add(mr(e))}function Pw(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Am(n,e){this.g=n,this.h=e}function kw(n,e){if(Xo(e))throw Error("division by zero");if(Xo(n))return new Am(Ah,Ah);if(ns(n))return e=kw(mr(n),e),new Am(mr(e.g),mr(e.h));if(ns(e))return e=kw(n,mr(e)),new Am(mr(e.g),e.h);if(30<n.g.length){if(ns(n)||ns(e))throw Error("slowDivide_ only works with positive integers.");for(var t=ak,r=e;0>=r.X(n);)t=WW(t),r=WW(r);var i=xh(t,1),s=xh(r,1);for(r=xh(r,2),t=xh(t,2);!Xo(r);){var o=s.add(r);0>=o.X(n)&&(i=i.add(t),s=o),r=xh(r,1),t=xh(t,1)}return e=Ow(n,i.R(e)),new Am(i,e)}for(i=Ah;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),o=(s=oo(t)).R(e);ns(o)||0<o.X(n);)o=(s=oo(t-=r)).R(e);Xo(s)&&(s=ak),i=i.add(s),n=Ow(n,o)}return new Am(i,n)}function WW(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new gt(t,n.h)}function xh(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],s=0;s<r;s++)i[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new gt(i,n.h)}(K=gt.prototype).ea=function(){if(ns(this))return-mr(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:ok+r)*e,e*=ok}return n},K.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Xo(this))return"0";if(ns(this))return"-"+mr(this).toString(n);for(var e=oo(Math.pow(n,6)),t=this,r="";;){var i=kw(t,e).g,s=((0<(t=Ow(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Xo(t=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},K.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},K.X=function(n){return ns(n=Ow(this,n))?-1:Xo(n)?0:1},K.abs=function(){return ns(this)?mr(this):this},K.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&n.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=o>>>16,t[i]=(o&=65535)<<16|(s&=65535)}return new gt(t,-2147483648&t[t.length-1]?-1:0)},K.R=function(n){if(Xo(this)||Xo(n))return Ah;if(ns(this))return ns(n)?mr(this).R(mr(n)):mr(mr(this).R(n));if(ns(n))return mr(this.R(mr(n)));if(0>this.X(qW)&&0>n.X(qW))return oo(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=n.D(i)>>>16,u=65535&n.D(i);t[2*r+2*i]+=o*u,Pw(t,2*r+2*i),t[2*r+2*i+1]+=s*u,Pw(t,2*r+2*i+1),t[2*r+2*i+1]+=o*a,Pw(t,2*r+2*i+1),t[2*r+2*i+2]+=s*a,Pw(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new gt(t,0)},K.gb=function(n){return kw(this,n).h},K.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new gt(t,this.h&n.h)},K.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new gt(t,this.h|n.h)},K.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new gt(t,this.h^n.h)},Mw.prototype.createWebChannel=Mw.prototype.g,Pi.prototype.send=Pi.prototype.u,Pi.prototype.open=Pi.prototype.m,Pi.prototype.close=Pi.prototype.close,vw.NO_ERROR=0,vw.TIMEOUT=8,vw.HTTP_ERROR=6,rW.COMPLETE="complete",sW.EventType=mm,mm.OPEN="a",mm.CLOSE="b",mm.ERROR="c",mm.MESSAGE="d",Yn.prototype.listen=Yn.prototype.O,tn.prototype.listenOnce=tn.prototype.P,tn.prototype.getLastError=tn.prototype.Sa,tn.prototype.getLastErrorCode=tn.prototype.Ia,tn.prototype.getStatus=tn.prototype.da,tn.prototype.getResponseJson=tn.prototype.Wa,tn.prototype.getResponseText=tn.prototype.ja,tn.prototype.send=tn.prototype.ha,tn.prototype.setWithCredentials=tn.prototype.Oa,Ds.prototype.digest=Ds.prototype.l,Ds.prototype.reset=Ds.prototype.reset,Ds.prototype.update=Ds.prototype.j,gt.prototype.add=gt.prototype.add,gt.prototype.multiply=gt.prototype.R,gt.prototype.modulo=gt.prototype.gb,gt.prototype.compare=gt.prototype.X,gt.prototype.toNumber=gt.prototype.ea,gt.prototype.toString=gt.prototype.toString,gt.prototype.getBits=gt.prototype.D,gt.fromNumber=oo,gt.fromString=function zW(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return mr(zW(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=oo(Math.pow(e,8)),r=Ah,i=0;i<n.length;i+=8){var s=Math.min(8,n.length-i),o=parseInt(n.substring(i,i+s),e);8>s?(s=oo(Math.pow(e,s)),r=r.R(s).add(oo(o))):r=(r=r.R(t)).add(oo(o))}return r},Ts.createWebChannelTransport=function(){return new Mw},Ts.getStatEventTarget=function(){return yw()},Ts.ErrorCode=vw,Ts.EventType=rW,Ts.Event=xc,Ts.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ts.FetchXmlHttpFactory=Em,Ts.WebChannel=sW,Ts.XhrIo=tn,Ts.Md5=Ds;var GSe=Ts.Integer=gt;const KW="@firebase/firestore";class Jn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jn.UNAUTHENTICATED=new Jn(null),Jn.GOOGLE_CREDENTIALS=new Jn("google-credentials-uid"),Jn.FIRST_PARTY=new Jn("first-party-uid"),Jn.MOCK_USER=new Jn("mock-user");let xm="9.23.0";const tu=new xa("@firebase/firestore");function L(n,...e){if(tu.logLevel<=Me.DEBUG){const t=e.map(ck);tu.debug(`Firestore (${xm}): ${n}`,...t)}}function pn(n,...e){if(tu.logLevel<=Me.ERROR){const t=e.map(ck);tu.error(`Firestore (${xm}): ${n}`,...t)}}function ck(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function te(n="Unexpected state"){const e=`FIRESTORE (${xm}) INTERNAL ASSERTION FAILED: `+n;throw pn(e),new Error(e)}function ue(n,e){n||te()}const A={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class k extends ci{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Fn{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class QW{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class HSe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Jn.UNAUTHENTICATED))}shutdown(){}}class zSe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class qSe{constructor(e){this.t=e,this.currentUser=Jn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,t(c)):Promise.resolve();let o=new Fn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Fn,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(v(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{L("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(L("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Fn)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(L("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ue("string"==typeof r.accessToken),new QW(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ue(null===e||"string"==typeof e),new Jn(e)}}class WSe{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=Jn.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class KSe{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new WSe(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Jn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class YW{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class QSe{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=s=>{null!=s.error&&L("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,L("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{L("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):L("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ue("string"==typeof t.token),this.T=t.token,new YW(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function YSe(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class JW{static A(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=YSe(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function Ie(n,e){return n<e?-1:n>e?1:0}class Fw{constructor(e,t,r){void 0===t?t=0:t>e.length&&te(),void 0===r?r=e.length-t:r>e.length-t&&te(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Fw.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Fw?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class qe extends Fw{construct(e,t,r){return new qe(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new k(A.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new qe(t)}static emptyPath(){return new qe([])}}class H{constructor(e){this.path=e}static fromPath(e){return new H(qe.fromString(e))}static fromName(e){return new H(qe.fromString(e).popFirst(5))}static empty(){return new H(qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===qe.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return qe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new H(new qe(e.slice()))}}function ru(n){return"IndexedDbTransactionError"===n.name}class xt{constructor(e,t){this.comparator=e,this.root=t||_r.EMPTY}insert(e,t){return new xt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,_r.BLACK,null,null))}remove(e){return new xt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_r.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jw(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jw(this.root,e,this.comparator,!1)}getReverseIterator(){return new jw(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jw(this.root,e,this.comparator,!0)}}class jw{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _r{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??_r.RED,this.left=i??_r.EMPTY,this.right=s??_r.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new _r(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return _r.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return _r.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_r.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_r.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw te();const e=this.left.check();if(e!==this.right.check())throw te();return e+(this.isRed()?0:1)}}_r.EMPTY=null,_r.RED=!0,_r.BLACK=!1,_r.EMPTY=new class{constructor(){this.size=0}get key(){throw te()}get value(){throw te()}get color(){throw te()}get left(){throw te()}get right(){throw te()}copy(n,e,t,r,i){return this}insert(n,e,t){return new _r(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pt{constructor(e){this.comparator=e,this.data=new xt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new hK(this.data.getIterator())}getIteratorFrom(e){return new hK(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Pt(this.comparator);return t.data=e,t}}class hK{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class fK extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Vn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new fK("Invalid base64 string: "+i):i}}(e);return new Vn(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Vn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}function nn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}Vn.EMPTY_BYTE_STRING=new Vn("");class ECe{constructor(e,t,r,i,s,o,a,u,c){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class kc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new kc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof kc&&e.projectId===this.projectId&&e.database===this.database}}class ea{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.wt=null,this._t=null}}var Tn,We;new xt(H.comparator),new xt(H.comparator),new xt(H.comparator),new Pt(H.comparator),new Pt(Ie),(We=Tn||(Tn={}))[We.OK=0]="OK",We[We.CANCELLED=1]="CANCELLED",We[We.UNKNOWN=2]="UNKNOWN",We[We.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",We[We.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",We[We.NOT_FOUND=5]="NOT_FOUND",We[We.ALREADY_EXISTS=6]="ALREADY_EXISTS",We[We.PERMISSION_DENIED=7]="PERMISSION_DENIED",We[We.UNAUTHENTICATED=16]="UNAUTHENTICATED",We[We.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",We[We.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",We[We.ABORTED=10]="ABORTED",We[We.OUT_OF_RANGE=11]="OUT_OF_RANGE",We[We.UNIMPLEMENTED=12]="UNIMPLEMENTED",We[We.INTERNAL=13]="INTERNAL",We[We.UNAVAILABLE=14]="UNAVAILABLE",We[We.DATA_LOSS=15]="DATA_LOSS",new GSe([4294967295,4294967295],0);class Hc{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(nn(e.integerValue));else if("doubleValue"in e){const r=nn(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),function Om(n){return 0===n&&1/n==-1/0}(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(function Zo(n){return"string"==typeof n?Vn.fromBase64String(n):Vn.fromUint8Array(n)}(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?function _K(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):te()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const i of Object.keys(r))this.Te(i,t),this.me(r[i],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const i of r)this.me(i,t)}ve(e,t){this.ye(t,37),H.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}Hc.Ve=new Hc,new Uint8Array(0);class kr{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new kr(e,kr.DEFAULT_COLLECTION_PERCENTILE,kr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function gb(){return typeof document<"u"?document:null}kr.DEFAULT_COLLECTION_PERCENTILE=10,kr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kr.DEFAULT=new kr(41943040,kr.DEFAULT_COLLECTION_PERCENTILE,kr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kr.DISABLED=new kr(-1,0,0);class i2{constructor(e,t,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-r);i>0&&L("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class E2{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Fn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new E2(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new k(A.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}class Pxe{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Jn.UNAUTHENTICATED,this.clientId=JW.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=v(function*(a){L("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(L("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return v(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new k(A.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Fn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(v(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=function Qh(n,e){if(pn("AsyncQueue",`${e}: ${n}`),ru(n))return new k(A.UNAVAILABLE,`${e}: ${n}`);throw n}(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function OY(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const PY=new Map;function FY(n){if(H.isDocumentKey(n))throw new k(A.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Ue(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new k(A.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=function Eb(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":te()}(n);throw new k(A.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class LY{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new k(A.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new k(A.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Gxe(n,e,t,r){if(!0===e&&!0===r)throw new k(A.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=OY(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new k(A.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new k(A.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new k(A.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class u_{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new LY({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new k(A.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new k(A.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new LY(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new HSe;switch(t.type){case"firstParty":return new KSe(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new k(A.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=PY.get(e);t&&(L("ComponentProvider","Removing Datastore"),PY.delete(e),t.terminate())}(this),Promise.resolve()}}function Hxe(n,e,t,r={}){var i;const s=(n=Ue(n,u_))._getSettings(),o=`${e}:${t}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&function ao(n,...e){if(tu.logLevel<=Me.WARN){const t=e.map(ck);tu.warn(`Firestore (${xm}): ${n}`,...t)}}("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=Jn.MOCK_USER;else{a=function ope(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[wd(JSON.stringify({alg:"none",type:"JWT"})),wd(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new k(A.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Jn(c)}n._authCredentials=new zSe(new QW(a,u))}}class _n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _n(this.firestore,e,this._key)}}class vr{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new vr(this.firestore,e,this._query)}}class fo extends vr{constructor(e,t,r){super(e,t,function kh(n){return new ea(n)}(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _n(this.firestore,null,new H(e))}withConverter(e){return new fo(this.firestore,e,this._path)}}function zxe(n,e,...t){if(n=Aa(n),function cF(n,e,t){if(!t)throw new k(A.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}("collection","path",e),n instanceof u_){const r=qe.fromString(e,...t);return FY(r),new fo(n,null,r)}{if(!(n instanceof _n||n instanceof fo))throw new k(A.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(qe.fromString(e,...t));return FY(r),new fo(n.firestore,null,r)}}class Wxe{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new i2(this,"async_queue_retry"),this.Xc=()=>{const t=gb();t&&L("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=gb();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=gb();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Fn;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return v(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!ru(t))throw t;L("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,pn("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=E2.createAndSchedule(this,e,t,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&te()}verifyOperationInProgress(){}sa(){var e=this;return v(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class Ft extends u_{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Wxe,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||function UY(n){var e,t,r;const i=n._freezeSettings(),s=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new ECe(n._databaseId,a,n._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,OY(c.experimentalLongPollingOptions),c.useFetchStreams));var a,c;n._firestoreClient=new Pxe(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(t=i.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}(this),this._firestoreClient.terminate()}}function Qxe(n,e){const r="string"==typeof n?n:e||"(default)",i=function X4(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}("object"==typeof n?n:e3(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(n=>{const e=(n=>{var e,t;return null===(t=null===(e=n0())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]})(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),r]:[e.substring(0,t),r]})("firestore");s&&Hxe(i,...s)}return i}!function(n,e=!0){xm=u0,Ed(new wn("firestore",(t,{instanceIdentifier:r,options:i})=>{const s=t.getProvider("app").getImmediate(),o=new Ft(new qSe(t.getProvider("auth-internal")),new QSe(t.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new k(A.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kc(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Zi(KW,"3.13.0",n),Zi(KW,"3.13.0","esm2017")}();class Ob{constructor(e){return e}}const aJ="firestore",yF=new re("angularfire2.firestore-instances");function bRe(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Ob(r)}}const ERe={provide:class IRe{constructor(){return GA(aJ)}},deps:[[new ii,yF]]},TRe={provide:Ob,useFactory:function wRe(n,e){const t=function $A(n,e,t){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===t);if(1===s.length)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}(aJ,n,e);return t&&new Ob(t)},deps:[[new ii,yF],Cd]};let DRe=(()=>{class n{constructor(){Zi("angularfire",PA.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Xe({type:n}),n.\u0275inj=Ke({providers:[TRe,ERe]}),n})();function SRe(n,...e){return{ngModule:DRe,providers:[{provide:yF,useFactory:bRe(n),multi:!0,deps:[Oe,Rn,bz,Ez,[new ii,C5],[new ii,Q5],...e]}]}}const CRe=y0(jDe,!0),ARe=y0(zxe,!0),xRe=y0(Qxe,!0),RRe_firebase={apiKey:"AIzaSyD5XLoYRklYYNRtnBeV9ynw0qoLVDCyd2s",authDomain:"seg3102-lab5-dbb19.firebaseapp.com",projectId:"seg3102-lab5-dbb19",storageBucket:"seg3102-lab5-dbb19.appspot.com",messagingSenderId:"529093406671",appId:"1:529093406671:web:371ef799315aa5ed2decba"},{isArray:MRe}=Array,{getPrototypeOf:ORe,prototype:PRe,keys:kRe}=Object;function uJ(n){if(1===n.length){const e=n[0];if(MRe(e))return{args:e,keys:null};if(function FRe(n){return n&&"object"==typeof n&&ORe(n)===PRe}(e)){const t=kRe(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:VRe}=Array;function vF(n){return Fe(e=>function LRe(n,e){return VRe(e)?n(...e):n(e)}(n,e))}function cJ(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function IF(...n){const e=Pf(n),t=hy(n),{args:r,keys:i}=uJ(n);if(0===r.length)return Un([],e);const s=new Ye(function BRe(n,e,t=ss){return r=>{lJ(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)lJ(e,()=>{const c=Un(n[u],e);let l=!1;c.subscribe(wt(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>cJ(i,o):ss));return t?s.pipe(vF(t)):s}function lJ(n,e,t){n?Io(t,n,e):e()}const Pb=ua(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function g_(...n){return function URe(){return El(1)}()(Un(n,Pf(n)))}function dJ(n){return new Ye(e=>{Sn(n()).subscribe(e)})}function m_(n,e){const t=Ne(n)?n:()=>n,r=i=>i.error(t());return new Ye(e?i=>e.schedule(r,0,i):r)}function wF(){return jt((n,e)=>{let t=null;n._refCount++;const r=wt(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class hJ extends Ye{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Mf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new rn;const t=this.getSubject();e.add(this.source.subscribe(wt(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=rn.EMPTY)}return e}refCount(){return wF()(this)}}function Ir(n){return n<=0?()=>$i:jt((e,t)=>{let r=0;e.subscribe(wt(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function er(n,e){return jt((t,r)=>{let i=0;t.subscribe(wt(r,s=>n.call(e,s,i++)&&r.next(s)))})}function kb(n){return jt((e,t)=>{let r=!1;e.subscribe(wt(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function pJ(n=jRe){return jt((e,t)=>{let r=!1;e.subscribe(wt(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function jRe(){return new Pb}function Jc(n,e){const t=arguments.length>=2;return r=>r.pipe(n?er((i,s)=>n(i,s,r)):ss,Ir(1),t?kb(e):pJ(()=>new Pb))}function __(n,e){return Ne(e)?Cn(n,e,1):Cn(n,1)}function Xc(n){return jt((e,t)=>{let s,r=null,i=!1;r=e.subscribe(wt(t,void 0,void 0,o=>{s=Sn(n(o,Xc(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function bF(n){return n<=0?()=>$i:jt((e,t)=>{let r=[];e.subscribe(wt(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function EF(n){return jt((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function yn(n){return jt((e,t)=>{Sn(n).subscribe(wt(t,()=>t.complete(),Su)),!t.closed&&e.subscribe(t)})}const Re="primary",y_=Symbol("RouteTitle");class zRe{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function af(n){return new zRe(n)}function qRe(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function po(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!mJ(n[i],e[i]))return!1;return!0}function mJ(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function _J(n){return n.length>0?n[n.length-1]:null}function _u(n){return function NRe(n){return!!n&&(n instanceof Ye||Ne(n.lift)&&Ne(n.subscribe))}(n)?n:wp(n)?Un(Promise.resolve(n)):pe(n)}const KRe={exact:function IJ(n,e,t){if(!Zc(n.segments,e.segments)||!Fb(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!IJ(n.children[r],e.children[r],t))return!1;return!0},subset:wJ},yJ={exact:function QRe(n,e){return po(n,e)},subset:function YRe(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>mJ(n[t],e[t]))},ignored:()=>!0};function vJ(n,e,t){return KRe[t.paths](n.root,e.root,t.matrixParams)&&yJ[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function wJ(n,e,t){return bJ(n,e,e.segments,t)}function bJ(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Zc(i,t)||e.hasChildren()||!Fb(i,t,r))}if(n.segments.length===t.length){if(!Zc(n.segments,t)||!Fb(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!wJ(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Zc(n.segments,i)&&Fb(n.segments,i,r)&&n.children[Re])&&bJ(n.children[Re],e,s,r)}}function Fb(n,e,t){return e.every((r,i)=>yJ[t](n[i].parameters,r.parameters))}class uf{constructor(e=new yt([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=af(this.queryParams)),this._queryParamMap}toString(){return ZRe.serialize(this)}}class yt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Vb(this)}}class v_{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=af(this.parameters)),this._parameterMap}toString(){return DJ(this)}}function Zc(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let I_=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=q({token:n,factory:function(){return new TF},providedIn:"root"})}return n})();class TF{parse(e){const t=new lNe(e);return new uf(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${w_(e.root,!0)}`,r=function nNe(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Lb(t)}=${Lb(i)}`).join("&"):`${Lb(t)}=${Lb(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams),i="string"==typeof e.fragment?`#${function eNe(n){return encodeURI(n)}(e.fragment)}`:"";return`${t}${r}${i}`}}const ZRe=new TF;function Vb(n){return n.segments.map(e=>DJ(e)).join("/")}function w_(n,e){if(!n.hasChildren())return Vb(n);if(e){const t=n.children[Re]?w_(n.children[Re],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==Re&&r.push(`${i}:${w_(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function XRe(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===Re&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==Re&&(t=t.concat(e(i,r)))}),t}(n,(r,i)=>i===Re?[w_(n.children[Re],!1)]:[`${i}:${w_(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Re]?`${Vb(n)}/${t[0]}`:`${Vb(n)}/(${t.join("//")})`}}function EJ(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Lb(n){return EJ(n).replace(/%3B/gi,";")}function DF(n){return EJ(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Bb(n){return decodeURIComponent(n)}function TJ(n){return Bb(n.replace(/\+/g,"%20"))}function DJ(n){return`${DF(n.path)}${function tNe(n){return Object.keys(n).map(e=>`;${DF(e)}=${DF(n[e])}`).join("")}(n.parameters)}`}const rNe=/^[^\/()?;#]+/;function SF(n){const e=n.match(rNe);return e?e[0]:""}const iNe=/^[^\/()?;=#]+/,oNe=/^[^=?&#]+/,uNe=/^[^&#]+/;class lNe{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new yt([],{}):new yt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Re]=new yt(e,t)),r}parseSegment(){const e=SF(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new V(4009,!1);return this.capture(e),new v_(Bb(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function sNe(n){const e=n.match(iNe);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=SF(this.remaining);i&&(r=i,this.capture(r))}e[Bb(t)]=Bb(r)}parseQueryParam(e){const t=function aNe(n){const e=n.match(oNe);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function cNe(n){const e=n.match(uNe);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=TJ(t),s=TJ(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=SF(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new V(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Re);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[Re]:new yt([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new V(4011,!1)}}function SJ(n){return n.segments.length>0?new yt([],{[Re]:n}):n}function CJ(n){const e={};for(const r of Object.keys(n.children)){const s=CJ(n.children[r]);if(r===Re&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function dNe(n){if(1===n.numberOfChildren&&n.children[Re]){const e=n.children[Re];return new yt(n.segments.concat(e.segments),e.children)}return n}(new yt(n.segments,e))}function el(n){return n instanceof uf}function AJ(n){let e;const i=SJ(function t(s){const o={};for(const u of s.children){const c=t(u);o[u.outlet]=c}const a=new yt(s.url,o);return s===n&&(e=a),a}(n.root));return e??i}function xJ(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(0===e.length)return CF(i,i,i,t,r);const s=function fNe(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new NJ(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([u,c])=>{a[u]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new NJ(t,e,r)}(e);if(s.toRoot())return CF(i,i,new yt([],{}),t,r);const o=function pNe(n,e,t){if(n.isAbsolute)return new jb(e,!0,0);if(!t)return new jb(e,!1,NaN);if(null===t.parent)return new jb(t,!0,0);const r=Ub(n.commands[0])?0:1;return function gNe(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new V(4005,!1);i=r.segments.length}return new jb(r,!1,i-s)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(s,i,n),a=o.processChildren?E_(o.segmentGroup,o.index,s.commands):MJ(o.segmentGroup,o.index,s.commands);return CF(i,o.segmentGroup,a,t,r)}function Ub(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function b_(n){return"object"==typeof n&&null!=n&&n.outlets}function CF(n,e,t,r,i){let o,s={};r&&Object.entries(r).forEach(([u,c])=>{s[u]=Array.isArray(c)?c.map(l=>`${l}`):`${c}`}),o=n===e?t:RJ(n,e,t);const a=SJ(CJ(o));return new uf(a,s,i)}function RJ(n,e,t){const r={};return Object.entries(n.children).forEach(([i,s])=>{r[i]=s===e?t:RJ(s,e,t)}),new yt(n.segments,r)}class NJ{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Ub(r[0]))throw new V(4003,!1);const i=r.find(b_);if(i&&i!==_J(r))throw new V(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class jb{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function MJ(n,e,t){if(n||(n=new yt([],{})),0===n.segments.length&&n.hasChildren())return E_(n,e,t);const r=function _Ne(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(b_(a))break;const u=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!PJ(u,c,o))return s;r+=2}else{if(!PJ(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new yt(n.segments.slice(0,r.pathIndex),{});return s.children[Re]=new yt(n.segments.slice(r.pathIndex),n.children),E_(s,0,i)}return r.match&&0===i.length?new yt(n.segments,{}):r.match&&!n.hasChildren()?AF(n,e,t):r.match?E_(n,0,i):AF(n,e,t)}function E_(n,e,t){if(0===t.length)return new yt(n.segments,{});{const r=function mNe(n){return b_(n[0])?n[0].outlets:{[Re]:n}}(t),i={};if(Object.keys(r).some(s=>s!==Re)&&n.children[Re]&&1===n.numberOfChildren&&0===n.children[Re].segments.length){const s=E_(n.children[Re],e,t);return new yt(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=MJ(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new yt(n.segments,i)}}function AF(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(b_(s)){const u=yNe(s.outlets);return new yt(r,u)}if(0===i&&Ub(t[0])){r.push(new v_(n.segments[e].path,OJ(t[0]))),i++;continue}const o=b_(s)?s.outlets[Re]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&Ub(a)?(r.push(new v_(o,OJ(a))),i+=2):(r.push(new v_(o,{})),i++)}return new yt(r,{})}function yNe(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=AF(new yt([],{}),0,r))}),e}function OJ(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function PJ(n,e,t){return n==t.path&&po(e,t.parameters)}const T_="imperative";class go{constructor(e,t){this.id=e,this.url=t}}class $b extends go{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class yu extends go{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class D_ extends go{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class cf extends go{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class Gb extends go{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class kJ extends go{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vNe extends go{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class INe extends go{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class wNe extends go{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bNe extends go{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ENe{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class TNe{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class DNe{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class SNe{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class CNe{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ANe{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class FJ{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class xF{}class RF{constructor(e){this.url=e}}class xNe{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new S_,this.attachRef=null}}let S_=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new xNe,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class VJ{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=NF(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=NF(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=MF(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return MF(e,this._root).map(t=>t.value)}}function NF(n,e){if(n===e.value)return e;for(const t of e.children){const r=NF(n,t);if(r)return r}return null}function MF(n,e){if(n===e.value)return[e];for(const t of e.children){const r=MF(n,t);if(r.length)return r.unshift(e),r}return[]}class sa{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function lf(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class LJ extends VJ{constructor(e,t){super(e),this.snapshot=t,OF(this,e)}toString(){return this.snapshot.toString()}}function BJ(n,e){const t=function RNe(n,e){const o=new Hb([],{},{},"",{},Re,e,null,{});return new jJ("",new sa(o,[]))}(0,e),r=new Gi([new v_("",{})]),i=new Gi({}),s=new Gi({}),o=new Gi({}),a=new Gi(""),u=new df(r,i,o,a,s,Re,e,t.root);return u.snapshot=t.root,new LJ(new sa(u,[]),t)}class df{constructor(e,t,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Fe(c=>c[y_]))??pe(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Fe(e=>af(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Fe(e=>af(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function UJ(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function NNe(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Hb{get title(){return this.data?.[y_]}constructor(e,t,r,i,s,o,a,u,c){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=af(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=af(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class jJ extends VJ{constructor(e,t){super(t),this.url=e,OF(this,t)}toString(){return $J(this._root)}}function OF(n,e){e.value._routerState=n,e.children.forEach(t=>OF(n,t))}function $J(n){const e=n.children.length>0?` { ${n.children.map($J).join(", ")} } `:"";return`${n.value}${e}`}function PF(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,po(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),po(e.params,t.params)||n.paramsSubject.next(t.params),function WRe(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!po(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),po(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function kF(n,e){const t=po(n.params,e.params)&&function JRe(n,e){return Zc(n,e)&&n.every((t,r)=>po(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||kF(n.parent,e.parent))}let FF=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Re,this.activateEvents=new de,this.deactivateEvents=new de,this.attachEvents=new de,this.detachEvents=new de,this.parentContexts=X(S_),this.location=X(Yi),this.changeDetector=X(_s),this.environmentInjector=X(oi),this.inputBinder=X(zb,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new V(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new V(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new V(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new V(4013,!1);this._activatedRoute=t;const i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new MNe(t,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=B({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[sr]})}return n})();class MNe{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===df?this.route:e===S_?this.childContexts:this.parent.get(e,t)}}const zb=new re("");let GJ=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=IF([r.queryParams,r.params,r.data]).pipe(os(([s,o,a],u)=>(a={...s,...o,...a},0===u?pe(a):Promise.resolve(a)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const o=function bde(n){const e=je(n);if(!e)return null;const t=new gp(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(o)for(const{templateName:a}of o.inputs)t.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac})}return n})();function C_(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function PNe(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return C_(n,r,i);return C_(n,r)})}(n,e,t);return new sa(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>C_(n,a)),o}}const r=function kNe(n){return new df(new Gi(n.url),new Gi(n.params),new Gi(n.queryParams),new Gi(n.fragment),new Gi(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>C_(n,s));return new sa(r,i)}}const VF="ngNavigationCancelingError";function HJ(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=el(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=zJ(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function zJ(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[VF]=!0,r.cancellationCode=e,t&&(r.url=t),r}function qJ(n){return n&&n[VF]}let WJ=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Vr({type:n,selectors:[["ng-component"]],standalone:!0,features:[Qi],decls:1,vars:0,template:function(r,i){1&r&&ar(0,"router-outlet")},dependencies:[FF],encapsulation:2})}return n})();function LF(n){const e=n.children&&n.children.map(LF),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Re&&(t.component=WJ),t}function Cs(n){return n.outlet||Re}function A_(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class GNe{constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),PF(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=lf(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=lf(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=lf(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const i=lf(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new ANe(s.value.snapshot))}),e.children.length&&this.forwardEvent(new SNe(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(PF(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),PF(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=A_(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class KJ{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class qb{constructor(e,t){this.component=e,this.route=t}}function HNe(n,e,t){const r=n._root;return x_(r,e?e._root:null,t,[r.value])}function hf(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function $te(n){return null!==_y(n)}(n)?e.get(n):n:r}function x_(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=lf(e);return n.children.forEach(o=>{(function qNe(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function WNe(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Zc(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Zc(n.url,e.url)||!po(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!kF(n,e)||!po(n.queryParams,e.queryParams);default:return!kF(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new KJ(r)):(s.data=o.data,s._resolvedData=o._resolvedData),x_(n,e,s.component?a?a.children:null:t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new qb(a.outlet.component,o))}else o&&R_(e,a,i),i.canActivateChecks.push(new KJ(r)),x_(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>R_(a,t.getContext(o),i)),i}function R_(n,e,t){const r=lf(n),i=n.value;Object.entries(r).forEach(([s,o])=>{R_(o,i.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new qb(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function N_(n){return"function"==typeof n}function QJ(n){return n instanceof Pb||"EmptyError"===n?.name}const Wb=Symbol("INITIAL_VALUE");function ff(){return os(n=>IF(n.map(e=>e.pipe(Ir(1),function fJ(...n){const e=Pf(n);return jt((t,r)=>{(e?g_(n,t,e):g_(n,t)).subscribe(r)})}(Wb)))).pipe(Fe(e=>{for(const t of e)if(!0!==t){if(t===Wb)return Wb;if(!1===t||t instanceof uf)return t}return!0}),er(e=>e!==Wb),Ir(1)))}function YJ(n){return function iy(...n){return sy(n)}(On(e=>{if(el(e))throw HJ(0,e)}),Fe(e=>!0===e))}class Kb{constructor(e){this.segmentGroup=e||null}}class JJ{constructor(e){this.urlTree=e}}function pf(n){return m_(new Kb(n))}function XJ(n){return m_(new JJ(n))}class fMe{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new V(4002,!1)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return pe(r);if(i.numberOfChildren>1||!i.children[Re])return m_(new V(4e3,!1));i=i.children[Re]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new uf(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=t[a]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return Object.entries(t.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new yt(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new V(4001,!1);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}const BF={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function pMe(n,e,t,r,i){const s=UF(n,e,t);return s.matched?(r=function VNe(n,e){return n.providers&&!n._injector&&(n._injector=dD(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function lMe(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?pe(i.map(o=>{const a=hf(o,n);return _u(function ZNe(n){return n&&N_(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(ff(),YJ()):pe(!0)}(r,e,t).pipe(Fe(o=>!0===o?s:{...BF}))):pe(s)}function UF(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...BF}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||qRe)(t,n,e);if(!i)return{...BF};const s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function ZJ(n,e,t,r){return t.length>0&&function _Me(n,e,t){return t.some(r=>Qb(n,e,r)&&Cs(r)!==Re)}(n,t,r)?{segmentGroup:new yt(e,mMe(r,new yt(t,n.children))),slicedSegments:[]}:0===t.length&&function yMe(n,e,t){return t.some(r=>Qb(n,e,r))}(n,t,r)?{segmentGroup:new yt(n.segments,gMe(n,0,t,r,n.children)),slicedSegments:t}:{segmentGroup:new yt(n.segments,n.children),slicedSegments:t}}function gMe(n,e,t,r,i){const s={};for(const o of r)if(Qb(n,t,o)&&!i[Cs(o)]){const a=new yt([],{});s[Cs(o)]=a}return{...i,...s}}function mMe(n,e){const t={};t[Re]=e;for(const r of n)if(""===r.path&&Cs(r)!==Re){const i=new yt([],{});t[Cs(r)]=i}return t}function Qb(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class bMe{constructor(e,t,r,i,s,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new fMe(this.urlSerializer,this.urlTree)}noMatchError(e){return new V(4002,!1)}recognize(){const e=ZJ(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Re).pipe(Xc(t=>{if(t instanceof JJ)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof Kb?this.noMatchError(t):t}),Fe(t=>{const r=new Hb([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Re,this.rootComponentType,null,{}),i=new sa(r,t),s=new jJ("",i),o=function hNe(n,e,t=null,r=null){return xJ(AJ(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,Re).pipe(Xc(r=>{throw r instanceof Kb?this.noMatchError(r):r}))}inheritParamsAndData(e){const t=e.value,r=UJ(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i,!0)}processChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Un(i).pipe(__(s=>{const o=r.children[s],a=function jNe(n,e){const t=n.filter(r=>Cs(r)===e);return t.push(...n.filter(r=>Cs(r)!==e)),t}(t,s);return this.processSegmentGroup(e,a,o,s)}),function GRe(n,e){return jt(function $Re(n,e,t,r,i){return(s,o)=>{let a=t,u=e,c=0;s.subscribe(wt(o,l=>{const d=c++;u=a?n(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}(n,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),kb(null),function HRe(n,e){const t=arguments.length>=2;return r=>r.pipe(n?er((i,s)=>n(i,s,r)):ss,bF(1),t?kb(e):pJ(()=>new Pb))}(),Cn(s=>{if(null===s)return pf(r);const o=eX(s);return function EMe(n){n.sort((e,t)=>e.value.outlet===Re?-1:t.value.outlet===Re?1:e.value.outlet.localeCompare(t.value.outlet))}(o),pe(o)}))}processSegment(e,t,r,i,s,o){return Un(t).pipe(__(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,r,i,s,o).pipe(Xc(u=>{if(u instanceof Kb)return pe(null);throw u}))),Jc(a=>!!a),Xc(a=>{if(QJ(a))return function IMe(n,e,t){return 0===e.length&&!n.children[t]}(r,i,s)?pe([]):pf(r);throw a}))}processSegmentAgainstRoute(e,t,r,i,s,o,a){return function vMe(n,e,t,r){return!!(Cs(n)===r||r!==Re&&Qb(e,t,n))&&("**"===n.path||UF(e,n,t).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,o):pf(i):pf(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?XJ(s):this.applyRedirects.lineralizeSegments(r,s).pipe(Cn(o=>{const a=new yt(o,{});return this.processSegment(e,t,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=UF(t,i,s);if(!a)return pf(t);const d=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?XJ(d):this.applyRedirects.lineralizeSegments(i,d).pipe(Cn(h=>this.processSegment(e,r,t,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s,o){let a;if("**"===r.path){const u=i.length>0?_J(i).parameters:{};a=pe({snapshot:new Hb(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,tX(r),Cs(r),r.component??r._loadedComponent??null,r,nX(r)),consumedSegments:[],remainingSegments:[]}),t.children={}}else a=pMe(t,r,i,e).pipe(Fe(({matched:u,consumedSegments:c,remainingSegments:l,parameters:d})=>u?{snapshot:new Hb(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,tX(r),Cs(r),r.component??r._loadedComponent??null,r,nX(r)),consumedSegments:c,remainingSegments:l}:null));return a.pipe(os(u=>null===u?pf(t):this.getChildConfig(e=r._injector??e,r,i).pipe(os(({routes:c})=>{const l=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=u,{segmentGroup:p,slicedSegments:g}=ZJ(t,h,f,c);if(0===g.length&&p.hasChildren())return this.processChildren(l,c,p).pipe(Fe(y=>null===y?null:[new sa(d,y)]));if(0===c.length&&0===g.length)return pe([new sa(d,[])]);const m=Cs(r)===s;return this.processSegment(l,c,p,g,m?Re:s,!0).pipe(Fe(y=>[new sa(d,y)]))}))))}getChildConfig(e,t,r){return t.children?pe({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?pe({routes:t._loadedRoutes,injector:t._loadedInjector}):function cMe(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?pe(!0):pe(i.map(o=>{const a=hf(o,n);return _u(function QNe(n){return n&&N_(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(ff(),YJ())}(e,t,r).pipe(Cn(i=>i?this.configLoader.loadChildren(e,t).pipe(On(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function hMe(n){return m_(zJ(!1,3))}())):pe({routes:[],injector:e})}}function TMe(n){const e=n.value.routeConfig;return e&&""===e.path}function eX(n){const e=[],t=new Set;for(const r of n){if(!TMe(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=eX(r.children);e.push(new sa(r.value,i))}return e.filter(r=>!t.has(r))}function tX(n){return n.data||{}}function nX(n){return n.resolve||{}}function SMe(n,e){return Cn(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return pe(t);let s=0;return Un(i).pipe(__(o=>function CMe(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!rX(i)&&(s[y_]=i.title),function AMe(n,e,t,r){const i=function xMe(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return pe({});const s={};return Un(i).pipe(Cn(o=>function RMe(n,e,t,r){const i=A_(e)??r,s=hf(n,i);return _u(s.resolve?s.resolve(e,t):i.runInContext(()=>s(e,t)))}(n[o],e,t,r).pipe(Jc(),On(a=>{s[o]=a}))),bF(1),function gJ(n){return Fe(()=>n)}(s),Xc(o=>QJ(o)?$i:m_(o)))}(s,n,e,r).pipe(Fe(o=>(n._resolvedData=o,n.data=UJ(n,t).resolve,i&&rX(i)&&(n.data[y_]=i.title),null)))}(o.route,r,n,e)),On(()=>s++),bF(1),Cn(o=>s===i.length?pe(t):$i))})}function rX(n){return"string"==typeof n.title||null===n.title}function jF(n){return os(e=>{const t=n(e);return t?Un(t).pipe(Fe(()=>e)):pe(e)})}const gf=new re("ROUTES");let $F=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=X(fH)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return pe(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=_u(t.loadComponent()).pipe(Fe(iX),On(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),EF(()=>{this.componentLoaders.delete(t)})),i=new hJ(r,()=>new rt).pipe(wF());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return pe({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function NMe(n,e,t,r){return _u(n.loadChildren()).pipe(Fe(iX),Cn(i=>i instanceof bG||Array.isArray(i)?pe(i):Un(e.compileModuleAsync(i))),Fe(i=>{r&&r(n);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(t).injector,o=s.get(gf,[],{optional:!0,self:!0}).flat()),{routes:o.map(LF),injector:s}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(EF(()=>{this.childrenLoaders.delete(r)})),o=new hJ(s,()=>new rt).pipe(wF());return this.childrenLoaders.set(r,o),o}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function iX(n){return function MMe(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Yb=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new rt,this.transitionAbortSubject=new rt,this.configLoader=X($F),this.environmentInjector=X(oi),this.urlSerializer=X(I_),this.rootContexts=X(S_),this.inputBindingEnabled=null!==X(zb,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>pe(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new TNe(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new ENe(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t,r,i){return this.transitions=new Gi({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:t.urlHandlingStrategy.extract(r),urlAfterRedirects:t.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:T_,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(er(s=>0!==s.id),Fe(s=>({...s,extractedUrl:t.urlHandlingStrategy.extract(s.rawUrl)})),os(s=>{this.currentTransition=s;let o=!1,a=!1;return pe(s).pipe(On(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),os(u=>{const c=u.currentBrowserUrl.toString(),l=!t.navigated||u.extractedUrl.toString()!==c||c!==u.currentUrlTree.toString();if(!l&&"reload"!==(u.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const h="";return this.events.next(new cf(u.id,this.urlSerializer.serialize(u.rawUrl),h,0)),u.resolve(null),$i}if(t.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return pe(u).pipe(os(h=>{const f=this.transitions?.getValue();return this.events.next(new $b(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?$i:Promise.resolve(h)}),function DMe(n,e,t,r,i,s){return Cn(o=>function wMe(n,e,t,r,i,s,o="emptyOnly"){return new bMe(n,e,t,r,i,o,s).recognize()}(n,e,t,r,o.extractedUrl,i,s).pipe(Fe(({state:a,tree:u})=>({...o,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),On(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const f=new kJ(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(l&&t.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){const{id:h,extractedUrl:f,source:p,restoredState:g,extras:m}=u,y=new $b(h,this.urlSerializer.serialize(f),p,g);this.events.next(y);const _=BJ(0,this.rootComponentType).snapshot;return this.currentTransition=s={...u,targetSnapshot:_,urlAfterRedirects:f,extras:{...m,skipLocationChange:!1,replaceUrl:!1}},pe(s)}{const h="";return this.events.next(new cf(u.id,this.urlSerializer.serialize(u.extractedUrl),h,1)),u.resolve(null),$i}}),On(u=>{const c=new vNe(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(c)}),Fe(u=>(this.currentTransition=s={...u,guards:HNe(u.targetSnapshot,u.currentSnapshot,this.rootContexts)},s)),function tMe(n,e){return Cn(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?pe({...t,guardsResult:!0}):function nMe(n,e,t,r){return Un(n).pipe(Cn(i=>function uMe(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?pe(s.map(a=>{const u=A_(e)??i,c=hf(a,u);return _u(function XNe(n){return n&&N_(n.canDeactivate)}(c)?c.canDeactivate(n,e,t,r):u.runInContext(()=>c(n,e,t,r))).pipe(Jc())})).pipe(ff()):pe(!0)}(i.component,i.route,t,e,r)),Jc(i=>!0!==i,!0))}(o,r,i,n).pipe(Cn(a=>a&&function KNe(n){return"boolean"==typeof n}(a)?function rMe(n,e,t,r){return Un(e).pipe(__(i=>g_(function sMe(n,e){return null!==n&&e&&e(new DNe(n)),pe(!0)}(i.route.parent,r),function iMe(n,e){return null!==n&&e&&e(new CNe(n)),pe(!0)}(i.route,r),function aMe(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function zNe(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>dJ(()=>pe(o.guards.map(u=>{const c=A_(o.node)??t,l=hf(u,c);return _u(function JNe(n){return n&&N_(n.canActivateChild)}(l)?l.canActivateChild(r,n):c.runInContext(()=>l(r,n))).pipe(Jc())})).pipe(ff())));return pe(s).pipe(ff())}(n,i.path,t),function oMe(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return pe(!0);const i=r.map(s=>dJ(()=>{const o=A_(e)??t,a=hf(s,o);return _u(function YNe(n){return n&&N_(n.canActivate)}(a)?a.canActivate(e,n):o.runInContext(()=>a(e,n))).pipe(Jc())}));return pe(i).pipe(ff())}(n,i.route,t))),Jc(i=>!0!==i,!0))}(r,s,n,e):pe(a)),Fe(a=>({...t,guardsResult:a})))})}(this.environmentInjector,u=>this.events.next(u)),On(u=>{if(s.guardsResult=u.guardsResult,el(u.guardsResult))throw HJ(0,u.guardsResult);const c=new INe(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(c)}),er(u=>!!u.guardsResult||(this.cancelNavigationTransition(u,"",3),!1)),jF(u=>{if(u.guards.canActivateChecks.length)return pe(u).pipe(On(c=>{const l=new wNe(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),os(c=>{let l=!1;return pe(c).pipe(SMe(t.paramsInheritanceStrategy,this.environmentInjector),On({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(c,"",2)}}))}),On(c=>{const l=new bNe(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}))}),jF(u=>{const c=l=>{const d=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(l.routeConfig).pipe(On(h=>{l.component=h}),Fe(()=>{})));for(const h of l.children)d.push(...c(h));return d};return IF(c(u.targetSnapshot.root)).pipe(kb(),Ir(1))}),jF(()=>this.afterPreactivation()),Fe(u=>{const c=function ONe(n,e,t){const r=C_(n,e._root,t?t._root:void 0);return new LJ(r,e)}(t.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s={...u,targetRouterState:c},s}),On(()=>{this.events.next(new xF)}),((n,e,t,r)=>Fe(i=>(new GNe(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Ir(1),On({next:u=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new yu(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),t.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{o=!0}}),yn(this.transitionAbortSubject.pipe(On(u=>{throw u}))),EF(()=>{o||a||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),Xc(u=>{if(a=!0,qJ(u))this.events.next(new D_(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),function FNe(n){return qJ(n)&&el(n.url)}(u)?this.events.next(new RF(u.url)):s.resolve(!1);else{this.events.next(new Gb(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0));try{s.resolve(t.errorHandler(u))}catch(c){s.reject(c)}}return $i}))}))}cancelNavigationTransition(t,r,i){const s=new D_(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function sX(n){return n!==T_}let oX=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===Re);return r}getResolvedTitleForRoute(t){return t.data[y_]}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=q({token:n,factory:function(){return X(OMe)},providedIn:"root"})}return n})(),OMe=(()=>{class n extends oX{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||n)(Y(O4))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),PMe=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=q({token:n,factory:function(){return X(FMe)},providedIn:"root"})}return n})();class kMe{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let FMe=(()=>{class n extends kMe{static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=un(n)))(i||n)}}();static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Jb=new re("",{providedIn:"root",factory:()=>({})});let VMe=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=q({token:n,factory:function(){return X(LMe)},providedIn:"root"})}return n})(),LMe=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var M_=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(M_||{});function aX(n,e){n.events.pipe(er(t=>t instanceof yu||t instanceof D_||t instanceof Gb||t instanceof cf),Fe(t=>t instanceof yu||t instanceof cf?M_.COMPLETE:t instanceof D_&&(0===t.code||1===t.code)?M_.REDIRECTING:M_.FAILED),er(t=>t!==M_.REDIRECTING),Ir(1)).subscribe(()=>{e()})}function BMe(n){throw n}function UMe(n,e,t){return e.parse("/")}const jMe={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},$Me={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Vi=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=X(dH),this.isNgZoneEnabled=!1,this._events=new rt,this.options=X(Jb,{optional:!0})||{},this.pendingTasks=X(hH),this.errorHandler=this.options.errorHandler||BMe,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||UMe,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=X(VMe),this.routeReuseStrategy=X(PMe),this.titleStrategy=X(oX),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=X(gf,{optional:!0})?.flat()??[],this.navigationTransitions=X(Yb),this.urlSerializer=X(I_),this.location=X(qD),this.componentInputBindingEnabled=!!X(zb,{optional:!0}),this.eventsSubscription=new rn,this.isNgZoneEnabled=X(Oe)instanceof Oe&&Oe.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new uf,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=BJ(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(uX(r)&&this._events.next(r));if(r instanceof $b)sX(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof cf)this.rawUrlTree=i.rawUrl;else if(r instanceof kJ){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(s,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof xF)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof D_)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof RF){const s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),o={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||sX(i.source)};this.scheduleNavigation(s,T_,null,o,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof Gb&&this.restoreHistory(i,!0),r instanceof yu&&(this.navigated=!0),uX(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),T_,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(LF),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:o;let d,l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...s};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=s||null}null!==l&&(l=this.removeEmptyProps(l));try{d=AJ(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),d=this.currentUrlTree.root}return xJ(d,t,l,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=el(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,T_,null,r)}navigate(t,r={skipLocationChange:!1}){return function GMe(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new V(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...jMe}:!1===r?{...$Me}:r,el(t))return vJ(this.currentUrlTree,t,i);const s=this.parseUrl(t);return vJ(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,c;o?(a=o.resolve,u=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,u=h});const l=this.pendingTasks.add();return aX(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:s,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function uX(n){return!(n instanceof xF||n instanceof RF)}let O_=(()=>{class n{constructor(t,r,i,s,o,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new rt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const u=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===u||"area"===u,this.isAnchorElement?this.subscription=t.events.subscribe(c=>{c instanceof yu&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function bU(n,e,t){return function Kie(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?wU:IU}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(r){return new(r||n)(I(Vi),I(df),function Pu(n){return function pre(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(pL(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(or(),n)}("tabindex"),I(Di),I(st),I(Hu))};static#t=this.\u0275dir=B({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&Be("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&r&&at("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",yd],skipLocationChange:["skipLocationChange","skipLocationChange",yd],replaceUrl:["replaceUrl","replaceUrl",yd],routerLink:"routerLink"},standalone:!0,features:[Fj,sr]})}return n})();class cX{}let qMe=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(er(t=>t instanceof yu),__(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=dD(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Un(i).pipe(El())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):pe(null);const s=i.pipe(Cn(o=>null===o?pe(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return r.loadComponent&&!r._loadedComponent?Un([s,this.loader.loadComponent(r)]).pipe(El()):s})}static#e=this.\u0275fac=function(r){return new(r||n)(Y(Vi),Y(fH),Y(oi),Y(cX),Y($F))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const GF=new re("");let lX=(()=>{class n{constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof $b?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof yu?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof cf&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof FJ&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new FJ(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function cj(){throw new Error("invalid")}()};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac})}return n})();function oa(n,e){return{\u0275kind:n,\u0275providers:e}}function hX(){const n=X(Rn);return e=>{const t=n.get(Ea);if(e!==t.components[0])return;const r=n.get(Vi),i=n.get(fX);1===n.get(HF)&&r.initialNavigation(),n.get(pX,null,Pe.Optional)?.setUpPreloading(),n.get(GF,null,Pe.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const fX=new re("",{factory:()=>new rt}),HF=new re("",{providedIn:"root",factory:()=>1}),pX=new re("");function YMe(n){return oa(0,[{provide:pX,useExisting:qMe},{provide:cX,useExisting:n}])}const gX=new re("ROUTER_FORROOT_GUARD"),XMe=[qD,{provide:I_,useClass:TF},Vi,S_,{provide:df,useFactory:function dX(n){return n.routerState.root},deps:[Vi]},$F,[]];function ZMe(){return new IH("Router",Vi)}let mX=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[XMe,[],{provide:gf,multi:!0,useValue:t},{provide:gX,useFactory:rOe,deps:[[Vi,new ii,new Uy]]},{provide:Jb,useValue:r||{}},r?.useHash?{provide:Hu,useClass:Cde}:{provide:Hu,useClass:YH},{provide:GF,useFactory:()=>{const n=X(qhe),e=X(Oe),t=X(Jb),r=X(Yb),i=X(I_);return t.scrollOffset&&n.setOffset(t.scrollOffset),new lX(i,r,n,e,t)}},r?.preloadingStrategy?YMe(r.preloadingStrategy).\u0275providers:[],{provide:IH,multi:!0,useFactory:ZMe},r?.initialNavigation?iOe(r):[],r?.bindToComponentInputs?oa(8,[GJ,{provide:zb,useExisting:GJ}]).\u0275providers:[],[{provide:_X,useFactory:hX},{provide:kD,multi:!0,useExisting:_X}]]}}static forChild(t){return{ngModule:n,providers:[{provide:gf,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(r){return new(r||n)(Y(gX,8))};static#t=this.\u0275mod=Xe({type:n});static#n=this.\u0275inj=Ke({})}return n})();function rOe(n){return"guarded"}function iOe(n){return["disabled"===n.initialNavigation?oa(3,[{provide:CD,multi:!0,useFactory:()=>{const e=X(Vi);return()=>{e.setUpLocationChangeListener()}}},{provide:HF,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?oa(2,[{provide:HF,useValue:0},{provide:CD,multi:!0,deps:[Rn],useFactory:e=>{const t=e.get(Dde,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(Vi),s=e.get(fX);aX(i,()=>{r(!0)}),e.get(Yb).afterPreactivation=()=>(r(!0),s.closed?pe(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const _X=new re("");let yX=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(r){return new(r||n)(I(Di),I(st))};static#t=this.\u0275dir=B({type:n})}return n})(),tl=(()=>{class n extends yX{static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=un(n)))(i||n)}}();static#t=this.\u0275dir=B({type:n,features:[ot]})}return n})();const rs=new re("NgValueAccessor"),uOe={provide:rs,useExisting:Se(()=>Xb),multi:!0},lOe=new re("CompositionEventMode");let Xb=(()=>{class n extends yX{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function cOe(){const n=Ta()?Ta().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(r){return new(r||n)(I(Di),I(st),I(lOe,8))};static#t=this.\u0275dir=B({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&Be("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[vt([uOe]),ot]})}return n})();function vu(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function IX(n){return null!=n&&"number"==typeof n.length}const wr=new re("NgValidators"),Iu=new re("NgAsyncValidators"),dOe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class mf{static min(e){return function wX(n){return e=>{if(vu(e.value)||vu(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function bX(n){return e=>{if(vu(e.value)||vu(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return EX(e)}static requiredTrue(e){return function TX(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function DX(n){return vu(n.value)||dOe.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function SX(n){return e=>vu(e.value)||!IX(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function CX(n){return e=>IX(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function AX(n){if(!n)return Zb;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(vu(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return PX(e)}static composeAsync(e){return kX(e)}}function EX(n){return vu(n.value)?{required:!0}:null}function Zb(n){return null}function xX(n){return null!=n}function RX(n){return wp(n)?Un(n):n}function NX(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function MX(n,e){return e.map(t=>t(n))}function OX(n){return n.map(e=>function hOe(n){return!n.validate}(e)?e:t=>e.validate(t))}function PX(n){if(!n)return null;const e=n.filter(xX);return 0==e.length?null:function(t){return NX(MX(t,e))}}function zF(n){return null!=n?PX(OX(n)):null}function kX(n){if(!n)return null;const e=n.filter(xX);return 0==e.length?null:function(t){return function oOe(...n){const e=hy(n),{args:t,keys:r}=uJ(n),i=new Ye(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let u=o,c=o;for(let l=0;l<o;l++){let d=!1;Sn(t[l]).subscribe(wt(s,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||s.next(r?cJ(r,a):a),s.complete())}))}});return e?i.pipe(vF(e)):i}(MX(t,e).map(RX)).pipe(Fe(NX))}}function qF(n){return null!=n?kX(OX(n)):null}function FX(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function VX(n){return n._rawValidators}function LX(n){return n._rawAsyncValidators}function WF(n){return n?Array.isArray(n)?n:[n]:[]}function eE(n,e){return Array.isArray(n)?n.includes(e):n===e}function BX(n,e){const t=WF(e);return WF(n).forEach(i=>{eE(t,i)||t.push(i)}),t}function UX(n,e){return WF(e).filter(t=>!eE(n,t))}class jX{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=zF(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=qF(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Yr extends jX{get formDirective(){return null}get path(){return null}}class wu extends jX{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class $X{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let GX=(()=>{class n extends $X{constructor(t){super(t)}static#e=this.\u0275fac=function(r){return new(r||n)(I(wu,2))};static#t=this.\u0275dir=B({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Ze("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[ot]})}return n})(),HX=(()=>{class n extends $X{constructor(t){super(t)}static#e=this.\u0275fac=function(r){return new(r||n)(I(Yr,10))};static#t=this.\u0275dir=B({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&Ze("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[ot]})}return n})();const P_="VALID",nE="INVALID",_f="PENDING",k_="DISABLED";function YF(n){return(rE(n)?n.validators:n)||null}function JF(n,e){return(rE(e)?e.asyncValidators:n)||null}function rE(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function qX(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new V(1e3,"");if(!r[t])throw new V(1001,"")}function WX(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new V(1002,"")})}class iE{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===P_}get invalid(){return this.status===nE}get pending(){return this.status==_f}get disabled(){return this.status===k_}get enabled(){return this.status!==k_}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(BX(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(BX(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(UX(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(UX(e,this._rawAsyncValidators))}hasValidator(e){return eE(this._rawValidators,e)}hasAsyncValidator(e){return eE(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=_f,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=k_,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=P_,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===P_||this.status===_f)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?k_:P_}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=_f,this._hasOwnPendingAsyncValidator=!0;const t=RX(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new de,this.statusChanges=new de}_calculateStatus(){return this._allControlsDisabled()?k_:this.errors?nE:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(_f)?_f:this._anyControlsHaveStatus(nE)?nE:P_}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){rE(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function mOe(n){return Array.isArray(n)?zF(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function _Oe(n){return Array.isArray(n)?qF(n):n||null}(this._rawAsyncValidators)}}class F_ extends iE{constructor(e,t,r){super(YF(t),JF(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){WX(this,0,e),Object.keys(e).forEach(r=>{qX(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class KX extends F_{}const nl=new re("CallSetDisabledState",{providedIn:"root",factory:()=>V_}),V_="always";function L_(n,e,t=V_){XF(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function vOe(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&QX(n,e)})}(n,e),function wOe(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function IOe(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&QX(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function yOe(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function oE(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),uE(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function aE(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function XF(n,e){const t=VX(n);null!==e.validator?n.setValidators(FX(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=LX(n);null!==e.asyncValidator?n.setAsyncValidators(FX(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();aE(e._rawValidators,i),aE(e._rawAsyncValidators,i)}function uE(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=VX(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const i=LX(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}const r=()=>{};return aE(e._rawValidators,r),aE(e._rawAsyncValidators,r),t}function QX(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function XX(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function ZX(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const U_=class extends iE{constructor(e=null,t,r){super(YF(t),JF(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),rE(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=ZX(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){XX(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){XX(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){ZX(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let iZ=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=B({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})();const ROe={provide:rs,useExisting:Se(()=>rV),multi:!0};let rV=(()=>{class n extends tl{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=un(n)))(i||n)}}();static#t=this.\u0275dir=B({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){1&r&&Be("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[vt([ROe]),ot]})}return n})(),sZ=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Xe({type:n});static#n=this.\u0275inj=Ke({})}return n})();const iV=new re("NgModelWithFormControlWarning"),kOe={provide:Yr,useExisting:Se(()=>cE)};let cE=(()=>{class n extends Yr{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new de,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(uE(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return L_(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){oE(t.control||null,t,!1),function DOe(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function JX(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(oE(r||null,t),(n=>n instanceof U_)(i)&&(L_(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function YX(n,e){XF(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function bOe(n,e){return uE(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){XF(this.form,this),this._oldForm&&uE(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(r){return new(r||n)(I(wr,10),I(Iu,10),I(nl,8))};static#t=this.\u0275dir=B({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&Be("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[vt([kOe]),ot,sr]})}return n})();const LOe={provide:wu,useExisting:Se(()=>aV)};let aV=(()=>{class n extends wu{set isDisabled(t){}static#e=this._ngModelWarningSentOnce=!1;constructor(t,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new de,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function tV(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===Xb?t=s:function TOe(n){return Object.getPrototypeOf(n.constructor)===tl}(s)?r=s:i=s}),i||r||t||null}(0,s)}ngOnChanges(t){this._added||this._setUpControl(),function eV(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function sE(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(r){return new(r||n)(I(Yr,13),I(wr,10),I(Iu,10),I(rs,10),I(iV,8))};static#n=this.\u0275dir=B({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[vt([LOe]),ot,sr]})}return n})(),rl=(()=>{class n{constructor(){this._validator=Zb}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Zb,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=B({type:n,features:[sr]})}return n})();const WOe={provide:wr,useExisting:Se(()=>lE),multi:!0};let lE=(()=>{class n extends rl{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=yd,this.createValidator=t=>EX}enabled(t){return t}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=un(n)))(i||n)}}();static#t=this.\u0275dir=B({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&at("required",i._enabled?"":null)},inputs:{required:"required"},features:[vt([WOe]),ot]})}return n})(),wZ=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Xe({type:n});static#n=this.\u0275inj=Ke({imports:[sZ]})}return n})();class bZ extends iE{constructor(e,t,r){super(YF(t),JF(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){WX(this,0,e),e.forEach((r,i)=>{qX(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function EZ(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let ZOe=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let s={};return EZ(r)?s=r:null!==r&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new F_(i,s)}record(t,r=null){const i=this._reduceControls(t);return new KX(i,r)}control(t,r,i){let s={};return this.useNonNullable?(EZ(r)?s=r:(s.validators=r,s.asyncValidators=i),new U_(t,{...s,nonNullable:!0})):new U_(t,r,i)}array(t,r,i){const s=t.map(o=>this._createControl(o));return new bZ(s,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof U_||t instanceof iE?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ePe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:nl,useValue:t.callSetDisabledState??V_}]}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Xe({type:n});static#n=this.\u0275inj=Ke({imports:[wZ]})}return n})(),tPe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:iV,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:nl,useValue:t.callSetDisabledState??V_}]}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Xe({type:n});static#n=this.\u0275inj=Ke({imports:[wZ]})}return n})();class nPe{constructor(e,t,r,i,s,o){this.id=null,this.name=e,this.dateOfBirth=t,this.city=r,this.salary=i,this.gender=s,this.email=o}}let TZ=(()=>{class n{constructor(){this.employees$=new Ye,this.firestore=X(Ob)}get $(){return this.employees$}getEmployees(){console.log(this.firestore);const t=ARe(this.firestore,"emp");return CRe(t)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const rPe=function(){return["/employees"]};let iPe=(()=>{class n{get name(){return this.employeeForm.get("name")}get dateOfBirth(){return this.employeeForm.get("dateOfBirth")}get city(){return this.employeeForm.get("city")}get salary(){return this.employeeForm.get("salary")}get gender(){return this.employeeForm.get("gender")}get email(){return this.employeeForm.get("email")}constructor(t,r,i){this.builder=t,this.employeeService=r,this.router=i,this.employeeForm=this.builder.group({name:["",mf.required],dateOfBirth:["",mf.required],city:["",mf.required],salary:[0,mf.required],gender:["",mf.pattern("^[MFX]$")],email:["",mf.email]})}onSubmit(){new nPe(this.name.value,new Date(this.dateOfBirth.value),this.city.value,this.salary.value,this.gender.value,this.email.value),this.employeeForm.reset(),this.router.navigate(["/employees"]).then(()=>{})}static#e=this.\u0275fac=function(r){return new(r||n)(I(ZOe),I(TZ),I(Vi))};static#t=this.\u0275cmp=Vr({type:n,selectors:[["app-employee"]],decls:44,vars:10,consts:[[1,"btn","btn-primary",3,"routerLink"],[1,"container"],[3,"formGroup","ngSubmit"],[1,"mb-3"],["for","name"],["type","text","id","name","formControlName","name","required","",1,"form-control"],[1,"alert","alert-danger",3,"hidden"],["for","dob"],["type","date","id","dob","formControlName","dateOfBirth","required","",1,"form-control"],["for","city"],["type","text","id","city","required","","formControlName","city",1,"form-control"],["for","salary"],["type","number","id","salary","required","","step","0.01","formControlName","salary",1,"form-control"],["for","gender"],["type","text","id","gender","formControlName","gender","placeholder","M, F or X",1,"form-control"],["for","email"],["type","email","id","email","formControlName","email",1,"form-control"],["type","submit",1,"btn","btn-success",3,"disabled"]],template:function(r,i){1&r&&(ie(0,"a",0),Ge(1,"Employee List"),se(),ie(2,"div",1)(3,"h1"),Ge(4,"Employee Entry Form"),se(),ie(5,"form",2),Be("ngSubmit",function(){return i.onSubmit()}),ie(6,"div",3)(7,"label",4),Ge(8,"Name:"),se(),ar(9,"input",5),ie(10,"div",6),Ge(11," Employee Name is required. "),se()(),ie(12,"div",3)(13,"label",7),Ge(14,"Date of Birth:"),se(),ar(15,"input",8),ie(16,"div",6),Ge(17," Date of birth is required. "),se()(),ie(18,"div",3)(19,"label",9),Ge(20,"City:"),se(),ar(21,"input",10),ie(22,"div",6),Ge(23," City of employment is required. "),se()(),ie(24,"div",3)(25,"label",11),Ge(26,"Salary:"),se(),ar(27,"input",12),ie(28,"div",6),Ge(29," Salary is required. "),se()(),ie(30,"div",3)(31,"label",13),Ge(32,"Gender:"),se(),ar(33,"input",14),ie(34,"div",6),Ge(35," Gender should be M, F or X. "),se()(),ie(36,"div",3)(37,"label",15),Ge(38,"Email:"),se(),ar(39,"input",16),ie(40,"div",6),Ge(41," Wrong email format. "),se()(),ie(42,"button",17),Ge(43,"Submit"),se()()()),2&r&&(Z("routerLink",fD(9,rPe)),oe(5),Z("formGroup",i.employeeForm),oe(5),Z("hidden",i.name.pristine||i.name.valid),oe(6),Z("hidden",i.dateOfBirth.pristine||i.dateOfBirth.valid),oe(6),Z("hidden",i.city.pristine||i.city.valid),oe(6),Z("hidden",i.salary.pristine||i.salary.valid),oe(6),Z("hidden",i.gender.pristine||i.gender.valid),oe(6),Z("hidden",i.email.pristine||i.email.valid),oe(2),Z("disabled",i.employeeForm.invalid))},dependencies:[O_,iZ,Xb,rV,GX,HX,lE,cE,aV]})}return n})();const sPe=function(){return["/employee"]};let DZ=(()=>{class n{constructor(t){this.store=t,this.employees=[]}ngOnInit(){this.store.getEmployees().subscribe(t=>{this.employees=t.map(r=>({id:r.id,...r}))})}static#e=this.\u0275fac=function(r){return new(r||n)(I(TZ))};static#t=this.\u0275cmp=Vr({type:n,selectors:[["app-employees"]],decls:19,vars:2,consts:[[1,"btn","btn-primary",3,"routerLink"],[1,"container"],[1,"table"],["scope","col"]],template:function(r,i){1&r&&(ie(0,"a",0),Ge(1,"Add Employee"),se(),ie(2,"div",1)(3,"table",2)(4,"thead")(5,"tr")(6,"th",3),Ge(7,"Name"),se(),ie(8,"th",3),Ge(9,"Date of birth"),se(),ie(10,"th",3),Ge(11,"City"),se(),ie(12,"th",3),Ge(13,"Salary"),se(),ie(14,"th",3),Ge(15,"Gender"),se(),ie(16,"th",3),Ge(17,"Email"),se()()(),ar(18,"tbody"),se()()),2&r&&Z("routerLink",fD(1,sPe))},dependencies:[O_]})}return n})();const oPe=[{path:"employee",component:iPe},{path:"employees",component:DZ},{path:"",redirectTo:"employee",pathMatch:"full"},{path:"**",component:DZ}];let aPe=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Xe({type:n});static#n=this.\u0275inj=Ke({imports:[mX.forRoot(oPe),mX]})}return n})(),uPe=(()=>{class n{constructor(){this.title="employeeApp"}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Vr({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(r,i){1&r&&ar(0,"router-outlet")},dependencies:[FF]})}return n})();const cPe=["addListener","removeListener"],lPe=["addEventListener","removeEventListener"],dPe=["on","off"];function br(n,e,t,r){if(Ne(t)&&(r=t,t=void 0),r)return br(n,e,t).pipe(vF(r));const[i,s]=function pPe(n){return Ne(n.addEventListener)&&Ne(n.removeEventListener)}(n)?lPe.map(o=>a=>n[o](e,a,t)):function hPe(n){return Ne(n.addListener)&&Ne(n.removeListener)}(n)?cPe.map(SZ(n,e)):function fPe(n){return Ne(n.on)&&Ne(n.off)}(n)?dPe.map(SZ(n,e)):[];if(!i&&WE(n))return Cn(o=>br(o,e,t))(Sn(n));if(!i)throw new TypeError("Invalid event target");return new Ye(o=>{const a=(...u)=>o.next(1<u.length?u:u[0]);return i(a),()=>s(a)})}function SZ(n,e){return t=>r=>n[t](e,r)}const{isArray:mPe}=Array;function AZ(n){return 1===n.length&&mPe(n[0])?n[0]:n}function lV(...n){const e=hy(n),t=AZ(n);return t.length?new Ye(r=>{let i=t.map(()=>[]),s=t.map(()=>!1);r.add(()=>{i=s=null});for(let o=0;!r.closed&&o<t.length;o++)Sn(t[o]).subscribe(wt(r,a=>{if(i[o].push(a),i.every(u=>u.length)){const u=i.map(c=>c.shift());r.next(e?e(...u):u),i.some((c,l)=>!c.length&&s[l])&&r.complete()}},()=>{s[o]=!0,!i[o].length&&r.complete()}));return()=>{i=s=null}}):$i}function dV(...n){const e=hy(n);return jt((t,r)=>{const i=n.length,s=new Array(i);let o=n.map(()=>!1),a=!1;for(let u=0;u<i;u++)Sn(n[u]).subscribe(wt(r,c=>{s[u]=c,!a&&!o[u]&&(o[u]=!0,(a=o.every(ss))&&(o=null))},Su));t.subscribe(wt(r,u=>{if(a){const c=[u,...s];r.next(e?e(...c):c)}}))})}Math,Math,Math;const Mke=["*"],u2e=["dialog"];function ol(n){return"string"==typeof n}function al(n){return null!=n}function bf(n){return(n||document.body).getBoundingClientRect()}const XZ={animation:!0,transitionTimerDelayMs:5},eFe=()=>{},{transitionTimerDelayMs:tFe}=XZ,W_=new Map,vi=(n,e,t,r)=>{let i=r.context||{};const s=W_.get(e);if(s)switch(r.runningTransition){case"continue":return $i;case"stop":n.run(()=>s.transition$.complete()),i=Object.assign(s.context,i),W_.delete(e)}const o=t(e,r.animation,i)||eFe;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>o()),pe(void 0).pipe(function X2e(n){return e=>new Ye(t=>e.subscribe({next:o=>n.run(()=>t.next(o)),error:o=>n.run(()=>t.error(o)),complete:()=>n.run(()=>t.complete())}))}(n));const a=new rt,u=new rt,c=a.pipe(function yPe(...n){return e=>g_(e,pe(...n))}(!0));W_.set(e,{transition$:a,complete:()=>{u.next(),u.complete()},context:i});const l=function Z2e(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const d=br(e,"transitionend").pipe(yn(c),er(({target:f})=>f===e));(function xZ(...n){return 1===(n=AZ(n)).length?Sn(n[0]):new Ye(function _Pe(n){return e=>{let t=[];for(let r=0;t&&!e.closed&&r<n.length;r++)t.push(Sn(n[r]).subscribe(wt(e,i=>{if(t){for(let s=0;s<t.length;s++)s!==r&&t[s].unsubscribe();t=null}e.next(i)})))}}(n))})(function CZ(n=0,e,t=yve){let r=-1;return null!=e&&(XV(e)?t=e:r=e),new Ye(i=>{let s=function gPe(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}(l+tFe).pipe(yn(c)),d,u).pipe(yn(c)).subscribe(()=>{W_.delete(e),n.run(()=>{o(),a.next(),a.complete()})})}),a.asObservable()};let gE=(()=>{class n{constructor(){this.animation=XZ.animation}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),aee=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Xe({type:n});static#n=this.\u0275inj=Ke({})}return n})(),uee=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Xe({type:n});static#n=this.\u0275inj=Ke({})}return n})(),dee=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Xe({type:n});static#n=this.\u0275inj=Ke({})}return n})(),hee=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Xe({type:n});static#n=this.\u0275inj=Ke({})}return n})();var It=function(n){return n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",n}(It||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const vee=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Iee(n){const e=Array.from(n.querySelectorAll(vee)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let Oee=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Xe({type:n});static#n=this.\u0275inj=Ke({})}return n})(),Fee=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Xe({type:n});static#n=this.\u0275inj=Ke({})}return n})();class hl{constructor(e,t,r){this.nodes=e,this.viewRef=t,this.componentRef=r}}let eVe=(()=>{class n{constructor(t,r){this._el=t,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe(Ir(1)).subscribe(()=>{vi(this._zone,this._el.nativeElement,(t,r)=>{r&&bf(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return vi(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(r){return new(r||n)(I(st),I(Oe))};static#t=this.\u0275cmp=Vr({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(r,i){2&r&&(Bu("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),Ze("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[Qi],decls:0,vars:0,template:function(r,i){},encapsulation:2})}return n})();class Vee{update(e){}close(e){}dismiss(e){}}const tVe=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],nVe=["animation","backdropClass"];class rVe{_applyWindowOptions(e,t){tVe.forEach(r=>{al(t[r])&&(e[r]=t[r])})}_applyBackdropOptions(e,t){nVe.forEach(r=>{al(t[r])&&(e[r]=t[r])})}update(e){this._applyWindowOptions(this._windowCmptRef.instance,e),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,e)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(yn(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(yn(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(e,t,r,i){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new rt,this._dismissed=new rt,this._hidden=new rt,e.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,o)=>{this._resolve=s,this._reject=o}),this.result.then(null,()=>{})}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function KZ(n){return n&&n.then}(t)?!1!==t&&this._dismiss(e):t.then(r=>{!1!==r&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():pe(void 0);e.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),lV(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var kV=function(n){return n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",n}(kV||{});let iVe=(()=>{class n{constructor(t,r,i){this._document=t,this._elRef=r,this._zone=i,this._closed$=new rt,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new de,this.shown=new rt,this.hidden=new rt}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":ol(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Ir(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,r={animation:this.animation,runningTransition:"stop"},o=lV(vi(this._zone,t,()=>t.classList.remove("show"),r),vi(this._zone,this._dialogEl.nativeElement,()=>{},r));return o.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),o}_show(){const t={animation:this.animation,runningTransition:"continue"};lV(vi(this._zone,this._elRef.nativeElement,(s,o)=>{o&&bf(s),s.classList.add("show")},t),vi(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{br(t,"keydown").pipe(yn(this._closed$),er(i=>i.which===It.Escape)).subscribe(i=>{this.keyboard?requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss(kV.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;br(this._dialogEl.nativeElement,"mousedown").pipe(yn(this._closed$),On(()=>r=!1),os(()=>br(t,"mouseup").pipe(yn(this._closed$),Ir(1))),er(({target:i})=>t===i)).subscribe(()=>{r=!0}),br(t,"click").pipe(yn(this._closed$)).subscribe(({target:i})=>{t===i&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(kV.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const r=t.querySelector("[ngbAutofocus]"),i=Iee(t)[0];(r||i||t).focus()}}_restoreFocus(){const t=this._document.body,r=this._elWithFocus;let i;i=r&&r.focus&&t.contains(r)?r:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&vi(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(r){return new(r||n)(I(Mn),I(st),I(Oe))};static#t=this.\u0275cmp=Vr({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(r,i){if(1&r&&$u(u2e,7),2&r){let s;dt(s=function ht(){return function Kce(n,e){return n[ks].queries[e].queryList}(N(),sB())}())&&(i._dialogEl=s.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(r,i){2&r&&(at("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),Bu("modal d-block"+(i.windowClass?" "+i.windowClass:"")),Ze("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[Qi],ngContentSelectors:Mke,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(r,i){1&r&&(function s$(n){const e=N()[an][Tr];if(!e.projection){const r=e.projection=Zf(n?n.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const o=n?mae(s,n):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}(),ie(0,"div",0,1)(2,"div",2),function o$(n,e=0,t){const r=N(),i=$e(),s=nd(i,ke+n,16,null,t||null);null===s.projection&&(s.projection=e),bT(),(!r[Eo]||Ol())&&32!=(32&s.flags)&&function vie(n,e,t){aU(e[be],0,e,t,QT(n,t,e),tU(t.parent||e[Tr],t,e))}(i,r,s)}(3),se()()),2&r&&Bu("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+i.fullscreenClass+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return n})(),sVe=(()=>{class n{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,i=r.style,{overflow:s,paddingRight:o}=i;if(t>0){const a=parseFloat(window.getComputedStyle(r).paddingRight);i.paddingRight=`${a+t}px`}return i.overflow="hidden",()=>{t>0&&(i.paddingRight=o),i.overflow=s}}static#e=this.\u0275fac=function(r){return new(r||n)(Y(Mn))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),oVe=(()=>{class n{constructor(t,r,i,s,o,a,u){this._applicationRef=t,this._injector=r,this._environmentInjector=i,this._document=s,this._scrollBar=o,this._rendererFactory=a,this._ngZone=u,this._activeWindowCmptHasChanged=new rt,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new de,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const c=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,r=!1)=>{n.runOutsideAngular(()=>{const i=br(e,"focusin").pipe(yn(t),Fe(s=>s.target));br(e,"keydown").pipe(yn(t),er(s=>s.which===It.Tab),dV(i)).subscribe(([s,o])=>{const[a,u]=Iee(e);(o===a||o===e)&&s.shiftKey&&(u.focus(),s.preventDefault()),o===u&&!s.shiftKey&&(a.focus(),s.preventDefault())}),r&&br(e,"click").pipe(yn(t),dV(i),Fe(s=>s[1])).subscribe(s=>s.focus())})})(this._ngZone,c.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(c.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,r,i){const s=i.container instanceof HTMLElement?i.container:al(i.container)?this._document.querySelector(i.container):this._document.body,o=this._rendererFactory.createRenderer(null,null);if(!s)throw new Error(`The specified modal container "${i.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const a=new Vee,u=(t=i.injector||t).get(oi,null)||this._environmentInjector,c=this._getContentRef(t,u,r,a,i);let l=!1!==i.backdrop?this._attachBackdrop(s):void 0,d=this._attachWindowComponent(s,c.nodes),h=new rVe(d,c,l,i.beforeDismiss);return this._registerModalRef(h),this._registerWindowCmpt(d),h.hidden.pipe(Ir(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(o.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),a.close=f=>{h.close(f)},a.dismiss=f=>{h.dismiss(f)},a.update=f=>{h.update(f)},h.update(i),1===this._modalRefs.length&&o.addClass(this._document.body,"modal-open"),l&&l.instance&&l.changeDetectorRef.detectChanges(),d.changeDetectorRef.detectChanges(),h}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(r=>r.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let r=$D(eVe,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_attachWindowComponent(t,r){let i=$D(iVe,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:r});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_getContentRef(t,r,i,s,o){return i?i instanceof Gt?this._createFromTemplateRef(i,s):ol(i)?this._createFromString(i):this._createFromComponent(t,r,i,s,o):new hl([])}_createFromTemplateRef(t,r){const s=t.createEmbeddedView({$implicit:r,close(o){r.close(o)},dismiss(o){r.dismiss(o)}});return this._applicationRef.attachView(s),new hl([s.rootNodes],s)}_createFromString(t){const r=this._document.createTextNode(`${t}`);return new hl([[r]])}_createFromComponent(t,r,i,s,o){const u=$D(i,{environmentInjector:r,elementInjector:Rn.create({providers:[{provide:Vee,useValue:s}],parent:t})}),c=u.location.nativeElement;return o.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(u.hostView),new hl([[c]],u.hostView,u)}_setAriaHidden(t){const r=t.parentElement;r&&t!==this._document.body&&(Array.from(r.children).forEach(i=>{i!==t&&"SCRIPT"!==i.nodeName&&(this._ariaHiddenValues.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,r)=>{t?r.setAttribute("aria-hidden",t):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const r=()=>{const i=this._modalRefs.indexOf(t);i>-1&&(this._modalRefs.splice(i,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(r,r)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const r=this._windowCmpts.indexOf(t);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(r){return new(r||n)(Y(Ea),Y(Rn),Y(oi),Y(Mn),Y(sVe),Y(E1),Y(Oe))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),aVe=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}static#e=this.\u0275fac=function(r){return new(r||n)(Y(gE))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),uVe=(()=>{class n{constructor(t,r,i){this._injector=t,this._modalStack=r,this._config=i}open(t,r={}){const i={...this._config,animation:this._config.animation,...r};return this._modalStack.open(this._injector,t,i)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(r){return new(r||n)(Y(Rn),Y(oVe),Y(aVe))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Lee=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Xe({type:n});static#n=this.\u0275inj=Ke({providers:[uVe]})}return n})(),jee=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Xe({type:n});static#n=this.\u0275inj=Ke({})}return n})(),Qee=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Xe({type:n});static#n=this.\u0275inj=Ke({})}return n})(),Jee=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Xe({type:n});static#n=this.\u0275inj=Ke({})}return n})(),Xee=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Xe({type:n});static#n=this.\u0275inj=Ke({})}return n})(),Zee=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Xe({type:n});static#n=this.\u0275inj=Ke({})}return n})(),ete=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Xe({type:n});static#n=this.\u0275inj=Ke({})}return n})(),tte=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Xe({type:n});static#n=this.\u0275inj=Ke({})}return n})(),nte=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Xe({type:n});static#n=this.\u0275inj=Ke({})}return n})(),rte=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Xe({type:n});static#n=this.\u0275inj=Ke({})}return n})();new re("live announcer delay",{providedIn:"root",factory:function SVe(){return 100}});let ite=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Xe({type:n});static#n=this.\u0275inj=Ke({})}return n})(),ste=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Xe({type:n});static#n=this.\u0275inj=Ke({})}return n})();const AVe=[aee,uee,dee,hee,Oee,Fee,Lee,jee,ste,Qee,Jee,Xee,Zee,ete,tte,nte,rte,ite];let xVe=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Xe({type:n});static#n=this.\u0275inj=Ke({imports:[AVe,aee,uee,dee,hee,Oee,Fee,Lee,jee,ste,Qee,Jee,Xee,Zee,ete,tte,nte,rte,ite]})}return n})(),RVe=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Xe({type:n,bootstrap:[uPe]});static#n=this.\u0275inj=Ke({imports:[Ufe,aPe,xVe,ePe,tPe,xve(()=>Rve(RRe_firebase)),SRe(()=>xRe())]})}return n})();Lfe().bootstrapModule(RVe).catch(n=>console.error(n))},614:()=>{const Ne=":";const dy=function(T,...b){if(dy.translate){const O=dy.translate(T,b);T=O[0],b=O[1]}let x=GE(T[0],T.raw[0]);for(let O=1;O<T.length;O++)x+=b[O-1]+GE(T[O],T.raw[O]);return x},$V=":";function GE(T,b){return b.charAt(0)===$V?T.substring(function Mf(T,b){for(let x=1,O=1;x<T.length;x++,O++)if("\\"===b[O])O++;else if(T[x]===Ne)return x;throw new Error(`Unterminated $localize metadata block in "${b}".`)}(T,b)+1):T}globalThis.$localize=dy}},Ne=>{var ua=ca=>Ne(Ne.s=ca);ua(614),ua(466)}]);